<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>é¥æ„Ÿäº‘å¹³å°</title>
    <link href="/2021/04/20/%E9%81%A5%E6%84%9F%E4%BA%91%E5%B9%B3%E5%8F%B0/"/>
    <url>/2021/04/20/%E9%81%A5%E6%84%9F%E4%BA%91%E5%B9%B3%E5%8F%B0/</url>
    
    <content type="html"><![CDATA[<p>åœ¨GoogleæˆåŠŸæ¨å¹¿GEEä¹‹åï¼Œå¾®è½¯ä¹Ÿæ¨å‡ºäº†<strong>Planetary Computer</strong>ï¼ˆæ‰€ä»¥çœŸæ˜¯åšPCç³»ç»Ÿèµ·å®¶çš„ğŸ¤¡ï¼‰ï¼Œä¸¤å¤§å·¨å¤´éƒ½ç„å‡†äº†ç©ºé—´äº‘è®¡ç®—æœåŠ¡ï¼ˆå¾®è½¯ä¼°è®¡æ˜¯ç›–èŒ¨å»ºè®®çš„ğŸ˜<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="How to Avoid a Climate Disaster">[1]</span></a></sup>ï¼‰è¿™å—å¸‚åœºï¼ŒåŸºäºè‡ªèº«å¼ºå¤§çš„äº‘å­˜å‚¨èƒ½åŠ›ï¼Œä¸ºå…¨çƒç¯å¢ƒæ•°æ®æ‰¾äº†ä¸ªå¥½çš„å»å¤„ï¼ŒåŒæ—¶ä¹Ÿèƒ½è®©å¤§å®¶ç™½å«–<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="å¾®è½¯å®˜æ–¹å•†åŸ">[2]</span></a></sup>ä¸€ä¸‹ç®—åŠ›ï¼ˆæ¯•ç«Ÿæ˜¾å¡é‚£ä¹ˆè´µäº†ğŸ’´ğŸ’´ï¼‰===</p><p>è¿™æ˜¯ä¸ªå¯¼èˆªï¼Œä¼šæŒç»­æ›´æ–°è¿™ä¸¤ä¸ªäº§å“çš„ä½¿ç”¨ç¬”è®°åŠæ„Ÿæ‚Ÿã€‚</p><h2 id="Google-Earth-Engine"><a href="#Google-Earth-Engine" class="headerlink" title="Google Earth Engine"></a>Google Earth Engine</h2><blockquote><ol><li> <a href="%5Ba%5D(https://mattzou.com/2019/11/30/GEE%E7%AC%94%E8%AE%B0/)">å…¥é—¨ç¬”è®°</a> <strong>GEE</strong> åŸºç¡€ç¬”è®°</li><li> <a href="%5Bb%5D(https://mattzou.com/2019/11/30/GEE%E7%AC%94%E8%AE%B0_%E4%BA%A7%E5%93%81%E6%98%BE%E7%A4%BA/)">äº§å“æ˜¾ç¤º</a> <strong>GEE</strong> <code>code editor</code> åº”ç”¨</li></ol></blockquote><h2 id="Planetary-Computer"><a href="#Planetary-Computer" class="headerlink" title="Planetary Computer"></a>Planetary Computer</h2><p>é‚€è¯·æµ‹è¯•é˜¶æ®µï¼Œ<a href="https://planetarycomputer.microsoft.com/">ç”³è¯·åœ°å€</a></p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.gatesnotes.com/Energy/My-new-climate-book-is-finally-here">How to Avoid a Climate Disaster</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.microsoftstore.com.cn/">å¾®è½¯å®˜æ–¹å•†åŸ</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>ç›®å½•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äº‘æœåŠ¡</tag>
      
      <tag>é¥æ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 æ€»ç»“</title>
    <link href="/2021/04/15/R-ggplot2/"/>
    <url>/2021/04/15/R-ggplot2/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ggplot2ä½¿ç”¨æ€»ç»“ï¼Œå„ç§å‘å’ŒæŠ€å·§</p></blockquote><span id="more"></span><h2 id="What-is-ggplot2"><a href="#What-is-ggplot2" class="headerlink" title="What is ggplot2"></a>What is ggplot2</h2><p><a href="https://ggplot2.tidyverse.org/index.html"><strong>ggplot2</strong></a>æ˜¯<a href="https://www.tidyverse.org/">tidyverse</a>å®¶æ—ä¸­è¿›è¡Œæ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒpackage<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/tidyverse.jpg/pic"></p><h2 id="How-to-use-ggplot2"><a href="#How-to-use-ggplot2" class="headerlink" title="How to use ggplot2"></a>How to use ggplot2</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">install.packages<span class="token punctuation">(</span><span class="token string">"tidyverse"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æ­é…<a href="https://www.rstudio.com/products/rstudio/">RStudio</a>é£Ÿç”¨æ›´ä½³ã€‚</p><h3 id="åŠŸèƒ½é€Ÿè§ˆ"><a href="#åŠŸèƒ½é€Ÿè§ˆ" class="headerlink" title="åŠŸèƒ½é€Ÿè§ˆ"></a>åŠŸèƒ½é€Ÿè§ˆ</h3><ol><li>Rstudioæä¾›ä¸€ç³»åˆ—çš„<a href="https://www.rstudio.com/resources/cheatsheets/">Cheatsheets</a>ç”¨äºå¿«é€Ÿå…¥é—¨åŠæ ¸å¿ƒåŠŸèƒ½é€ŸæŸ¥ï¼Œggplot2éƒ¨åˆ†å¯<a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf">ä¸‹è½½</a>ã€‚</li><li>å„å‡½æ•°è¯¦ç»†å‚æ•°åŠç¤ºä¾‹å‚è§<a href="https://ggplot2.tidyverse.org/reference/index.html">Reference</a>ã€‚</li><li>ggplot2è¿˜æ”¯æŒ<a href="https://exts.ggplot2.tidyverse.org/gallery/">æ‹“å±•åŒ…</a>ï¼Œé’ˆå¯¹ç‰¹æ®ŠåŠŸèƒ½ï¼Œå¦‚<a href="https://gganimate.com/">åŠ¨æ€å›¾ç‰‡</a>ã€<a href="https://github.com/jrnold/ggthemes">ä¸»é¢˜è®¾å®š</a>ã€<a href="https://github.com/aphalo/ggpmisc/">å›¾è¡¨æ³¨é‡Š</a>ã€<a href="%5Bggstatsplot%5D(https://github.com/IndrajeetPatil/ggstatsplot)">å¢å¼ºå‹ç»Ÿè®¡å›¾è¡¨</a>ç­‰ï¼Œæ‹“å±•åŒ…æä¾›äº†æ›´å¥½çš„å°è£…ï¼Œç®€åŒ–ä½¿ç”¨ã€‚</li></ol><h3 id="å¯è§†åŒ–ç†å¿µ"><a href="#å¯è§†åŒ–ç†å¿µ" class="headerlink" title="å¯è§†åŒ–ç†å¿µ"></a>å¯è§†åŒ–ç†å¿µ</h3><ul><li><strong>ä½œè€…æ„å›¾</strong><blockquote><p>All plots are composed of the <strong>data</strong>, the information you want to visualise, and a <strong>mapping</strong>, the description of how the dataâ€™s variables are mapped to aesthetic attributes.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggplot2: elegant graphics for data analysis">[1]</span></a></sup><br><a href="http://hadley.nz/">Hadley Wickham</a></p></blockquote></li><li><strong>æˆ‘çš„ç†è§£</strong><br>gg:  <strong>Grammar of Graphics</strong>ï¼Œggplot2ï¼ŒæŠŠå›¾åˆ†ä¸ºæ•°æ®ï¼Œå‡ ä½•å›¾å½¢ï¼Œå›¾å½¢å±æ€§ç­‰å‡ ä¸ªéƒ¨åˆ†ï¼ŒæŠŠå›¾çš„å„ä¸ªéƒ¨åˆ†å®šä¹‰ä¸ºç»„ä»¶å½¢å¼ï¼Œç»„ä»¶å®ç°æ•°æ®ä¸å‡ ä½•å¯¹è±¡çš„æ˜ å°„ï¼Œé€šè¿‡å›¾å½¢å±æ€§å®šä¹‰ç»„ä»¶ä¹‹é—´çš„ç»„åˆå½¢å¼è¿›è¡Œç»˜å›¾ã€‚</li></ul><h2 id="Tricks-and-Bugs"><a href="#Tricks-and-Bugs" class="headerlink" title="Tricks and Bugs"></a>Tricks and Bugs</h2><h3 id="Framework"><a href="#Framework" class="headerlink" title="Framework"></a>Framework</h3><p>ä¸ªäººä¹ æƒ¯æŒ‰ä»¥ä¸‹æ ¸å¿ƒæ¡†æ¶ç»˜å›¾ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">&lt;-</span>  <span class="token comment"># åˆ›å»ºç©ºç™½ggplotå¯¹è±¡</span> ggplot<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token comment"># æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå‡ ä½•å¯¹è±¡</span> <span class="token comment"># ä¸ªäººä¸å¤ªå–œæ¬¢æŠŠdataå’Œaesæ”¾åœ¨ggplot()é‡Œå…¨å±€è®¾ç½®</span> <span class="token comment"># å¦‚æœå¤šä¸ªå‡ ä½•å¯¹è±¡åˆ†åˆ«ä½¿ç”¨ä¸åŒæ•°æ®æºï¼ŒæŒ‡å®šå…¨å±€è®¾ç½®ä¼šé€ æˆæ··ä¹±</span> geom_point<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># è®¾ç½®åæ ‡è½´æ ‡é¢˜</span> labs<span class="token punctuation">(</span>x <span class="token operator">=</span> <span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># è®¾ç½®åæ ‡è½´ç¼©æ”¾</span> scale_x_continuous<span class="token punctuation">(</span>limits <span class="token operator">=</span> <span class="token punctuation">,</span> breaks <span class="token operator">=</span> <span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># æ·»åŠ æ ‡æ³¨</span> annotate<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># è®¾ç½®ä¸»é¢˜æ ·å¼</span> theme_bw<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># è¦†å†™éƒ¨åˆ†ä¸»é¢˜é…ç½®</span> theme<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å„ç±»å›¾éƒ½å¯ä»¥åœ¨æ­¤æ¨¡æ¿åŸºç¡€ä¸Šè¿›è¡Œè°ƒæ•´ä¸è‡ªå®šä¹‰ï¼Œè¯¦ç»†é…ç½®å»ºè®®å‚è€ƒ<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Function Reference">[2]</span></a></sup>ã€‚</p><p>ä»¥ä¸‹å†…å®¹ä¸ºæˆ‘åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­è°ƒæ•´å’Œé…ç½®çš„tricksã€‚</p><h3 id="Geoms"><a href="#Geoms" class="headerlink" title="Geoms"></a>Geoms</h3><ul><li><p>geom_point<br>æŸ¥çœ‹è®¾ç½®ç‚¹çš„å½¢çŠ¶</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">ggpubr<span class="token operator">::</span>show_point_shapes<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/pointtype.png/pic"></p></li><li><p>geom_line<br>æŸ¥çœ‹è®¾ç½®çº¿çš„å½¢çŠ¶</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">ggpubr<span class="token operator">::</span>show_line_types<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/linetype.jpg/pic"></p></li></ul><h3 id="Scales"><a href="#Scales" class="headerlink" title="Scales"></a>Scales</h3><ul><li><p><a href="https://mattzou.com/2019/11/23/ggplot2-Axis/">ggplot2 åæ ‡è½´è°ƒæ•´</a></p></li><li><p><a href="https://mattzou.com/2020/07/16/ggplot2-Expression/">ggplot2 ä½¿ç”¨expressionæ·»åŠ å…¬å¼ä¸æ•°å­¦ç¬¦å·</a></p></li><li><p><a href="https://mattzou.com/2019/11/23/ggplot2-Dual-Axis/">ggplot2 åŒåæ ‡è½´å®ç°</a></p></li></ul><h3 id="Themes"><a href="#Themes" class="headerlink" title="Themes"></a>Themes</h3><p>ç”¨äºè°ƒæ•´<code>theme(...)</code>ä¸­çš„å†…å®¹ã€‚</p><ul><li><p>èƒŒæ™¯è‰²</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># æ— å¡«å……åˆ™è®¾ç½®ä¸º element_blank()</span><span class="token comment"># ç»˜å›¾åŒº</span>panel.background <span class="token operator">=</span> element_rect<span class="token punctuation">(</span>fill<span class="token punctuation">,</span> color<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment"># ç»˜å›¾åŒºå¤–ä¾§</span>plot.background <span class="token operator">=</span> element_rect<span class="token punctuation">(</span>fill<span class="token punctuation">,</span> color<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>ç½‘æ ¼çº¿</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># ä¸»ç½‘æ ¼</span>panel.grid.major <span class="token operator">=</span> element_line<span class="token punctuation">(</span>colour<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># æ¬¡ç½‘æ ¼</span>panel.grid.minor <span class="token operator">=</span> element_line<span class="token punctuation">(</span>colour<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>ç»˜å›¾è¾¹è·<br>æŸ¥çœ‹é»˜è®¤ç»˜å›¾è¾¹è·<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="r - é»˜è®¤çš„ggplot2ç»˜å›¾è¾¹è·æ˜¯å¤šå°‘?">[3]</span></a></sup>ï¼Œå…¶ä»–è¾¹è·å†…å®¹å‚è§<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="Rè¯­è¨€åŸºç¡€ç»˜å›¾ä¹‹è¾¹è·å‚æ•°">[4]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># é»˜è®¤ä¸»é¢˜</span>theme_grey<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">$</span>plot.margin<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5.5</span>pt <span class="token number">5.5</span>pt <span class="token number">5.5</span>pt <span class="token number">5.5</span>pt<span class="token comment"># å…¶ä»–ä¸»é¢˜ï¼ˆæ¨èï¼‰</span>theme_get<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">$</span>plot.margin <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p><a href="https://mattzou.com//2020/07/14/ggplot2-Legend/">ggplot2 è°ƒæ•´å›¾ä¾‹</a></p></li></ul><h3 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h3><p><a href="https://mattzou.com/2019/04/21/ggplot2-Color/">ggplot2 é¢œè‰²é…ç½®</a></p><h3 id="Font"><a href="#Font" class="headerlink" title="Font"></a>Font</h3><p>ç»˜å›¾ä½¿ç”¨<code>Times New Roman</code>å­—ä½“ã€‚</p><ol><li>å®šä¹‰å­—ä½“æ ·å¼<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">windowsFonts<span class="token punctuation">(</span>RMN <span class="token operator">=</span> windowsFont<span class="token punctuation">(</span><span class="token string">"Times New Roman"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li>åœ¨éœ€è¦è®¾ç½®å­—ä½“çš„ä½ç½®è®¾ç½®<code>family</code>å±æ€§<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">family <span class="token operator">=</span> <span class="token string">"RMN"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li></ol><h3 id="Facetting"><a href="#Facetting" class="headerlink" title="Facetting"></a>Facetting</h3><p><a href="https://mattzou.com/2019/07/03/ggplot2-Facet/">ggplot2 åˆ†é¢ç»˜å›¾</a></p><h3 id="Annotations"><a href="#Annotations" class="headerlink" title="Annotations"></a>Annotations</h3><p><a href="https://mattzou.com/2020/10/21/ggplot2-Annotation/">ggplot2 æ·»åŠ æ³¨é‡Š</a></p><h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><ul><li><p>ggplot2 æä¾›äº†å¼ºå¤§çš„è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡é•¿æœŸä½¿ç”¨å½¢æˆé€‚åº”è‡ªå·±ç ”ç©¶ä½“ç³»çš„ç»˜å›¾æ¨¡æ¿ï¼Œæ–¹ä¾¿ç»˜å›¾çš„æ ‡å‡†åŒ–ï¼Œæœªæ¥ä½¿ç”¨æ—¶å¯å°†æ›´å¤šç²¾åŠ›æ”¾åœ¨æ•°æ®å¤„ç†ä¸Šã€‚</p></li><li><p>ä½†æ›´é«˜çš„çµæ´»åº¦æ„å‘³ç€ç®€å•åŠŸèƒ½å¯èƒ½ä¹Ÿéœ€è¦å¤æ‚ä»£ç å®ç°ï¼ˆæˆ–è€…æ ¹æœ¬å®ç°ä¸äº†ï¼Œéœ€è¦ç»•è·¯ğŸ˜‚ï¼‰ï¼Œå¦‚æœæŠ˜è…¾ç²¾åŠ›ä¸å¤Ÿï¼Œå»ºè®®ç®€å•å›¾è¿˜æ˜¯ä½¿ç”¨ä¼ ç»Ÿç»˜å›¾è½¯ä»¶ã€‚</p></li><li><p>å¯¹äºç‰¹åˆ«å¤æ‚çš„å›¾ï¼Œå„ç§é«˜ç«¯ç‚«é…·çš„ä»¥åŠ3Dç±»è¿˜æ˜¯å»ºè®®AI+PSï¼ˆæ‡‚å¾—éƒ½æ‡‚ğŸ˜ï¼‰ã€åœ°ç†ç©ºé—´ç±»åˆ™å»ºè®®ä½¿ç”¨<code>Python</code>çš„<a href="https://geopandas.org/">Geopandas</a>ï¼Œæœºå™¨å­¦ä¹ ç±»çš„å›¾ä¹Ÿæ˜¯<code>Python</code>æä¾›çš„è½®å­æ›´å¤šã€‚</p></li></ul><blockquote><p>ggplot2 è™½å¥½ï¼Œ å¯ä¸è¦è´ªæ¯ğŸ»å“¦</p></blockquote><h2 id="Acknowledgements"><a href="#Acknowledgements" class="headerlink" title="Acknowledgements"></a>Acknowledgements</h2>   <a href="https://mattzou.com/2021/04/15/R-ggplot2/#Acknowledgements" class="card-body hover-with-bg" target="_blank" rel="noopener">     <div class="card-content">      <div class="link-avatar my-auto">        <img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/%E7%8C%B4%E5%AD%90%E5%A5%B3%E7%8E%8B.jpg" alt=""             onerror="this.onerror=null; this.srcset=null; this.src=''"/>      </div>       <div class="link-text">         <div class="link-title">ğŸ’ğŸ‘‘</div>         <div class="link-intro"></div>       </div>     </div>   </a>   <a href="https://mattzou.com/2021/04/15/R-ggplot2/#Acknowledgements" class="card-body hover-with-bg" target="_blank" rel="noopener">     <div class="card-content">      <div class="link-avatar my-auto">        <img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/%E6%96%87%E4%BB%B6%E4%BC%A0%E5%81%B7%E5%8A%A9%E7%90%86.jpg" alt=""             onerror="this.onerror=null; this.srcset=null; this.src=''"/>      </div>       <div class="link-text">         <div class="link-title">æ–‡ä»¶ä¼ å·åŠ©ç†</div>         <div class="link-intro"></div>       </div>     </div>   </a><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://ggplot2-book.org/index.html">ggplot2: elegant graphics for data analysis</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/index.html">Function Reference</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://www.coder.work/article/6542920">r - é»˜è®¤çš„ggplot2ç»˜å›¾è¾¹è·æ˜¯å¤šå°‘?</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://www.jianshu.com/p/5fbaf17d9aee">Rè¯­è¨€åŸºç¡€ç»˜å›¾ä¹‹è¾¹è·å‚æ•°</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>ç›®å½•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ğŸ˜PPTç³»ç»ŸğŸ¤£</title>
    <link href="/2021/04/10/Env-PPT%E7%B3%BB%E7%BB%9F/"/>
    <url>/2021/04/10/Env-PPT%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<p>æŠŠä¹‹å‰çš„è®¾è®¡æ•´åˆä¸€ä¸‹ï¼Œå‹‰å¼ºçœ‹çœ‹ã€‚</p><br><div class="row">    <embed src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Environment/%E7%B3%BB%E7%BB%9F.pdf" width="100%" height="550" type="application/pdf"></div><br>]]></content>
    
    
    <categories>
      
      <category>ç¯ä¿</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äº‘æœåŠ¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mendeley æ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®</title>
    <link href="/2021/04/03/Mendeley/"/>
    <url>/2021/04/03/Mendeley/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘ä½¿ç”¨Mendeleyï¼Œç ”ç©¶äº†ä¸€ä¸‹å¼•æ–‡æ ¼å¼è°ƒæ•´æ–¹æ³•å’ŒæŠ€å·§ã€‚</p></blockquote><span id="more"></span><h2 id="Mendeleyæ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®"><a href="#Mendeleyæ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®" class="headerlink" title="Mendeleyæ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®"></a>Mendeleyæ–‡çŒ®å¼•ç”¨æ ¼å¼è®¾ç½®</h2><p><strong>æ³¨æ„ï¼šä»…é€‚ç”¨äºWindowsç¯å¢ƒï¼Œå½“å‰æµ‹è¯•ç¯å¢ƒï¼šç³»ç»Ÿç‰ˆæœ¬Win10 21313.1000ï¼Œè½¯ä»¶ç‰ˆæœ¬1.19.8</strong><br>Mendeleyå¼•æ–‡æ ¼å¼ä¸»è¦é€šè¿‡åœ¨çº¿æ–¹å¼ä¸‹è½½æ›´æ–°ï¼Œå¯¹æ ¼å¼çš„è‡ªå®šä¹‰å¯é€šè¿‡å…¶æä¾›çš„CSLåœ¨çº¿ç¼–è¾‘å™¨è¿›è¡Œï¼ŒåŒæ—¶Mendeleyä¹Ÿæ”¯æŒæœ¬åœ°ç¼–è¯‘å¥½çš„CSLæ–‡ä»¶é…ç½®ã€‚</p><h3 id="å¼•æ–‡æ ¼å¼é…ç½®æ–‡ä»¶"><a href="#å¼•æ–‡æ ¼å¼é…ç½®æ–‡ä»¶" class="headerlink" title="å¼•æ–‡æ ¼å¼é…ç½®æ–‡ä»¶"></a>å¼•æ–‡æ ¼å¼é…ç½®æ–‡ä»¶</h3><p><a href="http://citationstyles.org/">Citation Style Language</a><br>CSLç”¨äºé…ç½®å¼•æ–‡æ ¼å¼ï¼ŒZoteroã€Mendeleyç­‰è½¯ä»¶æ”¯æŒæ­¤æ–¹å¼å®šä¹‰å¼•æ–‡æ ¼å¼ã€‚</p><h3 id="Mendeleyä¸­è®¾ç½®å¸¸ç”¨æœŸåˆŠå¼•æ–‡æ–¹å¼"><a href="#Mendeleyä¸­è®¾ç½®å¸¸ç”¨æœŸåˆŠå¼•æ–‡æ–¹å¼" class="headerlink" title="Mendeleyä¸­è®¾ç½®å¸¸ç”¨æœŸåˆŠå¼•æ–‡æ–¹å¼"></a>Mendeleyä¸­è®¾ç½®å¸¸ç”¨æœŸåˆŠå¼•æ–‡æ–¹å¼</h3><ol><li>ç‚¹å‡»èœå•æ <code>View</code>-<code>Citation Style</code>-<code>More Styles...</code></li><li>å¼¹å‡ºçª—å£ä¸­é€‰æ‹©<code>Get More Styles</code><br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Mendeley/Mendeley_install.jpg/pic" alt="å®‰è£…"></li><li>æœç´¢å¯¹åº”æœŸåˆŠä¸‹è½½å®‰è£…å³å¯</li></ol><h3 id="Mendeleyä¸­ç¼–è¾‘å¼•æ–‡æ ¼å¼"><a href="#Mendeleyä¸­ç¼–è¾‘å¼•æ–‡æ ¼å¼" class="headerlink" title="Mendeleyä¸­ç¼–è¾‘å¼•æ–‡æ ¼å¼"></a>Mendeleyä¸­ç¼–è¾‘å¼•æ–‡æ ¼å¼</h3><ol><li>åœ¨å¼¹å‡ºçª—å£ä¸­æŸ¥çœ‹å·²å®‰è£…å¼•æ–‡æ ¼å¼ï¼Œå³é”®<code>Edit Style</code>ï¼Œè·³è½¬è¿›å…¥æµè§ˆå™¨è¿›è¡Œåœ¨çº¿ç¼–è¾‘<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Mendeley/Mendeley_edit.jpg/pic" alt="ç¼–è¾‘"></li><li>å¯è§†åŒ–ç¼–è¾‘åŒºåŸŸ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Mendeley/Mendeley_online_edit.jpg/pic" alt="åœ¨çº¿ç¼–è¾‘"></li></ol><ul><li>å·¦ä¾§æ ‘ç»“æ„ï¼Œå¯åˆ†åˆ«å¯¹å…¨å±€è®¾ç½®ã€æ–‡å†…å¼•ç”¨ã€å‚è€ƒä¹¦ç›®ã€å¼•æ–‡ç»„ä»¶è¿›è¡Œè®¾ç½®</li><li>é¼ æ ‡æ‚¬åœäºå³ä¾§ç¤ºä¾‹ä¸Šï¼Œå·¦ä¾§æ ‘ä¼šé«˜äº®æ˜¾è¿™å—å¼•æ–‡å†…å®¹æ¶‰åŠçš„é…ç½®é¡¹ç›®</li><li><strong>STYLE INFO</strong>ä¸­<code>Global Formatting Options</code>ï¼Œ<code>default-locale</code>é¡¹ç›®å¯è°ƒæ•´åˆ‡æ¢â€˜ç­‰â€˜ä¸â€™<em>et al</em>â€˜ï¼Œå‚æ•°åˆ†åˆ«ä¸ºâ€™zh-CNâ€˜ã€â€™en-USâ€˜</li><li>æ–‡å†…å¼•æ–‡(<strong>Inline Citations</strong>)å’Œå‚è€ƒä¹¦ç›®(<strong>Bibliography</strong>)<ul><li>ç”±<code>Group</code>ç»“æ„æ„æˆï¼Œ<code>Group</code>å†…æˆå‘˜ç”±<code>Macros</code>å®šä¹‰</li><li>ç‚¹å‡»æ ¹èŠ‚ç‚¹ï¼Œå…¶ä¸­<code>et-al-min</code>é¡¹ç›®è®¾ç½®å‡ ä¸ªä½œè€…åå‡ºç°â€™ç­‰â€˜</li><li><code>Sort</code>èŠ‚ç‚¹ï¼Œå®šä¹‰æ–‡çŒ®æ’åˆ—é¡ºåºï¼ŒæŒ‰ä½œè€…ã€æ—¶é—´ç­‰å‡é™åºè§„åˆ™ï¼Œå¯å®šä¹‰å¤šä¸ªè§„åˆ™ï¼Œä¼˜å…ˆçº§ç”±ä¸Šè‡³ä¸‹</li></ul></li></ul><h3 id="æœ¬åœ°CSLæ–‡ä»¶é…ç½®åŠä½¿ç”¨"><a href="#æœ¬åœ°CSLæ–‡ä»¶é…ç½®åŠä½¿ç”¨" class="headerlink" title="æœ¬åœ°CSLæ–‡ä»¶é…ç½®åŠä½¿ç”¨"></a>æœ¬åœ°CSLæ–‡ä»¶é…ç½®åŠä½¿ç”¨</h3><ul><li>å¦‚æœè¦ä½¿ç”¨[GB-T-7714] ç›¸å…³CSLï¼Œå¯ä»ä»¥ä¸‹repoä¸‹è½½<a href="https://github.com/redleafnew/Chinese-STD-GB-T-7714-related-csl">Chinese-STD-GB-T-7714-related-csl</a></li><li>Mendeleyå°†æ‰€æœ‰CSLæ–‡ä»¶å­˜å‚¨åœ¨å¦‚ä¸‹è·¯å¾„<blockquote><p>C:\Users\{User}\AppData\Local\Mendeley Ltd\Mendeley Desktop\citationStyles-1.0</p></blockquote></li><li>å°†ä¸‹è½½åçš„CSLç§»åŠ¨åˆ°æ­¤ç›®å½•</li><li>CSLæ–‡ä»¶ç±»ä¼¼XMLæ ·å¼ï¼Œå¯ä»¥ç›´æ¥æ›´æ”¹å…¶ä¸­é…ç½®<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Mendeley/Mendeley_CSL.jpg/pic" alt="æœ¬åœ°é…ç½®"></li><li>æ–‡ä»¶ä¿®æ”¹ä¿å­˜åï¼Œåœ¨<code>More Styles...</code>çª—å£ä¸­å·²å®‰è£…å¯è§ã€‚</li></ul><h2 id="æ¨èæ’ä»¶"><a href="#æ¨èæ’ä»¶" class="headerlink" title="æ¨èæ’ä»¶"></a>æ¨èæ’ä»¶</h2><h3 id="Mendeley-Reference-Manager"><a href="#Mendeley-Reference-Manager" class="headerlink" title="Mendeley Reference Manager"></a><a href="https://www.mendeley.com/reference-management/reference-manager">Mendeley Reference Manager</a></h3><p><img src="https://cms-cdn.mendeley.com/prod/2021-03/stable_release_desktop_latest_mrm_img.png?qQFcGBSStKhraR6U0otl7yyd3t0ZQdBR"><br>Mendeleyç°åœ¨ä¸»æ¨<strong>Mendeley Reference Manager</strong>ï¼Œè²Œä¼¼æœ‰æ„å–ä»£ç°æœ‰<strong>Desktop</strong>è½¯ä»¶ï¼Œæ„Ÿè§‰å°±æ˜¯ä¸€ä¸ªå¥—å£³æµè§ˆå™¨ğŸ˜‚</p><h3 id="Mendeley-Web-Importer"><a href="#Mendeley-Web-Importer" class="headerlink" title="Mendeley Web Importer"></a><a href="https://www.mendeley.com/reference-management/web-importer">Mendeley Web Importer</a></h3><p><img src="https://cms-cdn.mendeley.com/prod/2019-09/web_importer_chrome_desktop.png?TOU3kk7tQZboiFYrIn90RYh1TyDQvaTg"><br>æ–‡çŒ®å¯¼å…¥åˆ©å™¨ï¼Œæµè§ˆå™¨éšçœ‹éšå¯¼ï¼Œè‡ªåŠ¨è¯†åˆ«å†…å®¹o(ï¿£â–½ï¿£)ï½„</p>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mendeley</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äº¤é€šä¸GNN</title>
    <link href="/2020/12/11/Traffic-and-AI/"/>
    <url>/2020/12/11/Traffic-and-AI/</url>
    
    <content type="html"><![CDATA[<br><div class="row">    <embed src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Environment/Traffic%20and%20AI.pdf" width="100%" height="550" type="application/pdf"></div><br>]]></content>
    
    
    <categories>
      
      <category>ç¯ä¿</category>
      
    </categories>
    
    
    <tags>
      
      <tag>äº¤é€š</tag>
      
      <tag>GNN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 æ·»åŠ æ³¨é‡Š</title>
    <link href="/2020/10/21/ggplot2-Annotation/"/>
    <url>/2020/10/21/ggplot2-Annotation/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä»‹ç»ggplot2æ·»åŠ å›¾æ³¨é‡Š</p><h2 id="ä½¿ç”¨annotate"><a href="#ä½¿ç”¨annotate" class="headerlink" title="ä½¿ç”¨annotate()"></a>ä½¿ç”¨annotate()</h2><p>ggplot2 ä¸­æä¾›å„ç§çµæ´»çš„æ–¹å¼æ·»åŠ æ³¨é‡Šï¼Œæ¯”å¦‚ä½¿ç”¨<code>geom_text, geom_rect, geom_line</code>ç­‰ï¼Œä½†æˆ‘æ›´æ¨èä½¿ç”¨<code>annotate()</code>è¿›è¡Œæ ‡æ³¨ã€‚</p><p><code>annotate()</code>ä½¿ç”¨<code>vectors</code>ä¸­çš„å€¼è¿›è¡Œå‡ ä½•å¯¹è±¡æ•°æ®æ˜ å°„ï¼Œç›¸æ¯”<code>geom_</code>ç±»ä»<strong>data frame</strong>æ˜ å°„æ•°æ®æ›´åŠ è½»ä¾¿<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Create an annotation layer">[1]</span></a></sup>ã€‚</p><h2 id="æ ‡æ³¨ç±»å‹"><a href="#æ ‡æ³¨ç±»å‹" class="headerlink" title="æ ‡æ³¨ç±»å‹"></a>æ ‡æ³¨ç±»å‹</h2><p><code>annotate()</code>é€šè¿‡ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šæ ‡æ³¨ç±»å‹ï¼š</p><blockquote><p><code>&quot;text&quot;ï¼Œ&quot;rect&quot;ï¼Œ&quot;segment&quot;ï¼Œ&quot;pointrange&quot;ï¼Œ&quot;curve&quot;</code>ï¼Œ</p></blockquote><h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><ul><li><p>ä»¥åæ ‡å½¢å¼æŒ‡å®šæ ‡æ³¨æ”¾ç½®ä½ç½®</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> annotate<span class="token punctuation">(</span>    geom <span class="token operator">=</span> <span class="token string">"curve"</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">,</span> xend <span class="token operator">=</span> <span class="token number">2.65</span><span class="token punctuation">,</span> yend <span class="token operator">=</span> <span class="token number">27</span><span class="token punctuation">,</span>     curvature <span class="token operator">=</span> <span class="token number">.3</span><span class="token punctuation">,</span> arrow <span class="token operator">=</span> arrow<span class="token punctuation">(</span>length <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"mm"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span> <span class="token operator">+</span>  annotate<span class="token punctuation">(</span>geom <span class="token operator">=</span> <span class="token string">"text"</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">4.1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token string">"subaru"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/curve_annotation-1.png/pic"></p></li><li><p>å¯¹äº<code>&quot;rect&quot;</code>å‹æ ‡æ³¨ï¼Œé€šè¿‡è®¾ç½® <code>ymin/ymax</code> ä¸º <code>+/-Inf</code>ï¼Œç»˜åˆ¶èƒŒæ™¯åˆ†åŒºæ ·å¼<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Annotations">[2]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> geom_rect<span class="token punctuation">(</span>    aes<span class="token punctuation">(</span>xmin <span class="token operator">=</span> start<span class="token punctuation">,</span> xmax <span class="token operator">=</span> end<span class="token punctuation">,</span> fill <span class="token operator">=</span> party<span class="token punctuation">)</span><span class="token punctuation">,</span>     ymin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">Inf</span><span class="token punctuation">,</span> ymax <span class="token operator">=</span> <span class="token number">Inf</span><span class="token punctuation">,</span> alpha <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">,</span>     data <span class="token operator">=</span> presidential  <span class="token punctuation">)</span> <span class="token operator">+</span>   scale_fill_manual<span class="token punctuation">(</span>values <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/unemp-pres-1.png/pic"></p></li><li><p>åœ¨Facet<a href="https://mattzou.com/2019/07/03/ggplot2-Facet/#%E4%B8%BA%E4%B8%8D%E5%90%8C%E5%AD%90%E5%9B%BE%E5%A2%9E%E5%8A%A0%E6%A0%87%E6%B3%A8">å¢åŠ æ ‡æ³¨</a>å‚è€ƒæ­¤æ–‡ã€‚</p></li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/annotate.html">Create an annotation layer</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://ggplot2-book.org/annotations.html#annotations">Annotations</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 ä½¿ç”¨expressionæ·»åŠ å…¬å¼ä¸æ•°å­¦ç¬¦å·</title>
    <link href="/2020/07/16/ggplot2-Expression/"/>
    <url>/2020/07/16/ggplot2-Expression/</url>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶éœ€è¦åœ¨å›¾ä¸Šæ ‡æ³¨è¯¸å¦‚æ•°å­¦å…¬å¼ã€ä¸Šä¸‹æ ‡ç­‰ç¬¦å·ï¼Œè¯¥æ“ä½œå¯ä»¥é€šè¿‡<code>expression</code>å‡½æ•°å®Œæˆã€‚</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>å¦‚æœåœ¨ggplot2ä¸­<code>text</code>å‚æ•°æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼å½¢å¼ï¼ˆ<code>expression</code>ï¼‰ï¼Œåˆ™è¯¥å‚æ•°å°†è¢«æ ¹æ®ç±»ä¼¼TeXçš„è§„åˆ™å¯¹è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºã€‚<code>expression</code>å¯ç”¨äºæ ‡é¢˜ï¼Œæ³¨é‡Šä»¥åŠxè½´å’Œyè½´æ ‡ç­¾<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Mathematical Annotation in R">[1]</span></a></sup>ã€‚</p><p><code>expression</code>ä»£ç ä¸è¾“å‡ºçš„å¯¹åº”å…³ç³»å¦‚å›¾<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/expression.jpg/pic"></p><h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><h3 id="æ™®é€šlabel"><a href="#æ™®é€šlabel" class="headerlink" title="æ™®é€šlabel"></a>æ™®é€šlabel</h3><p>å¦‚æœåªæ˜¯è¾“å‡ºå•ç‹¬ç¬¦å·ï¼Œåˆ™ç‹¬ç«‹ä½¿ç”¨<strong>expression</strong>å³å¯ï¼Œå¦‚æœç»„åˆå¤æ‚å…¬å¼æˆ–æ·»åŠ æ–‡æœ¬æè¿°ï¼Œåˆ™åœ¨<strong>expression</strong>ä¸­ä½¿ç”¨<strong>paste</strong>è¿›è¡Œæ‹¼æ¥ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å…¨å…¬å¼</span> labels <span class="token operator">=</span> expression<span class="token punctuation">(</span><span class="token operator">-</span>pi<span class="token punctuation">,</span> <span class="token operator">-</span>pi<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> pi<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span> pi<span class="token punctuation">)</span><span class="token comment"># æ–‡æœ¬ä¸ç¬¦å·ç»„åˆ</span> xlab <span class="token operator">=</span> expression<span class="token punctuation">(</span>paste<span class="token punctuation">(</span><span class="token string">"Phase Angle "</span><span class="token punctuation">,</span> phi<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="facet-grid-ä¸­çš„label"><a href="#facet-grid-ä¸­çš„label" class="headerlink" title="facet_grid()ä¸­çš„label"></a><code>facet_grid()</code>ä¸­çš„label</h3><p>éœ€è¦å°†labelè§£ææ–¹å¼è®¾ç½®ä¸ºâ€label_parsedâ€<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Formatting Math Symbols and Expressions in ggplot Labels">[2]</span></a></sup>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">facet_grid<span class="token punctuation">(</span><span class="token operator">~</span> x<span class="token punctuation">,</span> label <span class="token operator">=</span> <span class="token string">"label_parsed"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="annotate-ä¸­çš„label"><a href="#annotate-ä¸­çš„label" class="headerlink" title="annotate()ä¸­çš„label"></a><code>annotate()</code>ä¸­çš„label</h3><p><strong>text</strong>ç±»å‹çš„æ ‡æ³¨ï¼Œéœ€å°†parseè®¾ç½®ä¸ºTRUEã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">annotate<span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span> label <span class="token operator">=</span> expression<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span> parse <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/plotmath.html">Mathematical Annotation in R</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.benjaminackerman.com/post/2019-03-08-equation_labels/">Formatting Math Symbols and Expressions in ggplot Labels</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 è°ƒæ•´å›¾ä¾‹</title>
    <link href="/2020/07/14/ggplot2-Legend/"/>
    <url>/2020/07/14/ggplot2-Legend/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä»‹ç»ggplot2é‡ŒLegendéƒ¨åˆ†è®¾ç½®</p><p>ggplot2æä¾›<code>guide_legend()</code>è®¾ç½®å›¾ä¾‹<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Legend guide">[1]</span></a></sup>ï¼Œæ›´å¤šå‚æ•°å¯å‚è€ƒã€‚</p><h2 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h2><p>ä»¥ä¸‹è®¾ç½®åœ¨<code>theme()</code>ä¸­é…ç½®ï¼Œå¸¸è§„è®¾ç½®è¯·å‚è€ƒ<a href="http://www.sthda.com/english/wiki/ggplot2-legend-easy-steps-to-change-the-position-and-the-appearance-of-a-graph-legend-in-r-software">æ­¤æ–‡</a>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å›¾ä¾‹ä½ç½®ä¸æ–‡å­—æ ·å¼è°ƒæ•´</span>legend.position <span class="token operator">=</span> <span class="token operator">|</span><span class="token string">"left"</span><span class="token punctuation">,</span> <span class="token string">"top"</span><span class="token punctuation">,</span> <span class="token string">"right"</span><span class="token punctuation">,</span> <span class="token string">"bottom"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token operator">|</span>legend.text <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span>legend.title <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>æˆ‘è‡ªå·±ç»˜å›¾æ—¶è¿˜å¯¹ä»¥ä¸‹å†…å®¹è¿›è¡Œè®¾ç½®ã€‚</p><h3 id="å›¾ä¾‹å°ºå¯¸ä¸è¾¹è·"><a href="#å›¾ä¾‹å°ºå¯¸ä¸è¾¹è·" class="headerlink" title="å›¾ä¾‹å°ºå¯¸ä¸è¾¹è·"></a>å›¾ä¾‹å°ºå¯¸ä¸è¾¹è·</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å›¾ä¾‹é•¿å®½</span> legend.key.size<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'mm'</span><span class="token punctuation">)</span> legend.key.width<span class="token operator">=</span>unit<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'mm'</span><span class="token punctuation">)</span><span class="token comment"># å›¾ä¾‹ä¸å›¾çš„è·ç¦»æˆ–ä¸¤ä¸ªå›¾ä¾‹ä¹‹é—´è·ç¦»</span> legend.margin<span class="token operator">=</span>margin<span class="token punctuation">(</span>b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.3</span><span class="token punctuation">,</span> unit<span class="token operator">=</span><span class="token string">'cm'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="å›¾ä¾‹æ–‡å­—ä¸é¢œè‰²æ˜ å°„"><a href="#å›¾ä¾‹æ–‡å­—ä¸é¢œè‰²æ˜ å°„" class="headerlink" title="å›¾ä¾‹æ–‡å­—ä¸é¢œè‰²æ˜ å°„"></a>å›¾ä¾‹æ–‡å­—ä¸é¢œè‰²æ˜ å°„</h3><p>å¯¹äº<code>aes()</code>äº§ç”Ÿçš„å›¾ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨<code>scale_color_identity</code>æˆ–<code>scale_color_manual</code>ä¸¤ç§æ–¹å¼è‡ªå®šä¹‰å›¾ä¾‹æ˜¾ç¤ºåç§°ä¸é¢œè‰²çš„æ˜ å°„å…³ç³»<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Creating legends when aesthetics are constants in ggplot2">[2]</span></a></sup></p><ol><li><code>aes</code>å®šä¹‰é¢œè‰²æè¿°ï¼Œé€šè¿‡labelæŒ‡å®šæ–‡å­—æè¿°<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">ggplot<span class="token punctuation">(</span>mtcars<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> hp<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span>     geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>     geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span>     geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> y <span class="token operator">~</span> poly<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>     geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> y <span class="token operator">~</span> poly<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>     scale_color_identity<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"Model fit"</span><span class="token punctuation">,</span>                          breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                          labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"Linear"</span><span class="token punctuation">,</span> <span class="token string">"Quadratic"</span><span class="token punctuation">,</span> <span class="token string">"Cubic"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                          guide <span class="token operator">=</span> <span class="token string">"legend"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><code>aes</code>å®šä¹‰æ–‡å­—æè¿°ï¼Œé€šè¿‡valueå»ºç«‹é¢œè‰²æ˜ å°„<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">ggplot<span class="token punctuation">(</span>mtcars<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>mpg<span class="token punctuation">,</span> hp<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span>  geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"Linear"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span>  geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> y <span class="token operator">~</span> poly<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"Quadratic"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> y <span class="token operator">~</span> poly<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> aes<span class="token punctuation">(</span>color <span class="token operator">=</span> <span class="token string">"Cubic"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  scale_color_manual<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"Model fit"</span><span class="token punctuation">,</span>                     breaks <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"Linear"</span><span class="token punctuation">,</span> <span class="token string">"Quadratic"</span><span class="token punctuation">,</span> <span class="token string">"Cubic"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                     values <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"Cubic"</span> <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"Quadratic"</span> <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"Linear"</span> <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol><h3 id="å›¾ä¾‹é¡ºåº"><a href="#å›¾ä¾‹é¡ºåº" class="headerlink" title="å›¾ä¾‹é¡ºåº"></a>å›¾ä¾‹é¡ºåº</h3><p>å¯¹äºå¤šä¸ªå›¾ä¾‹(size, shape, colour, alpha, fillç­‰)ï¼Œå¤šä¸ªå›¾ä¾‹é¡ºåºè°ƒæ•´æ–¹å¼å¦‚ä¸‹</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># nrowè°ƒèŠ‚è¡Œåˆ—æ•°ï¼Œorderè°ƒèŠ‚å¤šä¸ªå›¾ä¾‹çš„é¡ºåº</span>p <span class="token operator">+</span> guides<span class="token punctuation">(</span>colour <span class="token operator">=</span> guide_legend<span class="token punctuation">(</span>nrow <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> order <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>             fill <span class="token operator">=</span> guide_legend<span class="token punctuation">(</span>nrow <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> order <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h2 id="Open-airé£ç«ç‘°å›¾å›¾ä¾‹Labelå®šä¹‰"><a href="#Open-airé£ç«ç‘°å›¾å›¾ä¾‹Labelå®šä¹‰" class="headerlink" title="Open airé£ç«ç‘°å›¾å›¾ä¾‹Labelå®šä¹‰"></a>Open airé£ç«ç‘°å›¾å›¾ä¾‹Labelå®šä¹‰</h2><p>é€šè¿‡åŠ å…¥<code>key = list(labels = c())</code>è¿›è¡Œå®šä¹‰ï¼Œæ›¿æ¢ç°æœ‰label<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Changing the legend labels in a windrose from R openair">[3]</span></a></sup>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">library<span class="token punctuation">(</span>openair<span class="token punctuation">)</span>windRose<span class="token punctuation">(</span>mydata<span class="token punctuation">,</span> ws<span class="token operator">=</span><span class="token string">"ws"</span><span class="token punctuation">,</span> wd<span class="token operator">=</span><span class="token string">"wd"</span><span class="token punctuation">,</span> breaks<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1.5</span><span class="token punctuation">,</span><span class="token number">3.3</span><span class="token punctuation">,</span><span class="token number">5.4</span><span class="token punctuation">,</span><span class="token number">7.9</span><span class="token punctuation">,</span><span class="token number">10.7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          auto.text<span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> paddle <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span> annotate <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">,</span>         key <span class="token operator">=</span> list<span class="token punctuation">(</span>labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/guide_legend.html">Legend guide</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://aosmith.rbind.io/2018/07/19/manual-legends-ggplot2/">Creating legends when aesthetics are constants in ggplot2</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://databasefaq.com/index.php/answer/112135/r-legend-changing-the-legend-labels-in-a-windrose-from-r-openair">Changing the legend labels in a windrose from R openair</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>6-5ç¯å¢ƒæ—¥å®£ä¼ ppt</title>
    <link href="/2020/06/06/Env-65%E7%8E%AF%E5%A2%83%E6%97%A5/"/>
    <url>/2020/06/06/Env-65%E7%8E%AF%E5%A2%83%E6%97%A5/</url>
    
    <content type="html"><![CDATA[<p>ä»Šå¹´å…­äº”ç¯å¢ƒæ—¥ä¸»é¢˜â€œç¾ä¸½ä¸­å›½ï¼Œæˆ‘æ˜¯è¡ŒåŠ¨è€…â€<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ç”Ÿæ€ç¯å¢ƒéƒ¨å‘å¸ƒ2020å¹´å…­äº”ç¯å¢ƒæ—¥ä¸»é¢˜æµ·æŠ¥">[1]</span></a></sup>ï¼Œæ™ºæ…§äº¤é€šåŠ©åŠ›ç¯ä¿ã€‚</p><br><div class="row">    <embed src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Environment/%E8%8E%86%E7%94%B065.pdf" width="100%" height="550" type="application/pdf"></div><br><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.mee.gov.cn/ywgz/xcjy/xccpzyk/hb/202005/t20200522_780328.shtml">ç”Ÿæ€ç¯å¢ƒéƒ¨å‘å¸ƒ2020å¹´å…­äº”ç¯å¢ƒæ—¥ä¸»é¢˜æµ·æŠ¥</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>ç¯ä¿</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç¯å¢ƒæ—¥</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GEE å¸¸ç”¨å«æ˜Ÿäº§å“è½½å…¥åŠæ˜¾ç¤º</title>
    <link href="/2019/11/30/GEE%E7%AC%94%E8%AE%B0-%E4%BA%A7%E5%93%81%E6%98%BE%E7%A4%BA/"/>
    <url>/2019/11/30/GEE%E7%AC%94%E8%AE%B0-%E4%BA%A7%E5%93%81%E6%98%BE%E7%A4%BA/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨GEEå¹³å°code editoré‡Œæ˜¾ç¤ºå«æ˜Ÿäº§å“</p></blockquote><span id="more"></span><p>åœ¨GEEä¸­ï¼Œéƒ¨åˆ†èµ„äº§å¯ä»¥é€šè¿‡<a href="https://explorer.earthengine.google.com/#workspace">Explorer</a>è¿›è¡Œé¢„è§ˆï¼Œå¤šæ•°æƒ…å†µä¸‹ä¸‹åœ¨<a href="https://code.earthengine.google.com/">Editor</a>é‡ŒæŸ¥çœ‹æ›´ä¸ºæ–¹ä¾¿ã€‚</p><h2 id="Landsat-8"><a href="#Landsat-8" class="headerlink" title="Landsat 8"></a>Landsat 8</h2><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> l8 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"LANDSAT/LC08/C01/T1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    roi <span class="token operator">=</span>     ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">119.23097080607909</span><span class="token punctuation">,</span> <span class="token number">36.93905749319195</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">119.23097080607909</span><span class="token punctuation">,</span> <span class="token number">32.21992180906591</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">124.09242100139159</span><span class="token punctuation">,</span> <span class="token number">32.21992180906591</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">124.09242100139159</span><span class="token punctuation">,</span> <span class="token number">36.93905749319195</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">var</span> Data_Collection <span class="token operator">=</span> l8<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2016-05-01'</span><span class="token punctuation">,</span><span class="token string">'2016-08-30'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é€‰æ‹©äº‘é‡æœ€å°‘çš„å½±åƒç»„åˆ</span><span class="token keyword">var</span> Select_Collection<span class="token operator">=</span>  ee<span class="token punctuation">.</span>Algorithms<span class="token punctuation">.</span>Landsat<span class="token punctuation">.</span><span class="token function">simpleComposite</span><span class="token punctuation">(</span>Data_Collection<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span><span class="token comment">//è½½å…¥å›¾å±‚</span>Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>Select_Collection<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>bands<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"B4"</span><span class="token punctuation">,</span><span class="token string">"B3"</span><span class="token punctuation">,</span><span class="token string">"B2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>gamma<span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>max<span class="token operator">:</span> <span class="token number">108</span><span class="token punctuation">,</span>min<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token string">'True-Color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>roi<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="MODIS"><a href="#MODIS" class="headerlink" title="MODIS"></a>MODIS</h2><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// é€‰æ‹©æ•°æ®æºï¼Œå¹¶å®šä¹‰èŒƒå›´ roi</span><span class="token keyword">var</span> mod500 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD09A1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    roi <span class="token operator">=</span>     ee<span class="token punctuation">.</span>Geometry<span class="token punctuation">.</span><span class="token function">Polygon</span><span class="token punctuation">(</span>        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">118.96562188688824</span><span class="token punctuation">,</span> <span class="token number">36.08745610383932</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">118.96562188688824</span><span class="token punctuation">,</span> <span class="token number">34.000935416392934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">121.29472344938824</span><span class="token punctuation">,</span> <span class="token number">34.000935416392934</span><span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span><span class="token number">121.29472344938824</span><span class="token punctuation">,</span> <span class="token number">36.08745610383932</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> image_mod500 <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">Image</span><span class="token punctuation">(</span>     mod500<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2016-05-01'</span><span class="token punctuation">,</span><span class="token string">'2016-08-30'</span>d<span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>roi<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Select the QA band</span><span class="token keyword">var</span> <span class="token constant">QA</span> <span class="token operator">=</span> image_mod500<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'StateQA'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Get the cloud_state bits and find cloudy areas.</span><span class="token keyword">var</span> cloud <span class="token operator">=</span> <span class="token function">getQABits</span><span class="token punctuation">(</span><span class="token constant">QA</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'cloud_state'</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">expression</span><span class="token punctuation">(</span><span class="token string">"b(0) == 1 || b(0) == 2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Create a mask that filters out  cloudy areas.</span><span class="token keyword">var</span> mask <span class="token operator">=</span> cloud<span class="token punctuation">.</span><span class="token function">not</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®šä¹‰æ˜¾ç¤ºå‚æ•°</span><span class="token keyword">var</span> visParams_color <span class="token operator">=</span> <span class="token punctuation">&#123;</span>bands<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'sur_refl_b01'</span><span class="token punctuation">,</span><span class="token string">'sur_refl_b04'</span><span class="token punctuation">,</span><span class="token string">'sur_refl_b03'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>min<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>max<span class="token operator">:</span><span class="token number">3000</span><span class="token punctuation">,</span>gamma<span class="token operator">:</span><span class="token number">1.3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//è½½å…¥å›¾å±‚</span>Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>image_mod500<span class="token punctuation">.</span><span class="token function">updatemask</span><span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">,</span> visParams_color<span class="token punctuation">,</span> <span class="token string">'mod500_color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://www.zhihu.com/people/li-shi-wei-36">çŸ¥ä¹ç”¨æˆ· <strong>æ— å½¢çš„é£</strong></a></li></ol><ol start="2"><li><a href="https://www.zhihu.com/column/c_123993183">çŸ¥ä¹ä¸“æ </a></li></ol>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GEE</tag>
      
      <tag>é¥æ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Google Earth Engine æ•™å­¦è§†é¢‘ç¬”è®°</title>
    <link href="/2019/11/30/GEE%E7%AC%94%E8%AE%B0/"/>
    <url>/2019/11/30/GEE%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Bç«™ä¸ŠGEEåŸºç¡€è§†é¢‘è¦ç‚¹ç¬”è®°</p></blockquote><span id="more"></span><h2 id="åŸºç¡€æ•°æ®ç±»å‹ï¼š"><a href="#åŸºç¡€æ•°æ®ç±»å‹ï¼š" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹ï¼š"></a>åŸºç¡€æ•°æ®ç±»å‹ï¼š</h2><h3 id="Stringã€Number"><a href="#Stringã€Number" class="headerlink" title="Stringã€Number"></a>Stringã€Number</h3><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee1.png/pic"></p><ul><li>åŸºç¡€è¿ç®—ï¼šæ‹¼æ¥ã€æ›¿æ¢ã€åˆ‡åˆ†</li><li>ä½è¿ç®—ç”¨äºäº‘å±‚å¤„ç†<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee2.png/pic"><h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee3.png/pic"><h3 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee4.png/pic"></li><li>Add æ·»åŠ å†…å®¹ï¼ŒInsert å¯ä»¥æŒ‡å®šä½ç½®ï¼Œmapæ“ä½œæ¯”è¾ƒé‡è¦ï¼Œå¾ªç¯ä½¿ç”¨</li></ul><h2 id="ç©ºé—´æ•°æ®å¯¹è±¡ï¼š"><a href="#ç©ºé—´æ•°æ®å¯¹è±¡ï¼š" class="headerlink" title="ç©ºé—´æ•°æ®å¯¹è±¡ï¼š"></a>ç©ºé—´æ•°æ®å¯¹è±¡ï¼š</h2><h3 id="Geometry"><a href="#Geometry" class="headerlink" title="Geometry"></a>Geometry</h3><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee5.png/pic"></p><ul><li>å®ç°ç©ºé—´åæ ‡å˜æ¢ï¼Œåœ¨<a href="https://epsg.io/">epsg</a>ç½‘ç«™æŸ¥æ‰¾epsgä»£ç å¡«å…¥å‚æ•°</li><li><code>Geometry.distance()</code>  ç”¨äºæµ‹ç®—æœ€è¿‘ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»<h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee6.png/pic"></li><li><code>Feature.Area()</code> æ±‚é¢ç§¯<h3 id="Feature-Collection"><a href="#Feature-Collection" class="headerlink" title="Feature Collection"></a>Feature Collection</h3></li><li> ç›¸å½“äºarcgis shpç¼–è¾‘<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee7.png/pic"></li><li> reduceToImage çŸ¢é‡è½¬æ …æ ¼<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee8.png/pic"></li><li> toLIst å˜æˆåˆ—è¡¨å…ƒç´ <br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee9.png/pic"><h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3></li><li>Mask  æ©è†œæ“ä½œ  ç±»ä¼¼è£å‰ªï¼Œä½†ä¸çœŸå®åˆ é™¤å…ƒç´ <br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee10.png/pic"></li><li> <code>Clip(geometry)</code>  è£å‰ªæ“ä½œ</li><li><code>Select(â€˜bandsâ€™)</code>  æ³¢æ®µåç§°é€‰æ‹©   slice()  æŒ‰æ³¢æ®µindexé€‰æ‹©</li><li><code>Addbands()</code> åŠ æ³¢æ®µ</li><li><code>Reproject()</code>  epsg:3857 å¸¸ç”¨ç½‘ç»œåœ°å›¾åæ ‡ä»£å·</li><li>Rgb hsv è½¬æ¢</li><li><code>where()</code>é‡æ–°èµ‹å€¼  å¯¹å°äº4000çš„é‡èµ‹å€¼ä¸º0  å¯ä»¥å‰”é™¤æŸäº›å†…å®¹<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee11.png/pic"></li><li>æ•°å€¼åˆ¤æ–­ï¼Œå€¼åŸŸæˆªå–<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee12.png/pic"></li><li>è‡ªå®šä¹‰å‡½æ•°ï¼Œè®¡ç®—NDVIæ—¶å¯ç”¨<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee13.png/pic"></li><li><code>Image.derivative()</code>é«˜ç¨‹è¿›è¡Œxï¼Œ y å¾®åˆ† æ±‚å¡åº¦</li><li>çº¹ç†æå–<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee14.png/pic"></li><li>ä¸´åŸŸæ“ä½œï¼Œèšåˆæ›¿æ¢<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee15.png/pic"><h3 id="Image-Collection"><a href="#Image-Collection" class="headerlink" title="Image Collection"></a>Image Collection</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee16.png/pic"></li><li><code>Filter</code> è¾¹ç•Œã€æ—¶é—´æ®µã€æ•°æ®å±æ€§ç­›é€‰<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee17.png/pic"></li><li><code>mosaic()</code>å®ç°å¤šå›¾å åŠ ï¼Œå°†collectionå˜ä¸€å¼ imageï¼Œé‡å ä½ç½®è§„åˆ™ï¼šåé¢å–ä»£å‰é¢<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee18.png/pic"></li><li><code>Select</code> æ³¢æ®µç­›é€‰å¹¶é‡å‘½åï¼Œåªèƒ½å¯¹åŒæºæ•°æ®æ“ä½œ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee19.png/pic"></li><li>é€»è¾‘åˆ¤æ–­ï¼ŒOr è‡³å°‘ä¸€æ¬¡ï¼Œand å¤šæ¬¡<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee20.png/pic"></li><li> <code>unmixing</code>è§£å†³åŒç‰©å¼‚è°±æˆ–åŒè°±å¼‚ç‰©<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee21.png/pic"></li></ul><h2 id="å¯¹è±¡æ“ä½œ"><a href="#å¯¹è±¡æ“ä½œ" class="headerlink" title="å¯¹è±¡æ“ä½œ"></a>å¯¹è±¡æ“ä½œ</h2><h3 id="Dates"><a href="#Dates" class="headerlink" title="Dates"></a>Dates</h3><ul><li>æ—¶é—´åŸºæœ¬æ“ä½œ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee22.png/pic"></li><li>æ—¶é—´è¡¨ç¤ºæ–¹æ³•<br>ä½¿ç”¨<a href="https://www.unixtimestamp.com/"><code>Unix timestamp</code></a>è¡¨ç¤º<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee23.png/pic"></li><li>æ—¶é—´æ®µ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee24.png/pic"></li><li>æ—¶é—´æ®µåˆå¹¶union<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee25.png/pic"></li></ul><h3 id="Filters"><a href="#Filters" class="headerlink" title="Filters"></a>Filters</h3><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee26.png/pic"></p><ul><li>ç­›é€‰å™¨æ“ä½œæ­¥éª¤ï¼š<ol><li>è·å–é›†åˆ</li><li>åˆ›å»ºç­›é€‰å™¨  f = Filter.xxxx()</li><li>å¯¹é›†åˆæ‰§è¡Œç­›é€‰å™¨ collections.filter(f)</li></ol></li><li>å†…å®¹ç­›é€‰ä¸è·å–<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee27.png/pic"></li><li>æ—¥æœŸç­›é€‰<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee28.png/pic"></li><li>ç»„åˆç­›é€‰<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee29.png/pic"><h3 id="Joins"><a href="#Joins" class="headerlink" title="Joins"></a>Joins</h3><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee30.png/pic"></li><li>å·¦è¿æ¥ï¼Œå®šä¹‰ç­›é€‰å™¨ç­›é€‰<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee31.png/pic"></li><li>å½±åƒäº§å“ç»“åˆ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee32.png/pic"></li><li>saveAll åªé“¾æ¥å±æ€§ï¼Œç±»ä¼¼ArcGIS joinä¸­å­—æ®µè¿æ¥</li><li>saveBest å‚è§guide<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee33.png/pic"></li></ul><h3 id="Reducers"><a href="#Reducers" class="headerlink" title="Reducers"></a>Reducers</h3><ul><li>ä¸»è¦ç”¨äºæ …æ ¼æ•°æ®åˆ†æ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee34.png/pic"></li><li>è®¡æ•°ï¼ŒcountEvery å¯ä»¥è®¡ç®—NA<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee35.png/pic"></li><li>Reducers  maxè¯»å–æ³¢æ®µå–æœ€å¤§ï¼Œ æˆ–è€…å¤šæ³¢æ®µä¸­ä½å€¼<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee36.png/pic"><h3 id="Kernel"><a href="#Kernel" class="headerlink" title="Kernel"></a>Kernel</h3></li><li>å¯¹æŸä¸€ä¸ªæ …æ ¼å‘¨å›´å…ƒç´ è¿›è¡Œæ“ä½œ<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee37.png/pic"><br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee38.png/pic"></li><li> å¯¹è±¡è¯†åˆ«ä¸è¾¹ç•Œæå–<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee39.png/pic"><br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/gee/gee40.png/pic"></li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://www.bilibili.com/video/BV1Sb411p7TQ">é¥æ„Ÿå¤§æ•°æ®å¹³å° Google Earth Engine æ•™å­¦è§†é¢‘</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GEE</tag>
      
      <tag>é¥æ„Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 åæ ‡è½´è°ƒæ•´</title>
    <link href="/2019/11/23/ggplot2-Axis/"/>
    <url>/2019/11/23/ggplot2-Axis/</url>
    
    <content type="html"><![CDATA[<p>åæ ‡è½´æ˜¯ggplot2 ä¸­è°ƒæ•´è¾ƒå¤šçš„éƒ¨åˆ†ï¼Œæœ¬æ–‡ä»æ•°æ®æ˜ å°„å’Œæ ·å¼ä¸¤ä¸ªæ–¹é¢ä»‹ç»åæ ‡è½´å¸¸ç”¨è®¾ç½®ã€‚</p><h2 id="æ•°æ®æ˜ å°„"><a href="#æ•°æ®æ˜ å°„" class="headerlink" title="æ•°æ®æ˜ å°„"></a>æ•°æ®æ˜ å°„</h2><h3 id="è½´èŒƒå›´"><a href="#è½´èŒƒå›´" class="headerlink" title="è½´èŒƒå›´"></a>è½´èŒƒå›´</h3><p>å¯¹äºæ•°å€¼å½¢å¼çš„è½´ï¼Œæœ€ç®€å•çš„è®¾ç½®æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨<code>lims()</code>ç±»å‡½æ•°<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Set scale limits">[1]</span></a></sup>è®¾ç½®å€¼åŸŸå³å¯ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> lims<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>p <span class="token operator">+</span> xlim<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span>p <span class="token operator">+</span> ylim<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><blockquote><p>æ³¨æ„<br><code>lims</code>ç±»æ“ä½œå¯¹åŸå§‹æ•°æ®æœ‰æ“ä½œï¼Œå‡½æ•°å…ˆæ ¹æ®èŒƒå›´è¿‡æ»¤æ•°æ®ï¼Œå†ç”Ÿæˆå›¾ã€‚è¿™å¯¹ç»Ÿè®¡ç±»å›¾å¦‚<strong>boxplot</strong>é€ æˆå¾ˆå¤§å½±å“ï¼Œç”±äºæ›´æ”¹äº†æ•°æ®ï¼Œä¼šä½¿ç”¨é”™è¯¯ç»Ÿè®¡ç»“æœç»˜å›¾ã€‚å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬å¸Œæœ›çš„èŒƒå›´é™å®šæ˜¯æŒ‡å›¾åƒè£åˆ‡ï¼Œå³ç”Ÿæˆå›¾åè£åˆ‡å¤šä½™çš„ä½ç½®ï¼Œå› æ­¤å¯¹äºç»Ÿè®¡ç±»ç»˜å›¾ä½¿ç”¨<code>coord_cartesian</code>è¿›è¡Œç¼©æ”¾æ›´ä¸ºå®‰å…¨<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggplot2ä¸­ylimçš„å‘">[2]</span></a></sup>ã€‚</p></blockquote><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> coord_cartesian<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å¯¹äºå…¶ä»–ç±»å‹æ•°æ®ï¼Œåœ¨æŒ‡å®šèŒƒå›´çš„åŒæ—¶ï¼Œè¿˜éœ€æŒ‡å®šåæ ‡é—´éš”ï¼Œä½¿ç”¨ä»¥ä¸‹ç³»åˆ—å‡½æ•°<br><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_*_discrete</a>ï¼Œ<a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_*_continuous</a>ï¼Œ<a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_*_date</a></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># limitsæŒ‡å®šèŒƒå›´ï¼ŒbreaksæŒ‡å®šé—´éš”ï¼Œlabelså®šä¹‰æ–°çš„æ ‡è®°</span><span class="token comment"># ç¦»æ•£å‹</span>p <span class="token operator">+</span> scale_x_discrete<span class="token punctuation">(</span>limits<span class="token punctuation">,</span> labels<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># è¿ç»­å‹</span>p <span class="token operator">+</span> scale_x_continuous<span class="token punctuation">(</span>limits<span class="token punctuation">,</span> breaks<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># æ—¶é—´å‹</span>p <span class="token operator">+</span> scale_x_date<span class="token punctuation">(</span>limits<span class="token punctuation">,</span> breaks<span class="token punctuation">,</span> labels<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è½´å˜æ¢"><a href="#è½´å˜æ¢" class="headerlink" title="è½´å˜æ¢"></a>è½´å˜æ¢</h3><ul><li><p>logå˜æ¢<br>æœ‰ä¸‰ç§æ–¹å¼å®ç°å¯¹æ•°åæ ‡è½´å˜æ¢<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Position scales for continuous data (x &amp; y)">[3]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># 1.aesæˆ–æ•°æ®é›†é‡Œç›´æ¥å˜æ¢</span>ggplot<span class="token punctuation">(</span>data<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token punctuation">,</span> y<span class="token operator">=</span>log10<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2.scale_y_continuous è¿›è¡Œå˜æ¢</span>p <span class="token operator">+</span> scale_y_continuous<span class="token punctuation">(</span>trans<span class="token operator">=</span><span class="token string">"log10"</span><span class="token punctuation">,</span>        breaks<span class="token operator">=</span>trans_breaks<span class="token punctuation">(</span><span class="token string">"log10"</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token number">10</span><span class="token operator">^</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>        labels<span class="token operator">=</span>trans_format<span class="token punctuation">(</span><span class="token string">"log10"</span><span class="token punctuation">,</span>math_format<span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">^</span>.x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3.scale_y_log10 å‡½æ•°</span>p <span class="token operator">+</span> scale_y_log10<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>æ—¶é—´å˜æ¢<br>ä½¿ç”¨<code>date_labels</code>è¿›è¡Œæ—¶é—´è½¬æ¢<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="Date scale labels">[4]</span></a></sup></p><table><thead><tr class="header"><th align="left">String</th><th align="left">Meaning</th></tr></thead><tbody><tr class="odd"><td align="left"><code>%S</code></td><td align="left">second (00-59)</td></tr><tr class="even"><td align="left"><code>%M</code></td><td align="left">minute (00-59)</td></tr><tr class="odd"><td align="left"><code>%l</code></td><td align="left">hour, in 12-hour clock (1-12)</td></tr><tr class="even"><td align="left"><code>%I</code></td><td align="left">hour, in 12-hour clock (01-12)</td></tr><tr class="odd"><td align="left"><code>%p</code></td><td align="left">am/pm</td></tr><tr class="even"><td align="left"><code>%H</code></td><td align="left">hour, in 24-hour clock (00-23)</td></tr><tr class="odd"><td align="left"><code>%a</code></td><td align="left">day of week, abbreviated (Mon-Sun)</td></tr><tr class="even"><td align="left"><code>%A</code></td><td align="left">day of week, full (Monday-Sunday)</td></tr><tr class="odd"><td align="left"><code>%e</code></td><td align="left">day of month (1-31)</td></tr><tr class="even"><td align="left"><code>%d</code></td><td align="left">day of month (01-31)</td></tr><tr class="odd"><td align="left"><code>%m</code></td><td align="left">month, numeric (01-12)</td></tr><tr class="even"><td align="left"><code>%b</code></td><td align="left">month, abbreviated (Jan-Dec)</td></tr><tr class="odd"><td align="left"><code>%B</code></td><td align="left">month, full (January-December)</td></tr><tr class="even"><td align="left"><code>%y</code></td><td align="left">year, without century (00-99)</td></tr><tr class="odd"><td align="left"><code>%Y</code></td><td align="left">year, with century (0000-9999)</td></tr></tbody></table></li></ul><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> scale_x_date<span class="token punctuation">(</span>date_breaks <span class="token operator">=</span> <span class="token string">"5 years"</span><span class="token punctuation">,</span> date_labels <span class="token operator">=</span> <span class="token string">"%y"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="è½´å½¢æ€"><a href="#è½´å½¢æ€" class="headerlink" title="è½´å½¢æ€"></a>è½´å½¢æ€</h3><p>å¸¸ç”¨è½´å˜æ¢æœ‰ä»¥ä¸‹ä¸‰ç±»</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># x\yè½´è‡ªèº«ç¿»è½¬</span>p <span class="token operator">+</span> scale_<span class="token operator">*</span>_reverse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># xä¸yè½´äº¤æ¢</span>p <span class="token operator">+</span> coord_flip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># è½¬æ¢æåæ ‡</span>p <span class="token operator">+</span> coord_polar<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h2><p>è½´æ ·å¼çš„å®šä¹‰åœ¨<code>theme</code>ä¸­ä»¥<strong>axis</strong>å¼€å¤´<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="GGPLOT AXIS TICKS: SET AND ROTATE TEXT LABELS">[5]</span></a></sup></p><blockquote><p><code>ticks</code>å¯¹åº”åˆ»åº¦çº¿<br><code>text</code>å¯¹åº”æ ‡ç­¾<br><code>title</code>å¯¹åº”æ ‡é¢˜<br><code>line</code>å¯¹åº”è½´çº¿</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/ggplot2-axis-ticks-example-1.png/pic"></p><h3 id="åˆ»åº¦çº¿"><a href="#åˆ»åº¦çº¿" class="headerlink" title="åˆ»åº¦çº¿"></a>åˆ»åº¦çº¿</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å…¨å±€</span>  axis.ticks <span class="token operator">=</span> element_line<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token comment"># åªæ”¹å˜xè½´     </span>  axis.ticks.x <span class="token operator">=</span> element_line<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># åªæ”¹å˜yè½´</span>  axis.ticks.y <span class="token operator">=</span> element_line<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># åˆ»åº¦çº¿é•¿åº¦</span>  axis.ticks.length <span class="token operator">=</span> unit<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"pt"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è½´æ ‡ç­¾"><a href="#è½´æ ‡ç­¾" class="headerlink" title="è½´æ ‡ç­¾"></a>è½´æ ‡ç­¾</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å…¨å±€</span>  axis.text <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token comment"># åªæ”¹å˜xè½´    </span>  axis.text.x <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># åªæ”¹å˜é¡¶ç«¯xè½´ï¼ˆå¦‚æœæœ‰ï¼‰</span>  axis.text.x.top <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># åªæ”¹å˜yè½´</span>  axis.text.y <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span class="token comment"># åªæ”¹å˜å³ä¾§yè½´ï¼ˆå¦‚æœæœ‰ï¼‰</span>  axis.text.y.right <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="è½´æ ‡é¢˜"><a href="#è½´æ ‡é¢˜" class="headerlink" title="è½´æ ‡é¢˜"></a>è½´æ ‡é¢˜</h3><ul><li>å®šä¹‰æ ‡é¢˜æ ·å¼<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">axis.title.x <span class="token operator">=</span> element_text<span class="token punctuation">(</span><span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li>è½´æ ‡é¢˜æ—‹è½¬<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># angleå®šä¹‰æ—‹è½¬è§’åº¦</span><span class="token comment"># ç”±äºæ—‹è½¬åæ–‡å­—ä¼šä¸åæ ‡è½´å¹²æ¶‰å†²çªï¼Œå¯è®¾ç½®vjustæˆ–hjuståç§»é‡è°ƒæ•´</span>axis.title.y <span class="token operator">=</span> element_text<span class="token punctuation">(</span>angle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> vjust <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></li></ul><h3 id="è½´çº¿"><a href="#è½´çº¿" class="headerlink" title="è½´çº¿"></a>è½´çº¿</h3><p>è®¾ç½®è½´çº¿å®½åº¦</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">axis.line.y <span class="token operator">=</span> element_line<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">0.25</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="ç§»é™¤"><a href="#ç§»é™¤" class="headerlink" title="ç§»é™¤"></a>ç§»é™¤</h3><p>å¦‚éœ€ç§»é™¤ç›¸åº”å†…å®¹</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">axis.<span class="token operator">*</span> <span class="token operator">=</span> element_blank<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/lims.html">Set scale limits</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.jianshu.com/p/312d30049a25">ggplot2ä¸­ylimçš„å‘</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">Position scales for continuous data (x &amp; y)</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://ggplot2-book.org/scale-position.html#date-labels">Date scale labels</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a href="https://www.datanovia.com/en/blog/ggplot-axis-ticks-set-and-rotate-text-labels/">GGPLOT AXIS TICKS: SET AND ROTATE TEXT LABELS</a><a href="#fnref:5" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 åŒåæ ‡è½´å®ç°</title>
    <link href="/2019/11/23/ggplot2-Dual-Axis/"/>
    <url>/2019/11/23/ggplot2-Dual-Axis/</url>
    
    <content type="html"><![CDATA[<p>æŒ‰ç…§ggplot2ä½œè€…çš„æ€è·¯ï¼ŒåŒyè½´ä¼šé™ä½å›¾ç‰‡çš„æ˜“è¯»æ€§ï¼Œä¸æ¨èä½¿ç”¨ï¼Œæ‰€ä»¥ggplot2æ²¡æœ‰å•ç‹¬åŒyè½´è®¾ç½®ï¼Œè¿™é‡Œæœ‰ä¸€ç³»åˆ—å…³äºåŒè½´çš„è®¨è®º<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Dual-Scaled Axes in Graphs Are They Ever the Best Solution?">[1]</span></a></sup><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="A Study on Dual-Scale Data Charts">[2]</span></a></sup>ã€‚åªèƒ½é€šè¿‡<code>scale_y_continuous()</code>ä¸<code>sec.axis</code>å±æ€§è¿‚å›å®ç°<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Specify a secondary axis">[3]</span></a></sup>ã€‚</p><h2 id="å®šä¹‰ç¬¬äºŒè½´"><a href="#å®šä¹‰ç¬¬äºŒè½´" class="headerlink" title="å®šä¹‰ç¬¬äºŒè½´"></a>å®šä¹‰ç¬¬äºŒè½´</h2><p><code>sec.axis()</code>æ˜¯<code>scale_y_continuous()</code>çš„å±æ€§ï¼Œ<code>sec.axis()</code>å¹¶éæ„å»ºå…¨æ–°çš„Yè½´ã€‚ å®ƒåªæ˜¯é€šè¿‡æ•°å­¦å˜æ¢ç”±ç¬¬ä¸€ä¸ªYè½´æ„å»ºç¬¬äºŒä¸ªYè½´ã€‚å› æ­¤å¯¹äºç¬¬äºŒè½´æ•°æ®ï¼Œåœ¨ç»˜å›¾å‰éœ€è¦å…ˆæŒ‰åˆé€‚æ¯”ä¾‹ç¼©æ”¾ï¼Œä»¥ä¿è¯ç¼©æ”¾åå€¼åŸŸåœ¨ä¸»è½´æ•°æ®å€¼åŸŸå†…ï¼Œéšåç»˜åˆ¶ç¬¬äºŒè½´å‡ ä½•å›¾å½¢<strong>geom_x</strong>ï¼Œå†é€šè¿‡<code>sec.axis()</code>é‡Œçš„<code>trans</code>è¿›è¡Œé€†è¿ç®—è¿˜åŸç¬¬äºŒè½´å®é™…æ•°å€¼æ˜¾ç¤º<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="Dual Y axis with R and ggplot2">[4]</span></a></sup>ã€‚</p><p>å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å®šä¹‰ç¼©æ”¾ç³»æ•°ï¼Œç³»æ•°æ ¹æ®å·¦å³è½´çš„å€¼åŸŸæ¯”ä¾‹ç¡®å®šï¼Œæ‰¾å…¬çº¦æ•°ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç½‘æ ¼çº¿å¯¹é½</span>coeff <span class="token operator">&lt;-</span> <span class="token number">10</span>ggplot<span class="token punctuation">(</span>data<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x<span class="token operator">=</span>day<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  <span class="token comment"># ä¸»è½´å‡ ä½•å¯¹è±¡æ­£å¸¸ç»˜åˆ¶</span>  geom_line<span class="token punctuation">(</span> aes<span class="token punctuation">(</span>y<span class="token operator">=</span>temperature<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>   <span class="token comment"># ç¬¬äºŒè½´æ•°æ®åœ¨ç»˜åˆ¶å‡ ä½•å›¾å½¢æ—¶è¿›è¡Œç¼©æ”¾è‡³ä¸»è½´å€¼åŸŸ</span>  geom_line<span class="token punctuation">(</span> aes<span class="token punctuation">(</span>y<span class="token operator">=</span>price <span class="token operator">/</span> coeff<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>   scale_y_continuous<span class="token punctuation">(</span>    <span class="token comment"># è®¾ç½®ç¬¬ä¸€è½´ï¼Œå·¦ä¾§ä¸»è½´</span>    name <span class="token operator">=</span> <span class="token string">"First Axis"</span><span class="token punctuation">,</span>    <span class="token comment"># å¢åŠ å³ä¾§ç¬¬äºŒè½´ï¼Œå¹¶é€šè¿‡ç³»æ•°è¿˜åŸå€¼æ˜¾ç¤º</span>    sec.axis <span class="token operator">=</span> sec_axis<span class="token punctuation">(</span><span class="token operator">~</span>.<span class="token operator">*</span>coeff<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"Second Axis"</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><img src="https://www.r-graph-gallery.com/line-chart-dual-Y-axis-ggplot2_files/figure-html/thecode3-1.png"><br>è¿™é‡Œæœ‰ç›¸å…³ä¾‹å­å¯ä»¥å‚è€ƒè¾…åŠ©ç†è§£<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggplot2: Secondary Y axis">[5]</span></a></sup>ã€‚</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="http://www.perceptualedge.com/articles/visual_business_intelligence/dual-scaled_axes.pdf">Dual-Scaled Axes in Graphs Are They Ever the Best Solution?</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.lri.fr/~isenberg/publications/papers/Isenberg_2011_ASO.pdf">A Study on Dual-Scale Data Charts</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/sec_axis.html">Specify a secondary axis</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://www.r-graph-gallery.com/line-chart-dual-Y-axis-ggplot2.html">Dual Y axis with R and ggplot2</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a href="https://whatalnk.github.io/r-tips/ggplot2-secondary-y-axis.nb.html">ggplot2: Secondary Y axis</a><a href="#fnref:5" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS ä¸Šä¸‹è§’æ ‡</title>
    <link href="/2019/07/07/ArcGIS-%E4%B8%8A%E4%B8%8B%E8%A7%92%E6%A0%87/"/>
    <url>/2019/07/07/ArcGIS-%E4%B8%8A%E4%B8%8B%E8%A7%92%E6%A0%87/</url>
    
    <content type="html"><![CDATA[<p>ç»˜åˆ¶ä¸“é¢˜å›¾æ—¶ï¼ŒLegendæˆ–Titleéƒ¨åˆ†å­˜åœ¨ä¸Šä¸‹æ ‡ã€‚</p><span id="more"></span><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>ArcGISæ ‡æ³¨ç³»ç»Ÿæ”¯æŒç±»htmlæ ‡ç­¾ï¼Œç›´æ¥åœ¨æ–‡æœ¬è®¾ç½®ä¸­å¡«å…¥å¯¹åº”è§’æ ‡å³å¯ã€‚<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/Arcgis_%E8%A7%92%E6%A0%87.jpg/pic" alt="ä¸Šä¸‹æ ‡"></p><h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><p>å…¶ä»–å—æ”¯æŒçš„æ ‡ç­¾å¦‚ä¸‹</p><table><thead>  <tr>    <th>å…ƒç´ æè¿°</th>    <th>èµ·å§‹æ ‡ç­¾</th>    <th>ç»“æŸæ ‡ç­¾</th>    <th>æœ‰æ•ˆçš„å±æ€§å€¼</th>    <th>å¤‡æ³¨</th>  </tr></thead><tbody>  <tr>    <td>å­—ä½“åç§°å’Œ/æˆ–å­—å·</td>    <td>&lt;FNT&gt;</td>    <td>&lt;/FNT&gt;</td>    <td>name = {TrueType font} size = {1} scale = {1-}</td>    <td>è®¾ç½®åç§°ã€å¤§å°å’Œæ¯”ä¾‹ï¼Œæˆ–å…¨éƒ¨è®¾ç½®ã€‚</td>  </tr>  <tr>    <td>é¢œè‰²(RGB)</td>    <td>&lt;CLR&gt;</td>    <td>&lt;/CLR&gt;</td>    <td>red, green, blue = {0-255}</td>    <td>ç¼ºå¤±çš„é¢œè‰²å±æ€§å‡å®šä¸º 0</td>  </tr>  <tr>    <td>é¢œè‰² (CMYK)</td>    <td>&lt;CLR&gt;</td>    <td>&lt;/CLR&gt;</td>    <td>cyan, magenta, yellow, black = {0-100}</td>    <td>ç¼ºå¤±çš„é¢œè‰²å±æ€§å‡å®šä¸º 0</td>  </tr>  <tr>    <td>ç²—ä½“</td>    <td>&lt;BOL&gt;</td>    <td>&lt;/BOL&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>æ–œä½“</td>    <td>&lt;ITA&gt;</td>    <td>&lt;/ITA&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸‹åˆ’çº¿</td>    <td>&lt;UND&gt;</td>    <td>&lt;/UND&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>å…¨éƒ¨å¤§å†™</td>    <td>&lt;ACP&gt;</td>    <td>&lt;/ACP&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>å°å‹å¤§å†™å­—æ¯</td>    <td>&lt;SCP&gt;</td>    <td>&lt;/SCP&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸Šæ ‡</td>    <td>&lt;SUP&gt;</td>    <td>&lt;/SUP&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸‹æ ‡</td>    <td>&lt;SUB&gt;</td>    <td>&lt;/SUB&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>å­—ç¬¦é—´è·</td>    <td>&lt;CHR&gt;</td>    <td>&lt;/CHR&gt;</td>    <td>spacing = {1-}</td>    <td>è¡¨ç¤ºç›¸å¯¹äºå¸¸è§„å­—ç¬¦é—´è·çš„è°ƒæ•´ç™¾åˆ†æ¯”ï¼›0% è¡¨ç¤ºæ²¡æœ‰è°ƒæ•´ã€‚</td>  </tr>  <tr>    <td>å­—ç¬¦å®½åº¦</td>    <td>&lt;CHR&gt;</td>    <td>&lt;/CHR&gt;</td>    <td> </td>    <td>è¡¨ç¤ºç›¸å¯¹äºå¸¸è§„å­—ç¬¦å®½åº¦çš„è°ƒæ•´ç™¾åˆ†æ¯”ï¼›0% è¡¨ç¤ºæ²¡æœ‰è°ƒæ•´ã€‚</td>  </tr>  <tr>    <td>è¯é—´è·</td>    <td>&lt;WRD&gt;</td>    <td>&lt;/WRD&gt;</td>    <td>spacing = {1-}</td>    <td>è¡¨ç¤ºè¯é—´çš„é—´è·ç™¾åˆ†æ¯”ï¼›100% è¡¨ç¤ºå¸¸è§„é—´è·ã€‚</td>  </tr>  <tr>    <td>è¡Œé—´è·</td>    <td>&lt;LIN&gt;</td>    <td>&lt;/LIN&gt;</td>    <td>leading = {1-}</td>    <td>è¡¨ç¤ºç›¸å¯¹äºå¸¸è§„è¡Œé—´è·çš„è°ƒæ•´ï¼ˆå•ä½ä¸ºç£…ï¼‰ï¼›0 ç£…è¡¨ç¤ºæ²¡æœ‰è°ƒæ•´ã€‚</td>  </tr>  <tr>    <td>ä¸åŠ ç²—</td>    <td>&lt;_BOL&gt;</td>    <td>&lt;/BOL&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸å€¾æ–œ</td>    <td>&lt;_ITA&gt;</td>    <td>&lt;/_ITA&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸åŠ ä¸‹åˆ’çº¿</td>    <td>&lt;_UND&gt;</td>    <td>&lt;/_UND&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸åŠ ä¸Šæ ‡</td>    <td>&lt;_SUP&gt;</td>    <td>&lt;/_SUP&gt;</td>    <td>æ— </td>    <td> </td>  </tr>  <tr>    <td>ä¸åŠ ä¸‹æ ‡</td>    <td>&lt;_SUB&gt;</td>    <td>&lt;/_SUB&gt;</td>    <td>æ— </td>    <td> </td>  </tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS</tag>
      
      <tag>è§’æ ‡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 åˆ†é¢ç»˜å›¾</title>
    <link href="/2019/07/03/ggplot2-Facet/"/>
    <url>/2019/07/03/ggplot2-Facet/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä»‹ç»ggplot2é‡ŒFacettingä½¿ç”¨è¦ç‚¹ã€‚</p><p><code>Facetting</code>ç”¨äºå°†å›¾ä»¥é¢æ¿çŸ©é˜µçš„å½¢å¼åˆ†æˆå¤šä¸ªå­å›¾è¿›è¡Œç»˜åˆ¶ï¼Œä¸»è¦é€šè¿‡ä»¥ä¸‹å‡½æ•°å®ç°<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Facetting">[1]</span></a></sup>ã€‚</p><ul><li><code>facet_grid()</code></li><li><code>facet_wrap()</code></li></ul><p>ä¸€äº›å¸¸è§„è®¾ç½®å‚è€ƒæ­¤æ–‡<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggplot2 facet : split a plot into a matrix of panels">[2]</span></a></sup>ï¼Œä¸‹é¢æ˜¯æˆ‘ä½¿ç”¨æ—¶è°ƒæ•´çš„ä¸€äº›å†…å®¹ã€‚</p><h2 id="é¢æ¿æ ‡ç­¾æ¨¡å—è®¾ç½®"><a href="#é¢æ¿æ ‡ç­¾æ¨¡å—è®¾ç½®" class="headerlink" title="é¢æ¿æ ‡ç­¾æ¨¡å—è®¾ç½®"></a>é¢æ¿æ ‡ç­¾æ¨¡å—è®¾ç½®</h2><h3 id="Labelæ›¿æ¢"><a href="#Labelæ›¿æ¢" class="headerlink" title="Labelæ›¿æ¢"></a>Labelæ›¿æ¢</h3><p>è¿™éƒ¨åˆ†å†…å®¹åœ¨<code>facet_grid/warp()</code>é‡Œè°ƒæ•´<br>  <div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># æ„é€ æ›¿æ¢å­—å…¸</span><span class="token comment"># æ–°label</span>supp.labs <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">"Orange Juice"</span><span class="token punctuation">,</span> <span class="token string">"Vitamin C"</span><span class="token punctuation">)</span><span class="token comment"># åŸlabel</span>names<span class="token punctuation">(</span>supp.labs<span class="token punctuation">)</span> <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">"OJ"</span><span class="token punctuation">,</span> <span class="token string">"VC"</span><span class="token punctuation">)</span><span class="token comment"># åœ¨labellerä¸­è¿›è¡Œæ›¿æ¢</span>p <span class="token operator">+</span> facet_grid<span class="token punctuation">(</span>  . <span class="token operator">~</span> supp<span class="token punctuation">,</span>   labeller <span class="token operator">=</span> labeller<span class="token punctuation">(</span>supp <span class="token operator">=</span> supp.labs<span class="token punctuation">)</span>  <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></p><h3 id="å­—ä½“åŠèƒŒæ™¯è‰²"><a href="#å­—ä½“åŠèƒŒæ™¯è‰²" class="headerlink" title="å­—ä½“åŠèƒŒæ™¯è‰²"></a>å­—ä½“åŠèƒŒæ™¯è‰²</h3><p>è¿™éƒ¨åˆ†åœ¨<code>theme()</code>é‡Œè°ƒæ•´ï¼Œä¸åˆ†é¢ç›¸å…³çš„å±æ€§ä»¥<strong>strip</strong>å¼€å¤´ã€‚<br>  <div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">theme<span class="token punctuation">(</span>     <span class="token comment"># æ–‡å­—æ ·å¼è°ƒæ•´</span>     strip.text.x <span class="token operator">=</span> element_text<span class="token punctuation">(</span>     size <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span> face <span class="token operator">=</span> <span class="token string">"bold.italic"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token comment"># æ ‡ç­¾èƒŒæ™¯è‰²è°ƒæ•´ï¼Œfillè¡¨ç¤ºå¡«å……è‰²ï¼Œcolorè¡¨ç¤ºè¾¹æ¡†é¢œè‰²</span>     strip.background <span class="token operator">=</span> element_rect<span class="token punctuation">(</span>     color<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> fill<span class="token operator">=</span><span class="token string">"#FC4E07"</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> linetype<span class="token operator">=</span><span class="token string">"solid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></p><h3 id="ä¸ºä¸åŒå­å›¾å¢åŠ æ ‡æ³¨"><a href="#ä¸ºä¸åŒå­å›¾å¢åŠ æ ‡æ³¨" class="headerlink" title="ä¸ºä¸åŒå­å›¾å¢åŠ æ ‡æ³¨"></a>ä¸ºä¸åŒå­å›¾å¢åŠ æ ‡æ³¨</h3><p>ä»<code>facet_</code>å®ç°è€ƒè™‘ï¼Œåˆ†é¡µå­—æ®µå¯ä»¥çœ‹ä½œå­å›¾ç´¢å¼•ï¼ˆäºŒç»´ï¼‰ï¼Œå› æ­¤é€šè¿‡åˆ›å»ºåŒ…å«åˆ†é¡µå­—æ®µçš„æ ‡æ³¨å­æ•°æ®é›†ï¼Œåœ¨ç»˜å›¾æ—¶å°±å¯ä»¥åœ¨æŒ‡å®šå­å›¾ä¸ŠåŠ å…¥ç‰¹å®šæ ‡æ³¨<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Adding different annotation to each facet in ggplot">[3]</span></a></sup>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># è½½å…¥åŒ…</span>library<span class="token punctuation">(</span>ggplot2<span class="token punctuation">)</span>library<span class="token punctuation">(</span>Rmisc<span class="token punctuation">)</span><span class="token comment"># è½½å…¥æ•°æ®</span>butter <span class="token operator">&lt;-</span> read.table<span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">,</span> header <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token comment"># summaryæ•°æ®</span>buttersum <span class="token operator">&lt;-</span> summarySE<span class="token punctuation">(</span>data <span class="token operator">=</span> butter<span class="token punctuation">,</span> measurevar <span class="token operator">=</span> <span class="token string">"winglen"</span><span class="token punctuation">,</span>                      groupvars <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"spp"</span><span class="token punctuation">,</span> <span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token string">"region"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä¸ºæ ‡æ³¨åˆ›å»ºæ•°æ®é›†ï¼ŒåŒ…å«regionè¿™ä¸ªåˆ†é¢å­—æ®µï¼Œè¿™ä¸€æ­¥æ˜¯å…³é”®</span>anno <span class="token operator">&lt;-</span> data.frame<span class="token punctuation">(</span>x1 <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1.75</span><span class="token punctuation">,</span> <span class="token number">0.75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x2 <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2.25</span><span class="token punctuation">,</span> <span class="token number">1.25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    y1 <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span> y2 <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    xstar <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ystar <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   lab <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"***"</span><span class="token punctuation">,</span> <span class="token string">"**"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   region <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"North"</span><span class="token punctuation">,</span> <span class="token string">"South"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>æ ‡æ³¨å½¢æ€å¦‚ä¸‹<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/diag2-14.png"></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># ç»˜åˆ¶å›¾åƒï¼Œé€‰æ‹©regionä½œä¸ºåˆ†é¢</span>ggplot<span class="token punctuation">(</span>data <span class="token operator">=</span> buttersum<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> spp<span class="token punctuation">,</span> y <span class="token operator">=</span> winglen<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_point<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>shape <span class="token operator">=</span> sex<span class="token punctuation">)</span><span class="token punctuation">,</span> position <span class="token operator">=</span> position_dodge<span class="token punctuation">(</span>width <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>  scale_shape_manual<span class="token punctuation">(</span>values <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span> labels <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"Female"</span><span class="token punctuation">,</span> <span class="token string">"Male"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">+</span>  geom_errorbar<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>group <span class="token operator">=</span> sex<span class="token punctuation">,</span> ymin <span class="token operator">=</span> winglen <span class="token operator">-</span> se<span class="token punctuation">,</span> ymax <span class="token operator">=</span> winglen <span class="token operator">+</span> se<span class="token punctuation">)</span><span class="token punctuation">,</span>                 width <span class="token operator">=</span> <span class="token number">.2</span><span class="token punctuation">,</span> position <span class="token operator">=</span> position_dodge<span class="token punctuation">(</span>width <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_text<span class="token punctuation">(</span>data <span class="token operator">=</span> anno<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> xstar<span class="token punctuation">,</span>  y <span class="token operator">=</span> ystar<span class="token punctuation">,</span> label <span class="token operator">=</span> lab<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_segment<span class="token punctuation">(</span>data <span class="token operator">=</span> anno<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> x1<span class="token punctuation">,</span> xend <span class="token operator">=</span> x1<span class="token punctuation">,</span>            y <span class="token operator">=</span> y1<span class="token punctuation">,</span> yend <span class="token operator">=</span> y2<span class="token punctuation">)</span><span class="token punctuation">,</span>           colour <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_segment<span class="token punctuation">(</span>data <span class="token operator">=</span> anno<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> x2<span class="token punctuation">,</span> xend <span class="token operator">=</span> x2<span class="token punctuation">,</span>            y <span class="token operator">=</span> y1<span class="token punctuation">,</span> yend <span class="token operator">=</span> y2<span class="token punctuation">)</span><span class="token punctuation">,</span>           colour <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span> <span class="token operator">+</span>  geom_segment<span class="token punctuation">(</span>data <span class="token operator">=</span> anno<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>x <span class="token operator">=</span> x1<span class="token punctuation">,</span> xend <span class="token operator">=</span> x2<span class="token punctuation">,</span>            y <span class="token operator">=</span> y2<span class="token punctuation">,</span> yend <span class="token operator">=</span> y2<span class="token punctuation">)</span><span class="token punctuation">,</span>           colour <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">)</span><span class="token operator">+</span>  facet_grid<span class="token punctuation">(</span>. <span class="token operator">~</span> region<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/annofacet-15.png"></p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://ggplot2.tidyverse.org/reference/index.html#section-facetting">Facetting</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="http://www.sthda.com/english/wiki/ggplot2-facet-split-a-plot-into-a-matrix-of-panels">ggplot2 facet : split a plot into a matrix of panels</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://buzzrbeeline.blog/2018/11/06/adding-different-annotation-to-each-facet-in-ggplot/">Adding different annotation to each facet in ggplot</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 é¢œè‰²é…ç½®</title>
    <link href="/2019/04/21/ggplot2-Color/"/>
    <url>/2019/04/21/ggplot2-Color/</url>
    
    <content type="html"><![CDATA[<p>ggplot2ä¸»è¦é€šè¿‡<code>FILL</code>å’Œ<code>COLOR</code>å±æ€§è®¾ç½®å‡ ä½•å¯¹è±¡çš„é¢œè‰²ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šæŸä¸€ç§é¢œè‰²ï¼Œè®©é¢œè‰²éšå˜é‡è‡ªåŠ¨é…ç½®æˆ–è€…ä½¿ç”¨è°ƒè‰²æ¿è®¾ç½®é¢œè‰²<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Dealing with colors in ggplot2">[1]</span></a></sup>ã€‚</p><h2 id="è‰²å½©ä»£ç "><a href="#è‰²å½©ä»£ç " class="headerlink" title="è‰²å½©ä»£ç "></a>è‰²å½©ä»£ç </h2><p>å¯¹äºå•ä¸ªé¢œè‰²é€‰æ‹©ï¼Œå¯ä»¥å‚è€ƒRè¯­è¨€ç»˜å›¾é¢œè‰²å¯¹ç…§è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†å‡ ä¹å¯ä»¥ç”¨åˆ°çš„é¢œè‰²ä»£ç <br><br></p><div class="row">    <embed src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/ColorChart.pdf" width="100%" height="550" type="application/pdf"></div><br><h2 id="è°ƒè‰²æ¿"><a href="#è°ƒè‰²æ¿" class="headerlink" title="è°ƒè‰²æ¿"></a>è°ƒè‰²æ¿</h2><p>å¯¹äºè¿ç»­è‰²é˜¶æˆ–è€…å¤šç§è‰²å½©æ­é…ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨<code>RColorBrewer</code>æä¾›çš„è°ƒè‰²æ¿ã€‚<br>ggplot2åŸç”Ÿæ”¯æŒé€šè¿‡è®¾ç½®<code>palette</code>æ¥åˆ‡æ¢è°ƒè‰²æ¿<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggplot2 colors : How to change colors automatically and manually?">[2]</span></a></sup>ï¼Œ<a href="https://www.r-graph-gallery.com/38-rcolorbrewers-palettes.html">è¿™é‡Œ</a>æä¾›äº†é¢„è®¾<code>ColorBrewer</code>è°ƒè‰²æ¿ä»£å·åŠé¢„è§ˆã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> scale_color_brewer<span class="token punctuation">(</span>palette <span class="token operator">=</span> <span class="token string">"PuOr"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><img src="https://www.r-graph-gallery.com/38-rcolorbrewers-palettes_files/figure-html/thecode-1.png"></p><p>å¦å¤–ä¸€ç§å®˜æ–¹åŸç”Ÿæ”¯æŒçš„è‰²æ¿<code>Viridis</code>ï¼Œ<a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">è¿™é‡Œ</a>æœ‰é¢„è®¾è‰²æ¿ã€‚è¿™ä¸ªè‰²æ¿ä»¥è¿ç»­é¢œè‰²ä¸ºä¸»ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®<code>discrete=TRUE</code>å±æ€§ä½¿ç”¨ç¦»æ•£è‰²é˜¶ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">p <span class="token operator">+</span> scale_color_viridis<span class="token punctuation">(</span>option<span class="token operator">=</span><span class="token string">"magma"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ggplot2/viridis.png/pic"></p><p>æ­¤å¤–è¿˜å¯é€šè¿‡<a href="https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html">ggsci</a>æˆ–è€…<a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">ggthemes</a>é€‰æ‹©åˆé€‚çš„è°ƒè‰²æ¿</p><h3 id="è°ƒè‰²æ¿hexä»£ç æŸ¥çœ‹"><a href="#è°ƒè‰²æ¿hexä»£ç æŸ¥çœ‹" class="headerlink" title="è°ƒè‰²æ¿hexä»£ç æŸ¥çœ‹"></a>è°ƒè‰²æ¿hexä»£ç æŸ¥çœ‹</h3><ul><li><a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3">è¿™é‡Œ</a>æä¾›äº†<code>ColorBrewer</code>è°ƒè‰²æ¿åŠ¨æ€é¢„è§ˆåŠhexä»£ç æŸ¥çœ‹ã€‚</li><li>è·å–å…¶ä»–è°ƒè‰²æ¿hex<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">library<span class="token punctuation">(</span>paletteer<span class="token punctuation">)</span>paletteer_c<span class="token punctuation">(</span>package <span class="token operator">=</span> <span class="token string">"scico"</span><span class="token punctuation">,</span> palette <span class="token operator">=</span> <span class="token string">"berlin"</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li><li>ggplot2 é»˜è®¤è°ƒè‰²æ¿æŸ¥çœ‹<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">library<span class="token punctuation">(</span>scales<span class="token punctuation">)</span> <span class="token comment"># nä¸ºè‰²æ¿é˜¶æ•°</span>show_col<span class="token punctuation">(</span>hue_pal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></li></ul><h3 id="è‡ªå®šä¹‰è°ƒè‰²æ¿"><a href="#è‡ªå®šä¹‰è°ƒè‰²æ¿" class="headerlink" title="è‡ªå®šä¹‰è°ƒè‰²æ¿"></a>è‡ªå®šä¹‰è°ƒè‰²æ¿</h3><p>å½“ä»¥ä¸Šè‰²æ¿æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è‡ªå®šä¹‰è‰²æ¿<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Rè¯­è¨€ä½œå›¾ï¼šè‡ªå®šä¹‰è°ƒè‰²ç›˜">[3]</span></a></sup>ã€‚</p><ul><li>ç”Ÿæˆè‰²æ¿<br>ä¸»è¦ä½¿ç”¨<code>colorRampPalette</code>ï¼Œè¯¦è§<a href="https://www.rdocumentation.org/packages/dichromat/versions/1.1/topics/colorRampPalette">æ–‡æ¡£</a><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å®šä¹‰åŸºå‡†è‰²</span>cols<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span><span class="token string">'#E64E00'</span><span class="token punctuation">,</span><span class="token string">'#65B48E'</span><span class="token punctuation">,</span><span class="token string">'#E6EB00'</span><span class="token punctuation">,</span><span class="token string">'#E64E00'</span><span class="token punctuation">)</span><span class="token comment"># ç”Ÿæˆè‰²æ¿ 20 è‰²é˜¶</span><span class="token comment"># biasç”¨äºè®¾ç½®è‰²é˜¶åç§» Bias >1 puts more colors at high values</span>pal<span class="token operator">&lt;-</span>colorRampPalette<span class="token punctuation">(</span>cols<span class="token punctuation">,</span> bias <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">)</span>image<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>z<span class="token operator">=</span>as.matrix<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span>pal<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li>æŸ¥çœ‹è‰²æ¿<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">pal<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"#3E5CC5"</span> <span class="token string">"#4469BC"</span> <span class="token string">"#4A77B3"</span> <span class="token string">"#5085AA"</span> <span class="token string">"#5693A2"</span> <span class="token string">"#5CA199"</span> <span class="token string">"#62AF90"</span> <span class="token string">"#72B97F"</span> <span class="token string">"#86C268"</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token string">"#9BCB52"</span> <span class="token string">"#AFD33B"</span> <span class="token string">"#C4DC25"</span> <span class="token string">"#D8E50E"</span> <span class="token string">"#E6E200"</span> <span class="token string">"#E6C900"</span> <span class="token string">"#E6B100"</span> <span class="token string">"#E69800"</span> <span class="token string">"#E67F00"</span><span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">]</span> <span class="token string">"#E66600"</span> <span class="token string">"#E64E00"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li>ä½¿ç”¨è‰²æ¿<br>è‹¥ä½¿ç”¨æ—¶nå°äºè®¾ç½®é˜¶æ•°ï¼Œåˆ™ä»å·¦å¼€å§‹æˆªæ–­ä½¿ç”¨ã€‚<div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># è¿ç»­å‹</span>p <span class="token operator">+</span> scale_color_gradientn<span class="token punctuation">(</span>colors <span class="token operator">=</span> pal<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ç¦»æ•£å‹</span>p <span class="token operator">+</span> scale_color_manual<span class="token punctuation">(</span>colors <span class="token operator">=</span> pal<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.r-graph-gallery.com/ggplot2-color.html">Dealing with colors in ggplot2</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="http://www.sthda.com/english/wiki/ggplot2-colors-how-to-change-colors-automatically-and-manually">ggplot2 colors : How to change colors automatically and manually?</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://zhuanlan.zhihu.com/p/144764468">Rè¯­è¨€ä½œå›¾ï¼šè‡ªå®šä¹‰è°ƒè‰²ç›˜</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ggplot2 æ·»åŠ æ‹Ÿåˆçº¿åŠå…¬å¼</title>
    <link href="/2019/04/21/ggplot2-Lines/"/>
    <url>/2019/04/21/ggplot2-Lines/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä»‹ç»ggplot2é‡Œæ‹Ÿåˆçº¿ä¸å…¬å¼è®¾ç½®</p><h2 id="ä½¿ç”¨ggpmisc"><a href="#ä½¿ç”¨ggpmisc" class="headerlink" title="ä½¿ç”¨ggpmisc()"></a>ä½¿ç”¨ggpmisc()</h2><p>stat_smooth + stat_poly_eqç»„åˆå®ç°æ‹Ÿåˆæ›²çº¿ä»¥åŠæ‹Ÿåˆå…¬å¼æ˜¾ç¤ºã€‚</p><p>stat_poly_eqç”¨äºæ˜¾ç¤ºå…¬å¼ï¼Œæ”¯æŒä»¥ä¸‹ç»Ÿè®¡å‚æ•°æ˜¾ç¤º<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Equation, p-value, R^2, AIC or BIC of fitted polynomial">[1]</span></a></sup>ï¼š</p><blockquote><p>eq.label<br>equation for the fitted polynomial as a character string to be parsed</p></blockquote><blockquote><p>rr.label<br>R2 of the fitted model as a character string to be parsed</p></blockquote><blockquote><p>adj.rr.label<br>Adjusted R2 of the fitted model as a character string to be parsed</p></blockquote><blockquote><p>f.value.label<br>F value and degrees of freedom for the fitted model as a whole.</p></blockquote><blockquote><p>p.value..label<br>P-value for the F-value above.</p></blockquote><blockquote><p>AIC.label<br>AIC for the fitted model.</p></blockquote><blockquote><p>BIC.label<br>BIC for the fitted model.</p></blockquote><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å®šä¹‰å…¬å¼ç±»å‹</span>formula <span class="token operator">&lt;-</span> y <span class="token operator">~</span> x <span class="token operator">+</span> I<span class="token punctuation">(</span>x<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># æ·»åŠ æ‹Ÿåˆçº¿</span>P <span class="token operator">+</span> geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> formula<span class="token punctuation">)</span><span class="token comment"># æ·»åŠ å…¬å¼</span>p <span class="token operator">+</span> stat_poly_eq<span class="token punctuation">(</span>aes<span class="token punctuation">(</span>label <span class="token operator">=</span>  paste<span class="token punctuation">(</span>stat<span class="token punctuation">(</span>eq.label<span class="token punctuation">)</span><span class="token punctuation">,</span> stat<span class="token punctuation">(</span>adj.rr.label<span class="token punctuation">)</span><span class="token punctuation">,</span>                 sep <span class="token operator">=</span> <span class="token string">"*\", \"*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> formula <span class="token operator">=</span> formula<span class="token punctuation">,</span> parse <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token comment"># æ·»åŠ å‚æ•°è¡¨</span>p <span class="token operator">+</span> stat_fit_tb<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">,</span>              method.args <span class="token operator">=</span> list<span class="token punctuation">(</span>formula <span class="token operator">=</span> formula<span class="token punctuation">)</span><span class="token punctuation">,</span>              tb.type <span class="token operator">=</span> <span class="token string">"fit.anova"</span><span class="token punctuation">,</span>              tb.vars <span class="token operator">=</span> c<span class="token punctuation">(</span>Effect <span class="token operator">=</span> <span class="token string">"term"</span><span class="token punctuation">,</span>                           <span class="token string">"df"</span><span class="token punctuation">,</span>                          <span class="token string">"M.S."</span> <span class="token operator">=</span> <span class="token string">"meansq"</span><span class="token punctuation">,</span>                           <span class="token string">"italic(F)"</span> <span class="token operator">=</span> <span class="token string">"statistic"</span><span class="token punctuation">,</span>                           <span class="token string">"italic(P)"</span> <span class="token operator">=</span> <span class="token string">"p.value"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              label.y <span class="token operator">=</span> <span class="token number">0.87</span><span class="token punctuation">,</span> label.x <span class="token operator">=</span> <span class="token number">0.1</span><span class="token punctuation">,</span>              size <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>              parse <span class="token operator">=</span> <span class="token boolean">TRUE</span>  <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>stat_poly_eqæ˜¾ç¤ºp-value<code>stat(p.value.label)</code>ï¼Œpæ˜¾ç¤ºä¸ºå¤§å†™<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="â€œ på€¼â€çš„æ­£ç¡®æ‹¼å†™ï¼ˆå¤§å†™ï¼Œæ–œä½“ï¼Œè¿å­—ç¬¦ï¼‰å—ï¼Ÿ">[2]</span></a></sup>ï¼Œå¦‚æœéœ€è¦æ”¹ä¸ºå°å†™æ–œä½“<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="Can we neatly align the regression equation and R2 and p value?">[3]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å°†stat(p.value.label) æ›¿æ¢ä¸º</span>paste<span class="token punctuation">(</span><span class="token string">"italic(p)"</span><span class="token punctuation">,</span> substring<span class="token punctuation">(</span>p.value.label<span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="å¯¹æ•°æŒ‡æ•°å½¢å¼"><a href="#å¯¹æ•°æŒ‡æ•°å½¢å¼" class="headerlink" title="å¯¹æ•°æŒ‡æ•°å½¢å¼"></a>å¯¹æ•°æŒ‡æ•°å½¢å¼</h3><p><code>stat_poly_eq</code>åœ¨æ˜¾ç¤ºæŒ‡æ•°æˆ–å¯¹æ•°å‡½æ•°æ—¶æ€»å‡ºç°é—®é¢˜ï¼Œå› æ­¤è€ƒè™‘é‡‡ç”¨geom_line + geom_ribbon + annotateæ–¹å¼è¿‚å›å®ç°<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="How to visulaize linear model prediction in ggplot along with confidence interval?">[4]</span></a></sup>ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># å…¬å¼æ‹Ÿåˆ</span>log.model <span class="token operator">&lt;-</span>lm<span class="token punctuation">(</span>log<span class="token punctuation">(</span>Frequency<span class="token punctuation">)</span> <span class="token operator">~</span> Coverage<span class="token punctuation">,</span> area<span class="token punctuation">)</span><span class="token comment"># ç”¨äºgeom_ribbonæ˜¾ç¤ºCI</span>observeddata <span class="token operator">&lt;-</span> cbind<span class="token punctuation">(</span>area<span class="token punctuation">,</span> predict<span class="token punctuation">(</span>log.model<span class="token punctuation">,</span> newdata <span class="token operator">=</span> area<span class="token punctuation">,</span> interval <span class="token operator">=</span> <span class="token string">'confidence'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ç»„åˆç”Ÿæˆæ‹Ÿåˆçº¿ä¸å…¬å¼</span>p <span class="token operator">+</span> geom_ribbon<span class="token punctuation">(</span>data <span class="token operator">=</span> observeddata<span class="token punctuation">,</span>                 aes<span class="token punctuation">(</span>x <span class="token operator">=</span> Coverage<span class="token punctuation">,</span> y <span class="token operator">=</span> exp<span class="token punctuation">(</span>fit<span class="token punctuation">)</span><span class="token punctuation">,</span> ymin <span class="token operator">=</span> exp<span class="token punctuation">(</span>lwr<span class="token punctuation">)</span><span class="token punctuation">,</span> ymax <span class="token operator">=</span> exp<span class="token punctuation">(</span>upr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>   geom_line<span class="token punctuation">(</span>data <span class="token operator">=</span> log.model.df<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>Coverage<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span> <span class="token operator">+</span>   annotate<span class="token punctuation">(</span><span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token ellipsis">...</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="ä½¿ç”¨ggPredict"><a href="#ä½¿ç”¨ggPredict" class="headerlink" title="ä½¿ç”¨ggPredict()"></a>ä½¿ç”¨ggPredict()</h2><p><code>ggPredict</code>æä¾›äº†æ‹Ÿåˆæ›²çº¿çš„å°è£…å‡½æ•°ï¼Œç›¸æ¯”ggplot2åŸç”Ÿç»˜åˆ¶ï¼Œæ›´ä¸ºç®€å•ï¼ŒåŒæ—¶æ”¯æŒlm()ï¼Œglm()ç­‰æ‹Ÿåˆæ–¹å¼<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="ggPredict-Visualize multiple regression model">[5]</span></a></sup>ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">install.packages<span class="token punctuation">(</span><span class="token string">"devtools"</span><span class="token punctuation">)</span>devtools<span class="token operator">::</span>install_github<span class="token punctuation">(</span><span class="token string">"cardiomoon/ggiraphExtra"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="å¯¹æ¯”åŸç”Ÿæ–¹æ³•"><a href="#å¯¹æ¯”åŸç”Ÿæ–¹æ³•" class="headerlink" title="å¯¹æ¯”åŸç”Ÿæ–¹æ³•"></a>å¯¹æ¯”åŸç”Ÿæ–¹æ³•</h3><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r"><span class="token comment"># è½½å…¥æ ·ä¾‹æ•°æ®</span>require<span class="token punctuation">(</span>moonBook<span class="token punctuation">)</span><span class="token comment"># æ‹Ÿåˆ </span>fit <span class="token operator">=</span> lm<span class="token punctuation">(</span>NTAV<span class="token operator">~</span>age<span class="token punctuation">,</span> data <span class="token operator">=</span> radial<span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ggplotçš„ geom_smooth ç»˜åˆ¶</span>ggplot<span class="token punctuation">(</span>radial<span class="token punctuation">,</span> aes<span class="token punctuation">(</span>y <span class="token operator">=</span> NTAV<span class="token punctuation">,</span>x <span class="token operator">=</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> geom_point<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> geom_smooth<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">"lm"</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ggPredictç»˜åˆ¶</span>ggPredict<span class="token punctuation">(</span>fit<span class="token punctuation">,</span> se <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span> interactive <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://docs.r4photobiology.info/ggpmisc/reference/stat_poly_eq.html">Equation, p-value, R^2, AIC or BIC of fitted polynomial</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://qastack.cn/stats/871/correct-spelling-capitalization-italicization-hyphenation-of-p-value">â€œ på€¼â€çš„æ­£ç¡®æ‹¼å†™ï¼ˆå¤§å†™ï¼Œæ–œä½“ï¼Œè¿å­—ç¬¦ï¼‰å—ï¼Ÿ</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://stackoverflow.com/questions/61266084/can-we-neatly-align-the-regression-equation-and-r2-and-p-value">Can we neatly align the regression equation and R2 and p value?</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://stackoverflow.com/questions/41205153/how-to-visulaize-linear-model-prediction-in-ggplot-along-with-confidence-interva">How to visulaize linear model prediction in ggplot along with confidence interval?</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a href="https://cran.r-project.org/web/packages/ggiraphExtra/vignettes/ggPredict.html">ggPredict-Visualize multiple regression model</a><a href="#fnref:5" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ggplot2</tag>
      
      <tag>R</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é«˜å¾·åœ°å›¾è·å–å¤©æ´¥é“è·¯äº¤é€šæ€åŠ¿</title>
    <link href="/2016/12/23/%E4%BA%A4%E9%80%9A%E6%80%81%E5%8A%BF/"/>
    <url>/2016/12/23/%E4%BA%A4%E9%80%9A%E6%80%81%E5%8A%BF/</url>
    
    <content type="html"><![CDATA[<blockquote><p>é“è·¯çŠ¶æ€</p></blockquote><span id="more"></span><h2 id="è·å–çŸ©å½¢åŒºåŸŸå†…é“è·¯äº¤é€šçŠ¶æ€"><a href="#è·å–çŸ©å½¢åŒºåŸŸå†…é“è·¯äº¤é€šçŠ¶æ€" class="headerlink" title="è·å–çŸ©å½¢åŒºåŸŸå†…é“è·¯äº¤é€šçŠ¶æ€"></a>è·å–çŸ©å½¢åŒºåŸŸå†…é“è·¯äº¤é€šçŠ¶æ€</h2><p>è¯¦ç»†è¯´æ˜è¯·é˜…è¯»å®˜æ–¹è¯´æ˜æ–‡æ¡£<a href="https://lbs.amap.com/api/webservice/guide/api/trafficstatus">äº¤é€šæ€åŠ¿</a></p><h3 id="èŒƒå›´ç»çº¬åº¦"><a href="#èŒƒå›´ç»çº¬åº¦" class="headerlink" title="èŒƒå›´ç»çº¬åº¦"></a>èŒƒå›´ç»çº¬åº¦</h3><p>çŸ©å½¢èŒƒå›´éœ€è¦ç”¨é«˜å¾·åæ ‡æè¿°ï¼Œé€šè¿‡<code>JS API</code>çš„<a href="https://developer.amap.com/demo/javascript-api/example/map/click-to-get-lnglat">è·å–é¼ æ ‡ç‚¹å‡»ç»çº¬åº¦</a>åŠŸèƒ½å¾—åˆ°å·¦ä¸‹åŠå³ä¸Šåæ ‡ã€‚<br><strong>æ³¨æ„ï¼šçŸ©å½¢å¯¹è§’çº¿ä¸èƒ½è¶…è¿‡10å…¬é‡Œ</strong></p><h3 id="è¯·æ±‚è¯´æ˜"><a href="#è¯·æ±‚è¯´æ˜" class="headerlink" title="è¯·æ±‚è¯´æ˜"></a>è¯·æ±‚è¯´æ˜</h3><p>è¯·æ±‚å¦‚ä¸‹ï¼š<br><a href="https://restapi.amap.com/v3/traffic/status/rectangle?rectangle=117.670834,38.919082;117.733319,38.988499&amp;extensions=all&amp;levels=1&amp;key=xxxxxxx">https://restapi.amap.com/v3/traffic/status/rectangle?rectangle=117.670834,38.919082;117.733319,38.988499&amp;extensions=all&amp;levels=1&amp;key=xxxxxxx</a></p><ul><li>å…¶ä¸­<code>rectangle</code>ä¸ºçŸ©å½¢åŒºåŸŸèŒƒå›´ï¼Œå¯¹è§’åæ ‡ç”¨<code>;</code>éš”å¼€</li><li><code>levels</code>æŒ‡å®šé“è·¯ç­‰çº§ï¼Œä¸‹é¢å„å€¼ä»£è¡¨çš„å«ä¹‰ï¼š<div class="code-wrapper"><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">1ï¼šé«˜é€Ÿï¼ˆäº¬è—é«˜é€Ÿï¼‰2ï¼šåŸå¸‚å¿«é€Ÿè·¯ã€å›½é“(è¥¿ä¸‰ç¯ã€103å›½é“)3ï¼šé«˜é€Ÿè¾…è·¯ï¼ˆG6è¾…è·¯ï¼‰4ï¼šä¸»è¦é“è·¯ï¼ˆé•¿å®‰è¡—ã€ä¸‰ç¯è¾…è·¯è·¯ï¼‰5ï¼šä¸€èˆ¬é“è·¯ï¼ˆå½©å’ŒåŠè·¯ï¼‰6ï¼šæ— åé“è·¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><code>key</code>éœ€è¦è‡ªå·±æ³¨å†Œç”³è¯·<br>  <strong>è¯´æ˜ï¼šäº¤é€šæ€åŠ¿æ¥å£è®¡åˆ’å°†äº2020å¹´12æœˆ31æ—¥ä¸‹çº¿ï¼Œç›®å‰ä¸å†å¯¹æ–°ç”¨æˆ·å¼€æ”¾ã€‚å¦‚éœ€åˆä½œè¯·é€šè¿‡</strong><a href="https://console.amap.com/dev/ticket/type/others"><strong>å·¥å•</strong></a><strong>è¿›è¡Œå•†åŠ¡å’¨è¯¢ã€‚</strong></li><li>è¿”å›ç»“æœä¸º<code>json</code>æ ¼å¼</li></ul><h3 id="ç»“æœå­˜å‚¨"><a href="#ç»“æœå­˜å‚¨" class="headerlink" title="ç»“æœå­˜å‚¨"></a>ç»“æœå­˜å‚¨</h3><p>ç¯å¢ƒï¼š<code>R</code>ï¼Œ<code>Rstudio</code><br>Libraryï¼š<code>curl</code></p><ol><li><p>å—çŸ©å½¢èŒƒå›´é™å®šï¼Œéœ€è¦å°†ç›®æ ‡åŒºåŸŸåˆ†å‰²æˆå¤šå—çŸ©å½¢ï¼Œåˆ†åˆ«è¿›è¡Œè·å–ã€‚åˆ›å»º<code>tjarea.csv</code>æ–‡ä»¶ä¿å­˜æ¯å—åŒºåŸŸçš„è¯·æ±‚åœ°å€ã€‚æ¯ä¸ªåœ°å€ä¸€è¡Œï¼Œæ— éœ€è¡¨å¤´ã€‚</p></li><li><p>å»ºç«‹<code>tj_traffic.r</code>è„šæœ¬ï¼Œæ¯10åˆ†é’Ÿä¸€æ¬¡è¯·æ±‚ï¼Œä¿å­˜jsonæ–‡ä»¶åˆ°æœ¬åœ°</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">library<span class="token punctuation">(</span>curl<span class="token punctuation">)</span>  setwd<span class="token punctuation">(</span><span class="token string">"E:/"</span><span class="token punctuation">)</span>  Url <span class="token operator">=</span> read.csv<span class="token punctuation">(</span><span class="token string">"E:/TRAFFIC/tjarea.csv"</span><span class="token punctuation">,</span>header <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>  mytime <span class="token operator">=</span> Sys.time<span class="token punctuation">(</span><span class="token punctuation">)</span>  mydate <span class="token operator">=</span> format<span class="token punctuation">(</span>mytime<span class="token punctuation">,</span><span class="token string">"%Y%m%d"</span><span class="token punctuation">)</span>  dir.create<span class="token punctuation">(</span>mydate<span class="token punctuation">)</span>  nowhour <span class="token operator">=</span> substr<span class="token punctuation">(</span>as.character<span class="token punctuation">(</span>Sys.time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span>  nowmin <span class="token operator">=</span> substr<span class="token punctuation">(</span>as.character<span class="token punctuation">(</span>Sys.time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span>  min <span class="token operator">=</span>     switch <span class="token punctuation">(</span>as.numeric<span class="token punctuation">(</span>nowmin<span class="token punctuation">)</span><span class="token percent-operator operator">%/%</span><span class="token number">10</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>    <span class="token string">"00"</span><span class="token punctuation">,</span>           <span class="token string">"10"</span><span class="token punctuation">,</span>    <span class="token string">"20"</span><span class="token punctuation">,</span>    <span class="token string">"30"</span><span class="token punctuation">,</span>    <span class="token string">"40"</span><span class="token punctuation">,</span>    <span class="token string">"50"</span>  <span class="token punctuation">)</span>    dir.create<span class="token punctuation">(</span>paste<span class="token punctuation">(</span>mydate<span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">,</span>nowhour<span class="token punctuation">,</span>min<span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    tempdir <span class="token operator">=</span> paste<span class="token punctuation">(</span>mydate<span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">,</span>nowhour<span class="token punctuation">,</span>min<span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">315</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    url <span class="token operator">=</span> as.character<span class="token punctuation">(</span>Url<span class="token punctuation">[</span>i<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dir <span class="token operator">=</span> paste<span class="token punctuation">(</span><span class="token string">"E:/TRAFFIC/TJTRAFFIC/"</span><span class="token punctuation">,</span>tempdir<span class="token punctuation">,</span><span class="token string">"/tj_"</span><span class="token punctuation">,</span> as.character<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">".json"</span><span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    curl_download<span class="token punctuation">(</span>url<span class="token punctuation">,</span> dir<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>å»ºç«‹<code>bat</code>æ–‡ä»¶ï¼Œç”¨äºè®¾ç½®Windowså®šæ—¶ä»»åŠ¡ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-batch" data-language="batch"><code class="language-batch"><span class="token command"><span class="token keyword">Rscript</span> <span class="token parameter attr-name">-e</span> <span class="token string">"source(\"E:/TJTRAFFIC/tj_traffic.R/"</span>,encoding = 'UTF<span class="token number">-8</span>'</span><span class="token punctuation">)</span>"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li></ol><h3 id="Jsonè§£æ"><a href="#Jsonè§£æ" class="headerlink" title="Jsonè§£æ"></a>Jsonè§£æ</h3><p>Libraryï¼š<code>rjson</code>,<code>xlsx</code><br>è§£æjsonæ–‡ä»¶ä¸­çš„roadinfoï¼Œå…¶ä¸­åŒ…å«å¤šæ¡é“è·¯æ•°æ®ï¼Œç”¨rbindæ‹¼æ¥å¹¶æ·»åŠ timestampï¼Œæ·»åŠ è·¯åä¸æè¿°ç»„æˆçš„å”¯ä¸€å­—æ®µï¼Œæ¯å°æ—¶è¾“å‡ºä¸€ä¸ªæ–‡ä»¶xlsx</p><div class="code-wrapper"><pre class="line-numbers language-r" data-language="r"><code class="language-r">Sys.setenv<span class="token punctuation">(</span>JAVA_HOME<span class="token operator">=</span><span class="token string">"C:/Program Files/Java/jre1.8.0\_111"</span><span class="token punctuation">)</span>   library<span class="token punctuation">(</span>rjson<span class="token punctuation">)</span>  library<span class="token punctuation">(</span>dplyr<span class="token punctuation">)</span>  library<span class="token punctuation">(</span>xlsx<span class="token punctuation">)</span>  <span class="token comment"># è®¾ç½®å·¥ä½œç›®å½•  </span>setwd<span class="token punctuation">(</span><span class="token string">"E:/TJTRAFFIC/"</span><span class="token punctuation">)</span> <span class="token comment"># è¯»å–æ¨¡æ¿</span>roadtraffic <span class="token operator">=</span> readRDS<span class="token punctuation">(</span><span class="token string">"roadtraffic.rds"</span><span class="token punctuation">)</span>  <span class="token comment">#æ—¥æœŸå¾ªç¯</span><span class="token keyword">for</span> <span class="token punctuation">(</span>date <span class="token keyword">in</span> <span class="token number">20161122</span><span class="token operator">:</span><span class="token number">20161123</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>hour <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span>k <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">195</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            tryCatch<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>              result <span class="token operator">=</span> fromJSON<span class="token punctuation">(</span>file <span class="token operator">=</span> paste<span class="token punctuation">(</span>                date<span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">,</span>formatC<span class="token punctuation">(</span>hour<span class="token punctuation">,</span>width <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>flag <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token string">"0/tj\_"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token string">".json"</span><span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span>              <span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">$</span>status <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                roads <span class="token operator">=</span> result<span class="token operator">$</span>trafficinfo<span class="token operator">$</span>roads                temp <span class="token operator">=</span> do.call<span class="token punctuation">(</span>rbind<span class="token punctuation">,</span>roads<span class="token punctuation">)</span>                temp <span class="token operator">=</span> as.data.frame<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>                strtime <span class="token operator">=</span> paste<span class="token punctuation">(</span>                  date<span class="token punctuation">,</span>formatC<span class="token punctuation">(</span>hour<span class="token punctuation">,</span>width <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>flag <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token string">"000"</span><span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span>                <span class="token punctuation">)</span>                temp <span class="token operator">=</span> mutate<span class="token punctuation">(</span>temp<span class="token punctuation">,</span>timestamp <span class="token operator">=</span> strtime<span class="token punctuation">)</span>                roadtraffic <span class="token operator">=</span> rbind.data.frame<span class="token punctuation">(</span>roadtraffic<span class="token punctuation">,</span>temp<span class="token punctuation">)</span>              <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>              <span class="token punctuation">,</span>error<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token keyword">NULL</span>             <span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>      roadtraffic <span class="token operator">=</span> mutate<span class="token punctuation">(</span>roadtraffic<span class="token punctuation">,</span> fullname <span class="token operator">=</span> paste<span class="token punctuation">(</span>name<span class="token punctuation">,</span>direction<span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      write.xlsx2<span class="token punctuation">(</span>roadtraffic<span class="token punctuation">,</span>paste<span class="token punctuation">(</span><span class="token string">"excel/"</span><span class="token punctuation">,</span>date<span class="token punctuation">,</span>formatC<span class="token punctuation">(</span>hour<span class="token punctuation">,</span>width <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>flag <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">".xlsx"</span><span class="token punctuation">,</span>sep <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">,</span> collapse <span class="token operator">=</span> <span class="token keyword">NULL</span><span class="token punctuation">)</span><span class="token punctuation">,</span> row.name <span class="token operator">=</span> <span class="token boolean">FALSE</span><span class="token punctuation">)</span>      roadtraffic <span class="token operator">=</span> readRDS<span class="token punctuation">(</span><span class="token string">"roadtraffic.rds"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>é«˜å¾·API</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS è·¯ç½‘ç½‘æ ¼åˆ’åˆ†</title>
    <link href="/2016/10/17/ArcGIS-%E8%B7%AF%E7%BD%91%E5%88%87%E5%88%86/"/>
    <url>/2016/10/17/ArcGIS-%E8%B7%AF%E7%BD%91%E5%88%87%E5%88%86/</url>
    
    <content type="html"><![CDATA[<p>åœ¨å·²æœ‰ç½‘æ ¼çš„æƒ…å†µä¸‹ï¼Œç”¨ç½‘æ ¼å°†é“è·¯åˆ‡æ–­ï¼Œä»¥ä¾¿å»ºç«‹é“è·¯å’Œç½‘æ ¼çš„å¯¹åº”å…³ç³»ã€‚</p><span id="more"></span><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ç°æœ‰åŒ—äº¬<a href="https://mattzou.com/2016/02/28/ArcGIS-Fishnet/#">ç½‘æ ¼å›¾å±‚ï¼ˆçº¿è¦ç´ ï¼‰</a>ä»¥åŠåŒ—äº¬<strong>è·¯ç½‘å›¾å±‚</strong>ï¼Œè¦ç”¨ç½‘æ ¼çº¿åˆ‡åˆ†é“è·¯ã€‚</p><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>å°†ç½‘æ ¼å›¾å±‚ä¸­çš„å…¨éƒ¨è¦ç´ å¤åˆ¶åˆ°è·¯ç½‘å›¾å±‚ï¼Œé€‰ç”¨<code> Planarize Lines</code>å·¥å…·ï¼Œå°†ç›¸äº¤çº¿æ‰“æ–­ï¼Œå®Œæˆåˆ‡åˆ†åé€šè¿‡è¦ç´ ç­›é€‰ï¼Œå°†å‚ä¸åˆ‡åˆ†çš„ç½‘æ ¼çº¿åˆ é™¤ï¼Œå‰©ä¸‹çš„è·¯ç½‘å°±æ˜¯åˆ‡åˆ†å¥½çš„äº†ï¼Œæ¥ç€é€šè¿‡<a href="https://mattzou.com/2016/03/03/ArcGIS-%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84/#">è¦ç´ æ˜ å°„</a>å»ºç«‹é“è·¯ä¸ç½‘æ ¼çš„æ˜ å°„å…³ç³»ï¼Œé“è·¯ç½‘æ ¼åˆ’åˆ†å°±å®Œæˆäº†ã€‚ </p><h3 id="å·¥å…·ä½ç½®"><a href="#å·¥å…·ä½ç½®" class="headerlink" title="å·¥å…·ä½ç½®"></a>å·¥å…·ä½ç½®</h3><p>å›¾å±‚è¿›å…¥ç¼–è¾‘çŠ¶æ€åï¼Œ<strong>Advanced Editing</strong> å·¥å…·æ ä¸Šï¼Œç‚¹å‡»å³è¿è¡Œã€‚</p><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/%E8%B7%AF%E7%BD%91%E5%88%87%E5%88%861.jpg/pic" alt="è·¯ç½‘åˆ‡åˆ† 1"> </p><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>1.åœ¨<strong>è·¯ç½‘å›¾å±‚</strong>ä¸Š<a href="http://resources.arcgis.com/zh-cn/help/main/10.2/index.html#/na/01m60000005p000000/">å¯åŠ¨ç¼–è¾‘</a>;</p><p>2.<a href="resources.arcgis.com/zh-cn/help/main/10.2/index.html#/na/00s50000000w000000/">å…¨é€‰</a><strong>ç½‘æ ¼å›¾å±‚</strong>è¦ç´ ï¼Œ<code> Ctrl + C</code> ï¼Œç„¶å<code>Ctrl + V</code> åˆ°<strong>è·¯ç½‘å›¾å±‚</strong>;</p><p>3.åœ¨åˆå¹¶ç”Ÿæˆçš„æ–°è·¯ç½‘å›¾å±‚ä¸­å…¨é€‰è¦ç´ ï¼Œåœ¨<strong>Advanced Editing</strong> å·¥å…·æ ä¸Šç‚¹å‡»<a href="http://resources.arcgis.com/en/help/main/10.2/index.html#//01m800000012000000/">Planarize Lines</a>å·¥å…·ï¼›</p><p>4.æ‰“å¼€åˆ‡åˆ†å®Œæˆåçš„å›¾å±‚å±æ€§è¡¨ï¼Œé€šè¿‡ç½‘æ ¼å›¾å±‚ç‰¹æœ‰å±æ€§ï¼Œç”¨<a href="http://resources.arcgis.com/zh-cn/help/main/10.2/index.html#/na/00s500000021000000/">æŒ‰å±æ€§é€‰æ‹©</a>æ–¹æ³•ï¼Œå°†ç½‘æ ¼çº¿è¦ç´ é€‰å‡ºï¼Œå¹¶åˆ é™¤ï¼Œå‰©ä¸‹çš„å°±æ˜¯åˆ‡åˆ†å¥½çš„è·¯ç½‘ï¼›</p><h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><blockquote><p>é“è·¯å‡åœ¨ç½‘æ ¼çº¿å¤„è¢«æˆªæ–­ï¼š</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/%E8%B7%AF%E7%BD%91%E5%88%87%E5%88%862.jpg/pic" alt="è·¯ç½‘åˆ‡åˆ† 2"></p><hr>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS</tag>
      
      <tag>è·¯ç½‘åˆ‡åˆ†</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>â€œå…¬ç›Šäº‘å›¾â€æ•°æ®å¯è§†åŒ–åˆ›æ–°å¤§èµ›æŠ€æœ¯æ±‡æ€»</title>
    <link href="/2016/09/26/%E2%80%9C%E5%85%AC%E7%9B%8A%E4%BA%91%E5%9B%BE%E2%80%9D%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/"/>
    <url>/2016/09/26/%E2%80%9C%E5%85%AC%E7%9B%8A%E4%BA%91%E5%9B%BE%E2%80%9D%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E5%88%9B%E6%96%B0%E5%A4%A7%E8%B5%9B%E6%8A%80%E6%9C%AF%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡ç”¨ä»¥æ€»ç»“å‚èµ›ä»¥æ¥å„ç§æŠ€æœ¯å®ç°åŠæ€è·¯ã€‚</p><blockquote><p>åˆ«ç®¡å¯¹æ‰‹æ˜¯å¦å¼ºå¤§ï¼ŒåŠ¨æ‰‹å»åšï¼Œè¯´ä¸å®šæœ‰å¥‡è¿¹å‘¢ï¼</p></blockquote><span id="more"></span><hr><h1 id="ä½œå“ç®€ä»‹"><a href="#ä½œå“ç®€ä»‹" class="headerlink" title="ä½œå“ç®€ä»‹"></a>ä½œå“ç®€ä»‹</h1><br><div class="row">    <embed src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/Environment/MagicGraph.pdf" width="100%" height="550" type="application/pdf"></div><br><h1 id="ç¦»çº¿ä½œå“"><a href="#ç¦»çº¿ä½œå“" class="headerlink" title="ç¦»çº¿ä½œå“"></a>ç¦»çº¿ä½œå“</h1><p><a href="http://mattzou.com/mg/magicgraph.html">MagicGraph</a></p><h1 id="å‚èµ›æ€è€ƒ"><a href="#å‚èµ›æ€è€ƒ" class="headerlink" title="å‚èµ›æ€è€ƒ"></a>å‚èµ›æ€è€ƒ</h1><h2 id="é˜Ÿä¼"><a href="#é˜Ÿä¼" class="headerlink" title="é˜Ÿä¼"></a>é˜Ÿä¼</h2><p>é˜Ÿä¼åç§°çº ç»“äº†æˆ‘åŠå¤©ï¼Œæƒ³æƒ³ç”¨<code>R</code>è¿™ä¹ˆå­¦æœ¯çš„è½¯ä»¶åšå¯è§†åŒ–äº¤äº’ï¼Œå¿…æ˜¯è¦æŠ˜è…¾ä¸€ç•ªï¼Œæœ¬ç€å†…å¿ƒå°å°çš„<code>Geeker</code>ç²¾ç¥ï¼Œå¤–åŠ è‹±æ–‡ä»£å·<code>Matt</code>ï¼Œå°±è¿™ä¹ˆå‡‘äº†ä¸ª<em>MGeek</em>.</p><h2 id="èµ›é¢˜"><a href="#èµ›é¢˜" class="headerlink" title="èµ›é¢˜"></a>èµ›é¢˜</h2><p>é€‰äº†ä¸ªè·Ÿè‡ªå·±ä¸“ä¸šå¯¹å£çš„ï¼Œå“ˆï¼</p><blockquote><p><strong>ç©ºæ°”è´¨é‡ä¸å¤§æ°”ç¯å¢ƒ</strong></p></blockquote><h3 id="æ¶‰åŠæ•°æ®"><a href="#æ¶‰åŠæ•°æ®" class="headerlink" title="æ¶‰åŠæ•°æ®"></a>æ¶‰åŠæ•°æ®</h3><ul><li>åŒºåŸŸå†…ç©ºæ°”è´¨é‡çš„å®æ—¶ç›‘æµ‹æ•°æ®ï¼Œä»¥åŠç›‘æµ‹ç‚¹çš„åœ°ç†åæ ‡;</li><li>å½“åœ°æ°”è±¡å±€æä¾›çš„æ°”å‹ã€æ¸©åº¦ã€æ¹¿åº¦ã€é™æ°´ä¸é£åŠ›é£å‘ç­‰æ•°æ®ï¼Œä»¥åŠä¿¡æ¯é‡‡é›†ç‚¹çš„åœ°ç†åæ ‡;</li></ul><h3 id="å‘ˆç°å†…å®¹"><a href="#å‘ˆç°å†…å®¹" class="headerlink" title="å‘ˆç°å†…å®¹"></a>å‘ˆç°å†…å®¹</h3><p><strong>ç©ºæ°”è´¨é‡ä¸å¤§æ°”ç¯å¢ƒçš„å…³ç³»</strong><br>    ä»¥æ—¶é—´æµé€çš„æ–¹å¼ï¼ŒåŠ¨æ€å±•ç°åŒºåŸŸå†…ç©ºæ°”è´¨é‡å˜åŒ–ã€‚æ¯”å¦‚åœ¨åœ°å›¾å›¾å±‚ä¸Šï¼Œä»¥é¢œè‰²è¡¨ç¤ºç©ºæ°”è´¨é‡ã€ä»¥ç®­å¤´æ–¹å‘å’Œç²—ç»†è¡¨ç¤ºé£åŠ›é£å‘ã€ä»¥è§‚æµ‹ç‚¹ä½ç½®çš„åŠ¨æ€å›¾æ ‡è¡¨ç¤ºæ¸©åº¦å’Œæ¹¿åº¦ç­‰;</p><p><strong>ç©ºæ°”æ±¡æŸ“æ¢¯åº¦å’ŒåŒºåŸŸæ±¡æŸ“ä¼°è®¡</strong><br>    é€šè¿‡æ›²çº¿æ‹Ÿåˆï¼Œåœ¨åœ°å›¾ä¸Šï¼Œç»˜åˆ¶ç±»ä¼¼ç­‰é«˜çº¿å‹çš„ç©ºæ°”æ±¡æŸ“æ¢¯åº¦å›¾ï¼Œå¯¹æ²¡æœ‰ç©ºæ°”è´¨é‡ç›‘æµ‹çš„åŸå¸‚å’Œåœ°åŒºè¿›è¡Œç©ºæ°”è´¨é‡ä¼°è®¡;</p><p><strong>é£å’Œé™æ°´å¯¹ç©ºæ°”æ±¡æŸ“çš„å¸®åŠ©</strong><br>    é€šå¸¸ç”±äºé£å’Œé™æ°´çš„ä½œç”¨ï¼Œå¯ä»¥æ˜¾è‘—æ”¹å–„ç©ºæ°”è´¨é‡ã€‚é€šè¿‡å…³è”åˆ†æï¼Œå®šé‡çš„äº†è§£ç»™å®šé£åŠ›æˆ–é™æ°´æ¡ä»¶ä¸‹ï¼Œç©ºæ°”è´¨é‡ä¼šå¾—åˆ°å¤šå¤§ç¨‹åº¦æ”¹å–„ï¼Œç©ºæ°”è´¨é‡æ”¹å–„çš„é€Ÿåº¦æ˜¯ä»€ä¹ˆæ ·çš„;</p><p><strong>æ¨æ–­ç©ºæ°”æ±¡æŸ“ç‰©æ¥æºï¼ˆé«˜çº§å†…å®¹ï¼‰</strong><br>    é€šè¿‡æ±¡æŸ“ç‰©æ‰©æ•£è¶‹åŠ¿å’Œæ¢¯åº¦ï¼Œæ¨æ–­æ±¡æŸ“æºå‘ç”Ÿçš„åœ°ç†ä½ç½®ï¼Œå¹¶åœ¨åœ°å›¾ä¸Šæ ‡è¯†;</p><p><strong>æ‹Ÿåˆç©ºæ°”æ±¡æŸ“ä¸å¤§æ°”ç¯å¢ƒæ–¹ç¨‹ï¼ˆé«˜çº§å†…å®¹ï¼‰</strong><br>    æ‹Ÿåˆç©ºæ°”æ±¡æŸ“ç‰©æ‰©æ•£çš„æ–¹ç¨‹ï¼Œåˆ¶ä½œäº¤äº’å¼çš„æ±¡æŸ“ç‰©æ‰©æ•£é¢„æµ‹ï¼Œé€šè¿‡ç”¨æˆ·è¾“å…¥å¯æ”¹å˜æŸåœ°çš„æ°”è±¡çŠ¶å†µï¼Œç„¶ååŠ¨æ€æ¨¡æ‹Ÿåœ¨è®¾å®šçš„ç©ºæ°”çŠ¶å†µä¸‹ï¼Œæ±¡æŸ“ç‰©æ‰©æ•£çš„è¶‹åŠ¿ã€èŒƒå›´å’Œé€Ÿåº¦ã€‚</p><h2 id="ä½œå“"><a href="#ä½œå“" class="headerlink" title="ä½œå“"></a>ä½œå“</h2><h3 id="ä½¿ç”¨æ•°æ®"><a href="#ä½¿ç”¨æ•°æ®" class="headerlink" title="ä½¿ç”¨æ•°æ®"></a>ä½¿ç”¨æ•°æ®</h3><ul><li>å…¨å›½å¿çº§åŸå¸‚å®æ—¶å¤©æ°”æ•°æ®</li><li>å…¨å›½é£åœºæ ¼ç‚¹å®å†µæ•°æ®</li><li>å›½æ§ç«™ç‚¹ç›‘æµ‹å®æ—¶ç©ºæ°”æ±¡æŸ“æ•°æ®</li><li>å›½æ§ç©ºæ°”æ£€æµ‹ç«™ç‚¹åˆ†å¸ƒæ•°æ®</li><li>å—äº¬å¸‚é“è·¯å¡å£è½¦è¾†ç›‘æµ‹æ•°æ®</li><li>è¿‘æœŸGlobal Forecast System (GFS)æ•°æ® United Statesâ€™ National Weather Service (NWS)è·å–</li></ul><h3 id="ä½œå“è®¾è®¡æ€è·¯"><a href="#ä½œå“è®¾è®¡æ€è·¯" class="headerlink" title="ä½œå“è®¾è®¡æ€è·¯"></a>ä½œå“è®¾è®¡æ€è·¯</h3><ul><li>æ±¡æŸ“æºæ’æ”¾æ±¡æŸ“ç‰©åéšå¤§æ°”æ´»åŠ¨åœ¨ç¯å¢ƒä¸­æ‰©æ•£ï¼Œè·Ÿè¸ªå¤§æ°”è¿åŠ¨è½¨è¿¹ï¼Œæä¾›äº†ä¸€ä¸ªæº¯æµè€Œä¸Šçš„æ–¹å¼ã€‚</li><li>å› æ­¤ç°æœ‰ç©ºæ°”è´¨é‡ç›‘æµ‹ä¸å¤§æ°”ç¯å¢ƒè§‚æµ‹ä½“ç³»æ‰€æä¾›çš„æ•°æ®ä¸ä»…å¯ä»¥åˆ†ææ±¡æŸ“æœ‰å¤šé‡ï¼Œè¿˜å¯ä»¥é€šè¿‡å…³è”åˆ†ææ¨æ–­æ±¡æŸ“æºçš„ä½ç½®ã€‚</li><li>ç»“åˆç¯å¢ƒæ•°æ®ã€åœ°å›¾ä½ç½®ä¿¡æ¯ï¼Œåˆ†ææ±¡æŸ“æ¥æºã€‚</li></ul><h3 id="å®ç°æ–¹æ³•"><a href="#å®ç°æ–¹æ³•" class="headerlink" title="å®ç°æ–¹æ³•"></a>å®ç°æ–¹æ³•</h3><h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><ul><li>æ•°æ®å¤„ç†<br>  <em>Rã€MATLABã€Excelã€ArcGIS</em></li><li>å›¾åƒå¤„ç†<br>  <em>Adobe Photoshop</em></li><li>æœåŠ¡ç»„ä»¶<br>  <em>Dockerã€Shiny serverã€Node.js</em></li><li>éƒ¨ç½²<br>  <em>é˜¿é‡Œäº‘ECS</em></li></ul><h4 id="åˆ›ä½œæ–¹æ³•"><a href="#åˆ›ä½œæ–¹æ³•" class="headerlink" title="åˆ›ä½œæ–¹æ³•"></a>åˆ›ä½œæ–¹æ³•</h4><ol><li>å±•ç¤ºæ•°æ®è·å–åŠå¤„ç†</li><li>R æ•°æ®å¤„ç†</li><li>Rmarkdownç¼–å†™å±•ç¤ºæ–‡æ¡£ï¼ŒåŸºäºä»¥ä¸‹ç»„ä»¶ï¼š<br><a href="http://rmarkdown.rstudio.com/">R Markdown</a>ã€<a href="http://rmarkdown.rstudio.com/flexdashboard/">flexdashboard</a>ã€<a href="http://ggplot2.org/">ggplot2</a>ã€<a href="https://plot.ly/r/">Plotly For R</a>ã€<a href="http://jkunst.com/highcharter/">Highcharter</a>ã€<a href="http://rstudio.github.io/leaflet/">Leaflet For R</a></li><li>åŠ¨æ€é£åœºå›¾åŸºäº<a href="https://github.com/dannycochran/windable">windable</a>é¡¹ç›®</li><li><a href="https://www.rstudio.com/products/shiny/shiny-server/">Shiny server</a>ä½œä¸ºWeb serverï¼ŒåŠ¨æ€ç¼–è¯‘R markdownæ–‡ä»¶ç”Ÿæˆäº¤äº’é¡µé¢</li><li><a href="https://hub.docker.com/r/quantumobject/docker-shiny/">Docker</a>æ‰“åŒ…ä»¥ä¸Šç»„ä»¶ï¼Œéƒ¨ç½²åˆ°é˜¿é‡Œäº‘ECS</li></ol><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><blockquote><ol><li> <a href="http://mattzou.github.io/2016/02/28/ArcGIS_Fishnet_2016-02-28/#">[Rå¯è§†åŒ–å·¥å…·]</a> <strong>å¯è§†åŒ–</strong> å·¥å…·æ±‡æ€»</li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Plotly]</a> <strong>å¯è§†åŒ–</strong> <code>Plotly For R</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[R markdown]</a> <strong>å¯è§†åŒ–</strong> <code>R markdown</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Flexdashboard]</a> <strong>å¯è§†åŒ–</strong> <code>Flexdashboard</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Plotly]</a> <strong>å¯è§†åŒ–</strong> <code>Plotly For R</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Shiny server]</a> <strong>å¯è§†åŒ–</strong> <code>Shiny server</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Leaflet]</a> <strong>å¯è§†åŒ–</strong> <code>Plotly For R</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Highcharter]</a> <strong>å¯è§†åŒ–</strong> <code>Plotly For R</code> </li><li> <a href="http://mattzou.github.io/2016/03/03/ArcGIS_%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84_2016-03-03/#">[Docker]</a> <strong>å¯è§†åŒ–</strong> <code>Plotly For R</code> </li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>ç›®å½•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¤©æ± </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle impdpä¸expdpè¿›è¡Œæ•°æ®èµ„äº§å¿«é€Ÿè¿ç§»</title>
    <link href="/2016/08/14/Oracle-impdp%E4%B8%8Eexpdp/"/>
    <url>/2016/08/14/Oracle-impdp%E4%B8%8Eexpdp/</url>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å¯¹äºOracleæ•°æ®è¿ç§»ä»»åŠ¡ï¼Œå®˜æ–¹æä¾›äº†ä¸€ç³»åˆ—å·¥å…·<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Oralce Utilities">[1]</span></a></sup>ï¼Œåº”ç”¨è¾ƒå¤šçš„æ˜¯<strong>Data Pump</strong>å·¥å…·å’Œ<a href="https://mattzou.com/2016/03/18/Oracle_SQLLDR/"><strong>SQL*Loaderå·¥å…·</strong></a>ã€‚</p><p><strong>Data Pump</strong>å·¥å…·ä¸»è¦é€‚ç”¨äºOracleæ•°æ®åº“ä¹‹é—´æ•°æ®è¿ç§»ï¼Œ<strong>SQL*Loaderå·¥å…·</strong>åå‘äºå¤–éƒ¨æ•°æ®æ–‡ä»¶å¯¼å…¥ã€‚</p><blockquote><ul><li>Oracle Data Pump technology enables very high-speed movement of data and metadata from one database to another.</li><li>SQL*Loader loads data from external files into Oracle Database tables.<br>Â© Oracle è¯´çš„ğŸ˜</li></ul></blockquote><p><strong>Data Pump</strong>å·¥å…·ç”±ä»¥ä¸‹ä¸‰ä¸ªæ¨¡å—ç»„æˆï¼š</p><blockquote><ol><li>Command-line clients, <code>expdp</code> and <code>impdp</code></li><li>DBMS_DATAPUMP PL/SQL package (also known as the Data Pump API)</li><li>DBMS_METADATA PL/SQL package (also known as the Metadata API)</li></ol></blockquote><p>æœ¬æ–‡ä¸»è¦ä»‹ç»<code>expdp</code> å’Œ <code>impdp</code> çš„ä½¿ç”¨æ–¹æ³•ã€‚</p><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><p>ç¯å¢ƒï¼š Windows 10 or latestï¼Œ Oracle 11g or latest version</p><h3 id="ç›®å½•åˆ›å»ºä¸æˆæƒ"><a href="#ç›®å½•åˆ›å»ºä¸æˆæƒ" class="headerlink" title="ç›®å½•åˆ›å»ºä¸æˆæƒ"></a>ç›®å½•åˆ›å»ºä¸æˆæƒ</h3><p><strong>Data Pump</strong>å·¥å…·å¯¼å…¥å¯¼å‡ºçš„æ–‡ä»¶éœ€è¦å‚¨å­˜åœ¨å®ä½“ç›®å½•ä¸‹ï¼Œå¹¶åœ¨Oracleä¸­åˆ›å»ºè™šæ‹Ÿç›®å½•åç§°ä¸ä¹‹æ˜ å°„ã€‚</p><h4 id="ç›®å½•æŸ¥è¯¢"><a href="#ç›®å½•æŸ¥è¯¢" class="headerlink" title="ç›®å½•æŸ¥è¯¢"></a>ç›®å½•æŸ¥è¯¢</h4><p>ä»¥ç®¡ç†å‘˜è´¦å·ç™»é™†<strong>sqlplus</strong></p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SQL</span><span class="token operator">></span>conn system<span class="token operator">/</span>manger<span class="token variable">@orcl</span> <span class="token keyword">as</span> sysdba<span class="token keyword">SQL</span><span class="token operator">></span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dba_directories<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>å¯ä»¥æŸ¥çœ‹å½“å‰å­˜åœ¨çš„ç›®å½•ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">OWNER                          DIRECTORY_NAME<span class="token comment">------------------------------ -----------------------------</span>DIRECTORY_PATH<span class="token comment">------------------------------------------------------------</span>SYS                            XMLDIRc:\ade\aime_dadvfh0169\oracle<span class="token operator">/</span>rdbms<span class="token operator">/</span>xml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p><code>DIRECTORY_PATH</code>æ˜¯å®ä½“ç›®å½•ä½ç½®ï¼Œè¯·ç¡®ä¿å·²ç»åˆ›å»ºæ­¤ç›®å½•<br><code>DIRECTORY_NAME</code>æ˜¯è™šæ‹Ÿç›®å½•åç§°</p><h4 id="ç›®å½•åˆ›å»º"><a href="#ç›®å½•åˆ›å»º" class="headerlink" title="ç›®å½•åˆ›å»º"></a>ç›®å½•åˆ›å»º</h4><p>å¯ä»¥ä½¿ç”¨å·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œæˆ–è€…åˆ›å»ºæ–°çš„ç›®å½•(æ¨è)</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SQL</span><span class="token operator">></span><span class="token keyword">create</span> directory dump_dir <span class="token keyword">as</span> <span class="token string">'d:\test\dump'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p><code>dump_dir</code>è‡ªå®šä¹‰åç§°ï¼Œå¯¹åº”<code>DIRECTORY_NAME</code><br>åˆ›å»ºåå¯ä»¥å†æ¬¡<a href="#%E7%9B%AE%E5%BD%95%E6%9F%A5%E8%AF%A2">æŸ¥è¯¢</a>æ˜¯å¦åˆ›å»ºæˆåŠŸã€‚</p><h4 id="ç›®å½•æˆæƒ"><a href="#ç›®å½•æˆæƒ" class="headerlink" title="ç›®å½•æˆæƒ"></a>ç›®å½•æˆæƒ</h4><p>ç»™æ•°æ®æ¢å¤æˆ–å¯¼å‡ºç”¨æˆ·æˆæƒ<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="Required Roles for Oracle Data Pump Export and Import Operations">[2]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SQL</span><span class="token operator">></span><span class="token keyword">grant</span> <span class="token keyword">read</span><span class="token punctuation">,</span><span class="token keyword">write</span> <span class="token keyword">on</span> directory dump_dir <span class="token keyword">to</span> scott<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h3 id="å¯¼å…¥ä¸å¯¼å‡º"><a href="#å¯¼å…¥ä¸å¯¼å‡º" class="headerlink" title="å¯¼å…¥ä¸å¯¼å‡º"></a>å¯¼å…¥ä¸å¯¼å‡º</h3><h4 id="expdpå¯¼å‡º"><a href="#expdpå¯¼å‡º" class="headerlink" title="expdpå¯¼å‡º"></a>expdpå¯¼å‡º</h4><p>å¯¼å‡ºç”Ÿæˆçš„dmpä¼šä¿å­˜åœ¨ä¸Šé¢åˆ›å»ºçš„å®ä½“ç›®å½•ä¸­ã€‚</p><ol><li><p>å¯¼å‡ºç”¨æˆ·</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">expdp scott<span class="token operator">/</span>tiger<span class="token variable">@orcl</span> schemas<span class="token operator">=</span>scott <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp directory<span class="token operator">=</span>dump_dir<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯¼å‡ºè¡¨</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">expdp scott<span class="token operator">/</span>tiger<span class="token variable">@orcl</span> <span class="token keyword">tables</span><span class="token operator">=</span>emp<span class="token punctuation">,</span>dept <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp directory<span class="token operator">=</span>dump_dir<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>æŒ‰æŸ¥è¯¢æ¡ä»¶å¯¼</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">expdp scott<span class="token operator">/</span>tiger<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp <span class="token keyword">tables</span><span class="token operator">=</span>emp query<span class="token operator">=</span><span class="token string">'where deptno=20'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>æŒ‰è¡¨ç©ºé—´å¯¼</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">expdp system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span><span class="token keyword">tablespace</span><span class="token punctuation">.</span>dmp tablespaces<span class="token operator">=</span><span class="token keyword">temp</span><span class="token punctuation">,</span>example<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯¼æ•´ä¸ªæ•°æ®åº“</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">expdp system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span><span class="token keyword">full</span><span class="token punctuation">.</span>dmp <span class="token keyword">full</span><span class="token operator">=</span>y<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li></ol><h4 id="impdpå¯¼å…¥"><a href="#impdpå¯¼å…¥" class="headerlink" title="impdpå¯¼å…¥"></a>impdpå¯¼å…¥</h4><p>å¯¼å…¥ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿<a href="#%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA%E4%B8%8E%E6%8E%88%E6%9D%83">ç›®å½•åˆ›å»ºä¸æˆæƒ</a>å®Œæˆï¼Œå¹¶ä¸”dmpæ–‡ä»¶å·²ç»æ‹·è´è‡³å¯¹åº”ç›®å½•ä¸‹ã€‚</p><ol><li><p>å¯¼å…¥ç”¨æˆ·ï¼ˆä»ç”¨æˆ·scottå¯¼å…¥åˆ°ç”¨æˆ·scottï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">impdp scott<span class="token operator">/</span>tiger<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp schemas<span class="token operator">=</span>scott<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯¼å…¥è¡¨ï¼ˆä»scottç”¨æˆ·ä¸­æŠŠè¡¨deptå’Œempå¯¼å…¥åˆ°systemç”¨æˆ·ä¸­ï¼‰</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">impdp system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp <span class="token keyword">tables</span><span class="token operator">=</span>scott<span class="token punctuation">.</span>dept<span class="token punctuation">,</span>scott<span class="token punctuation">.</span>emp remap_schema<span class="token operator">=</span>scott:system<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯¼å…¥è¡¨ç©ºé—´</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">impdp system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span><span class="token keyword">tablespace</span><span class="token punctuation">.</span>dmp tablespaces<span class="token operator">=</span>example<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯¼å…¥æ•°æ®åº“</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">impdb system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span><span class="token keyword">full</span><span class="token punctuation">.</span>dmp <span class="token keyword">full</span><span class="token operator">=</span>y<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>è¿½åŠ æ•°æ®</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">impdp system<span class="token operator">/</span>manager<span class="token variable">@orcl</span> directory<span class="token operator">=</span>dump_dir <span class="token keyword">dumpfile</span><span class="token operator">=</span>expdp<span class="token punctuation">.</span>dmp schemas<span class="token operator">=</span>system table_exists_action<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li></ol><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>expdpå’Œimpdpæ˜¯æœåŠ¡ç«¯å·¥å…·ç¨‹åºï¼Œåªèƒ½åœ¨oracleæœåŠ¡ç«¯ä½¿ç”¨ï¼Œä¸èƒ½åœ¨å®¢æˆ·ç«¯ä½¿ç”¨<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="ORACLEä½¿ç”¨EXPDPå’ŒIMPDPæ•°æ®æ³µè¿›è¡Œå¯¼å‡ºå¯¼å…¥çš„æ–¹æ³•">[3]</span></a></sup>ã€‚</li><li>imp/expå‘½ä»¤ä¸impdp/expdpå·¥å…·äº§ç”Ÿçš„æ–‡ä»¶ä¸é€šç”¨ï¼Œè¯·å‹¿æ··æ·†<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="Oracle Data Pump (expdp, impdp) in Oracle Database 10g, 11g, 12c, 18c, 19c">[4]</span></a></sup>ã€‚</li></ol><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sutil/">Oralce Utilities</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://docs.oracle.com/en/database/oracle/oracle-database/21/sutil/oracle-data-pump-overview.html#GUID-8B6975D3-3BEC-4584-B416-280125EEC57E">Required Roles for Oracle Data Pump Export and Import Operations</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="http://blog.sina.com.cn/s/blog_67d41beb0100ixnb.html">ORACLEä½¿ç”¨EXPDPå’ŒIMPDPæ•°æ®æ³µè¿›è¡Œå¯¼å‡ºå¯¼å…¥çš„æ–¹æ³•</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://oracle-base.com/articles/10g/oracle-data-pump-10g">Oracle Data Pump (expdp, impdp) in Oracle Database 10g, 11g, 12c, 18c, 19c</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>Oracle Utilities</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ORA-xxxxx</title>
    <link href="/2016/08/14/ORA-xxxxx/"/>
    <url>/2016/08/14/ORA-xxxxx/</url>
    
    <content type="html"><![CDATA[<h2 id="ORA-01659-æ— æ³•åˆ†é…è¶…å‡º-7-çš„-MINEXTENTS"><a href="#ORA-01659-æ— æ³•åˆ†é…è¶…å‡º-7-çš„-MINEXTENTS" class="headerlink" title="ORA-01659: æ— æ³•åˆ†é…è¶…å‡º 7 çš„ MINEXTENTS"></a>ORA-01659: æ— æ³•åˆ†é…è¶…å‡º 7 çš„ MINEXTENTS</h2><p>ä¸»è¦åŸå› æ˜¯è¡¨ç©ºé—´ä¸å¤Ÿ,å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨æ‰©å±•å³å¯ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">database</span> datafile <span class="token string">'D:/app/Administrator/oradata/user_data.dbf'</span> autoextend <span class="token keyword">on</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><p>æˆ–è€…å¯ä»¥åœ¨åˆ›å»ºperfstatè¡¨ç©ºé—´çš„æ—¶å€™è¿›è¡Œè®¾ç½®ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">tablespace</span> perfstatdatafile <span class="token string">'D:/app/Administrator/oradata/user_data.dbf'</span> size <span class="token number">100</span>m autoextend <span class="token keyword">on</span>extend management <span class="token keyword">local</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>æ›´å¤šå†…å®¹å¯è§<a href="http://localhost:4758/2016/03/15/Oracle_%E8%A1%A8%E7%A9%BA%E9%97%B4/">Oracle è¡¨ç©ºé—´ç®¡ç†</a></p></blockquote><h2 id="ORA-32773-ä¸æ”¯æŒå¯¹å°æ–‡ä»¶è¡¨ç©ºé—´-TEST-çš„æ“ä½œ"><a href="#ORA-32773-ä¸æ”¯æŒå¯¹å°æ–‡ä»¶è¡¨ç©ºé—´-TEST-çš„æ“ä½œ" class="headerlink" title="ORA-32773: ä¸æ”¯æŒå¯¹å°æ–‡ä»¶è¡¨ç©ºé—´ TEST çš„æ“ä½œ"></a>ORA-32773: ä¸æ”¯æŒå¯¹å°æ–‡ä»¶è¡¨ç©ºé—´ TEST çš„æ“ä½œ</h2><p>éœ€è¦æ‰©å±•è¡¨ç©ºé—´</p><ol><li>å¢åŠ æ•°æ®æ–‡ä»¶</li><li>å¢åŠ æ•°æ®æ–‡ä»¶çš„å¤§å°</li><li>è®¾å®šæ•°æ®æ–‡ä»¶è‡ªåŠ¨å¢é•¿</li></ol><blockquote><p>æ›´å¤šå†…å®¹å¯è§<a href="http://localhost:4758/2016/03/15/Oracle_%E8%A1%A8%E7%A9%BA%E9%97%B4/">Oracle è¡¨ç©ºé—´ç®¡ç†</a></p></blockquote><h2 id="ORA-01830-æ—¥æœŸæ ¼å¼å›¾ç‰‡åœ¨è½¬æ¢æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²ä¹‹å‰ç»“æŸ"><a href="#ORA-01830-æ—¥æœŸæ ¼å¼å›¾ç‰‡åœ¨è½¬æ¢æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²ä¹‹å‰ç»“æŸ" class="headerlink" title="ORA-01830: æ—¥æœŸæ ¼å¼å›¾ç‰‡åœ¨è½¬æ¢æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²ä¹‹å‰ç»“æŸ"></a>ORA-01830: æ—¥æœŸæ ¼å¼å›¾ç‰‡åœ¨è½¬æ¢æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²ä¹‹å‰ç»“æŸ</h2><p><code>to_date</code>æ¯”è¾ƒçš„æ—¶å€™æŠ¥è¿™ä¸ªé”™è¯¯<br>é—®é¢˜ï¼š<strong>varchar2</strong>ç±»å‹è½¬æ¢æˆ<strong>date</strong>ç±»å‹</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> to_date<span class="token punctuation">(</span>INVOICE_DATE<span class="token punctuation">,</span><span class="token string">'yyyy-mm-dd'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> tab<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>æœ€åæŸ¥çš„åŸå› ï¼šINVOICE_DATE=â€˜2005-11-10 00:00:00â€™çš„é•¿åº¦å¤§äºæ ¼å¼åŒ–â€™yyyy-mm-ddâ€™çš„é•¿åº¦<br>è§£å†³ï¼šä½¿ç”¨substr()</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">to_date<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>INVOICE_DATE<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'yyyy-mm-dd'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h2 id="ORA-01810ï¼šæ ¼å¼ä»£ç å‡ºç°ä¸¤æ¬¡"><a href="#ORA-01810ï¼šæ ¼å¼ä»£ç å‡ºç°ä¸¤æ¬¡" class="headerlink" title="ORA-01810ï¼šæ ¼å¼ä»£ç å‡ºç°ä¸¤æ¬¡"></a>ORA-01810ï¼šæ ¼å¼ä»£ç å‡ºç°ä¸¤æ¬¡</h2><ol><li>Oracleä¸­ä½¿ç”¨to_date()æ—¶æ ¼å¼åŒ–æ—¥æœŸéœ€è¦æ³¨æ„æ ¼å¼ç ï¼Œå¦‚ï¼š<div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> to_date<span class="token punctuation">(</span><span class="token string">'2005-01-01 13:14:20'</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH24:mm:ss'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>åŸå› æ˜¯SQLä¸­ä¸åŒºåˆ†å¤§å°å†™ï¼ŒMMå’Œmmè¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„æ ¼å¼ä»£ç ï¼Œæ‰€ä»¥Oracleçš„SQLé‡‡ç”¨äº†miä»£æ›¿åˆ†é’Ÿã€‚<div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> to_date<span class="token punctuation">(</span><span class="token string">'2005-01-01 13:14:20'</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH24:mi:ss'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li>å¦è¦ä»¥24å°æ—¶çš„å½¢å¼æ˜¾ç¤ºå‡ºæ¥è¦ç”¨HH24<div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> to_char<span class="token punctuation">(</span>sysdate<span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH24:mi:ss'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">//miæ˜¯åˆ†é’Ÿ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li></ol><h2 id="ORA-00059-è¶…å‡º-DB-FILES-çš„æœ€å¤§å€¼"><a href="#ORA-00059-è¶…å‡º-DB-FILES-çš„æœ€å¤§å€¼" class="headerlink" title="ORA-00059: è¶…å‡º DB_FILES çš„æœ€å¤§å€¼"></a>ORA-00059: è¶…å‡º DB_FILES çš„æœ€å¤§å€¼</h2><p><code>init parameters</code>é‡Œçš„db_filesç©ºé—´ä¸è¶³</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> parameter db_files<span class="token punctuation">;</span><span class="token keyword">alter</span> system <span class="token keyword">set</span> db_files<span class="token operator">=</span>xxMB scope<span class="token operator">=</span>spfile<span class="token punctuation">;</span><span class="token keyword">shutdown</span> immediate<span class="token punctuation">;</span>startup<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle SQL*Loader åº”ç”¨</title>
    <link href="/2016/03/18/Oracle-SQLLDR/"/>
    <url>/2016/03/18/Oracle-SQLLDR/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ¥äº†ä¸€å¤§æ‰¹å•ä¸ªå¤§å°åŠ¨è¾„7Gçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¯¼å…¥æ•°æ®è¡¨ä¸­ï¼Œæ€ä¹ˆåŠ!!!!å°è¯•ç”¨<code>PL/SQL Developer</code>ä¸­çš„æ–‡æœ¬å¯¼å…¥å™¨ï¼Œç»“æœ====<strong>å¡æ­»</strong>=====å¾ˆä¹…ä¹‹å====<strong>å¡æ­»</strong></p></blockquote><span id="more"></span><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>Oracleå¸¸ç”¨çš„è¡¨æ•°æ®è¿ç§»æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol><li><p>Aè¡¨å¯¼å‡ºåŒ…å« <code>insert</code> çš„sqlï¼Œé€æ¡æ’å…¥Bè¡¨ä¸­</p></li><li><p>å»ºç«‹æ•°æ®åº“é—´çš„ dblinkï¼Œç„¶åç”¨ <code>create table B as select * from A@dblink where </code>ï¼Œæˆ– <code>insert into B select * from A@dblink where </code></p></li><li><p><code>expdp</code> A è¡¨ï¼Œå† <code>impdp</code> åˆ° B è¡¨</p></li><li><p>æ–‡æœ¬æ•°æ®é‡‡ç”¨<strong>SQL*Loader</strong> (sqlldr) </p><p> ç¬¬1ã€2ç§æ–¹å¼å¯ç”¨ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–å¯¼å…¥æ•ˆç‡ï¼š</p> <div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> B nologging<span class="token punctuation">;</span>  <span class="token keyword">insert</span> <span class="token comment">/* +APPEND */</span> <span class="token keyword">into</span> B<span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>val1<span class="token punctuation">,</span>val2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">insert</span> <span class="token comment">/* +APPEND */</span> <span class="token keyword">into</span> B <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> A<span class="token variable">@dblink</span> <span class="token keyword">where</span>  <span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2></li><li><p><strong>SQL*Loader</strong> ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦åˆ›å»ºä¸€ä¸ªæ§åˆ¶æ–‡ä»¶<code>.ctl</code>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p></li></ol>  <div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">OPTIONS <span class="token punctuation">(</span><span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">100000</span><span class="token punctuation">)</span>  <span class="token comment">/*å®šä¹‰sqlldréƒ¨åˆ†å‚æ•°*/</span><span class="token keyword">load</span> <span class="token keyword">data</span><span class="token keyword">infile</span><span class="token string">'F:\2014-10-31.txt'</span><span class="token comment">/*æŒ‡å®šæ•°æ®æ–‡ä»¶*/</span><span class="token keyword">insert</span><span class="token comment">/*åœ¨æ“ä½œç±»å‹ insert ä½ç½®å¯é€‰ä¸€ä¸‹å€¼ï¼š1) insert   --ä¸ºç¼ºçœæ–¹å¼ï¼Œåœ¨æ•°æ®è£…è½½å¼€å§‹æ—¶è¦æ±‚è¡¨ä¸ºç©º2) append   --åœ¨è¡¨ä¸­è¿½åŠ æ–°è®°å½•3) replace  --åˆ é™¤æ—§è®°å½•(ç”¨ delete from table è¯­å¥)ï¼Œæ›¿æ¢æˆæ–°è£…è½½çš„è®°å½•4) truncate --åˆ é™¤æ—§è®°å½•(ç”¨ truncate table è¯­å¥)ï¼Œæ›¿æ¢æˆæ–°è£…è½½çš„è®°å½•*/</span><span class="token keyword">into</span> <span class="token keyword">table</span> user_table<span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">','</span><span class="token comment">/*æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦*/</span><span class="token keyword">Optionally</span> <span class="token keyword">enclosed</span> <span class="token keyword">by</span> <span class="token string">'"'</span> <span class="token comment">/*å¯é€‰ã€‚ æ•°æ®ä¸­æ¯ä¸ªå­—æ®µç”¨ '"' æ¡†èµ·ï¼Œå¦‚æœå­—æ®µä¸­æœ‰ "," åˆ†éš”ç¬¦ï¼Œå¯é¿å…å°†å­—æ®µæˆªæ–­*/</span><span class="token punctuation">(</span>PLATE<span class="token punctuation">,</span>ACROSS_TIME <span class="token keyword">DATE</span><span class="token string">"YYYY-MM-DD HH24:MI:SS"</span><span class="token punctuation">,</span>  <span class="token comment">/*æŒ‡å®šæ¥å—æ—¥æœŸçš„æ ¼å¼ï¼Œç›¸å½“ç”¨ to_date() å‡½æ•°è½¬æ¢*/</span>VEH_SPD NUMBER<span class="token comment">/*å­—æ®µæŒ‡å®šç±»å‹ï¼Œé»˜è®¤æ˜¯ CHARACTER ç±»å‹*/</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><ol start="2"><li>ç„¶åå†æ‰§è¡Œ<code>sqlldr</code>å‘½ä»¤ï¼Œ</li></ol><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">sqlldr userid<span class="token variable">@service</span> control<span class="token operator">=</span><span class="token keyword">user</span><span class="token punctuation">.</span>ctl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p> å‘½ä»¤åŒ…å«ä»¥ä¸‹<strong>å…³é”®å­—</strong>ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">    userid <span class="token comment">-- ORACLE ç”¨æˆ·å/å£ä»¤</span>   control <span class="token comment">-- æ§åˆ¶æ–‡ä»¶å</span>       log <span class="token comment">-- æ—¥å¿—æ–‡ä»¶å</span>       bad <span class="token comment">-- é”™è¯¯æ–‡ä»¶å</span>      <span class="token keyword">data</span> <span class="token comment">-- æ•°æ®æ–‡ä»¶å</span>   <span class="token keyword">discard</span> <span class="token comment">-- åºŸå¼ƒæ–‡ä»¶å</span>discardmax <span class="token comment">-- å…è®¸åºŸå¼ƒçš„æ–‡ä»¶çš„æ•°ç›®         (å…¨éƒ¨é»˜è®¤)</span>      skip <span class="token comment">-- è¦è·³è¿‡çš„é€»è¾‘è®°å½•çš„æ•°ç›®  (é»˜è®¤ 0)</span>      <span class="token keyword">load</span> <span class="token comment">-- è¦åŠ è½½çš„é€»è¾‘è®°å½•çš„æ•°ç›®  (å…¨éƒ¨é»˜è®¤)</span>    <span class="token keyword">errors</span> <span class="token comment">-- å…è®¸çš„é”™è¯¯çš„æ•°ç›®         (é»˜è®¤ 50)</span>      <span class="token keyword">rows</span> <span class="token comment">-- å¸¸è§„è·¯å¾„ç»‘å®šæ•°ç»„ä¸­æˆ–ç›´æ¥è·¯å¾„ä¿å­˜æ•°æ®é—´çš„è¡Œæ•°(é»˜è®¤: å¸¸è§„è·¯å¾„ 64, æ‰€æœ‰ç›´æ¥è·¯å¾„)</span>  bindsize <span class="token comment">-- å¸¸è§„è·¯å¾„ç»‘å®šæ•°ç»„çš„å¤§å° (ä»¥å­—èŠ‚è®¡)  (é»˜è®¤ 256000)</span>    silent <span class="token comment">-- è¿è¡Œè¿‡ç¨‹ä¸­éšè—æ¶ˆæ¯ (æ ‡é¢˜,åé¦ˆ,é”™è¯¯,åºŸå¼ƒ,åˆ†åŒº)</span>    direct <span class="token comment">-- ä½¿ç”¨ç›´æ¥è·¯å¾„                     (é»˜è®¤ FALSE)</span>   parfile <span class="token comment">-- å‚æ•°æ–‡ä»¶: åŒ…å«å‚æ•°è¯´æ˜çš„æ–‡ä»¶çš„åç§°</span>  parallel <span class="token comment">-- æ‰§è¡Œå¹¶è¡ŒåŠ è½½                    (é»˜è®¤ FALSE)</span>      <span class="token keyword">file</span> <span class="token comment">-- è¦ä»ä»¥ä¸‹å¯¹è±¡ä¸­åˆ†é…åŒºçš„æ–‡ä»¶</span>skip_unusable_indexes <span class="token comment">-- ä¸å…è®¸/å…è®¸ä½¿ç”¨æ— ç”¨çš„ç´¢å¼•æˆ–ç´¢å¼•åˆ†åŒº  (é»˜è®¤ FALSE)</span>skip_index_maintenance <span class="token comment">-- æ²¡æœ‰ç»´æŠ¤ç´¢å¼•, å°†å—åˆ°å½±å“çš„ç´¢å¼•æ ‡è®°ä¸ºæ— ç”¨  (é»˜è®¤ FALSE)</span>commit_discontinued <span class="token comment">-- æäº¤åŠ è½½ä¸­æ–­æ—¶å·²åŠ è½½çš„è¡Œ  (é»˜è®¤ FALSE)</span>  readsize <span class="token comment">-- è¯»å–ç¼“å†²åŒºçš„å¤§å°               (é»˜è®¤ 1048576)</span>external_table <span class="token comment">-- ä½¿ç”¨å¤–éƒ¨è¡¨è¿›è¡ŒåŠ è½½; NOT_USED, GENERATE_ONLY, EXECUTE  (é»˜è®¤NOT_USED)</span>columnarrayrows <span class="token comment">-- ç›´æ¥è·¯å¾„åˆ—æ•°ç»„çš„è¡Œæ•°  (é»˜è®¤ 5000)</span>streamsize <span class="token comment">-- ç›´æ¥è·¯å¾„æµç¼“å†²åŒºçš„å¤§å° (ä»¥å­—èŠ‚è®¡)  (é»˜è®¤ 256000)</span>multithreading <span class="token comment">-- åœ¨ç›´æ¥è·¯å¾„ä¸­ä½¿ç”¨å¤šçº¿ç¨‹</span> resumable <span class="token comment">-- å¯ç”¨æˆ–ç¦ç”¨å½“å‰çš„å¯æ¢å¤ä¼šè¯  (é»˜è®¤ FALSE)</span>resumable_name <span class="token comment">-- æœ‰åŠ©äºæ ‡è¯†å¯æ¢å¤è¯­å¥çš„æ–‡æœ¬å­—ç¬¦ä¸²</span>resumable_timeout <span class="token comment">-- RESUMABLE çš„ç­‰å¾…æ—¶é—´ (ä»¥ç§’è®¡)  (é»˜è®¤ 7200)</span>date_cache <span class="token comment">-- æ—¥æœŸè½¬æ¢é«˜é€Ÿç¼“å­˜çš„å¤§å° (ä»¥æ¡ç›®è®¡)  (é»˜è®¤ 1000)</span>no_index_errors <span class="token comment">-- å‡ºç°ä»»ä½•ç´¢å¼•é”™è¯¯æ—¶ä¸­æ­¢åŠ è½½  (é»˜è®¤ FALSE)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><blockquote><p>ä»¥ä¸Šéƒ¨åˆ†å‚æ•°å¯ä»¥åœ¨æ§åˆ¶æ–‡ä»¶ä¸­ä»¥<code>OPTIONS()</code>æ¥å®šä¹‰</p></blockquote><h2 id="æ€§èƒ½æå‡"><a href="#æ€§èƒ½æå‡" class="headerlink" title="æ€§èƒ½æå‡"></a>æ€§èƒ½æå‡</h2><ol><li><strong>Direct</strong>å¯¼å…¥å¯ä»¥è·³è¿‡æ•°æ®åº“çš„ç›¸å…³é€»è¾‘<code>(DIRECT=TRUE)</code>ï¼Œè€Œç›´æ¥å°†æ•°æ®å¯¼å…¥åˆ°æ•°æ®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æé«˜å¯¼å…¥æ•°æ®çš„æ€§èƒ½ã€‚å½“ç„¶ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸èƒ½ä½¿ç”¨æ­¤å‚æ•°(å¦‚æœä¸»é”®é‡å¤çš„è¯ä¼šä½¿ç´¢å¼•çš„çŠ¶æ€å˜æˆ<strong>UNUSABLE</strong>)</li><li>ä½¿ç”¨ <code>ROWS=n</code> é™å®š<code>commit</code>é¢‘ç‡</li><li>ä½¿ç”¨å¹¶è¡Œè½½å…¥ï¼Œåªåœ¨** Direct path loads<strong>æ¨¡å¼ä¸‹å¯ç”¨ï¼Œè¿™ä¸ªé€‰é¡¹å¯è®©</strong>SQL*Loader**åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚<div class="code-wrapper"><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql">sqlldr control<span class="token operator">=</span><span class="token keyword">first</span><span class="token punctuation">.</span>ctl  parallel<span class="token operator">=</span><span class="token boolean">true</span> direct<span class="token operator">=</span><span class="token boolean">true</span>sqlldr control<span class="token operator">=</span><span class="token keyword">second</span><span class="token punctuation">.</span>ctl parallel<span class="token operator">=</span><span class="token boolean">true</span> direct<span class="token operator">=</span><span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li><li> ä½¿ç”¨<code>unrecoverable</code>ï¼Œæ­¤é€‰é¡¹ç¦æ­¢<code>redo</code>æ—¥å¿—çš„äº§ç”Ÿï¼Œåªåœ¨** Direct path loads**æ¨¡å¼å¯ç”¨ã€‚  </li></ol><ul><li>æ•ˆæœ<br>  <img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/sql/sqlldr.JPG" alt="æ•ˆæœ"></li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><a href="http://www.cnblogs.com/benio/archive/2011/10/14/2211171.html">SQL*Loaderè¯¦è§£</a></li><li><a href="http://www.remote-dba.net/teas_rem_util18.htm">Maximizing SQL*Loader Performance</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>Oracle Utilities</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Oracle è¡¨ç©ºé—´ç®¡ç†</title>
    <link href="/2016/03/15/Oracle-%E8%A1%A8%E7%A9%BA%E9%97%B4/"/>
    <url>/2016/03/15/Oracle-%E8%A1%A8%E7%A9%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>è¡¨ç©ºé—´ç”¨äºç»„ç»‡ç®¡ç†å®ä½“æ•°æ®æ–‡ä»¶</p><blockquote><p>Oracle stores data logically in tablespaces and physically in datafiles associated with the corresponding tablespace.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Tablespaces, Datafiles, and Control Files">[1]</span></a></sup></p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/sql/Datafiles%20and%20Tablespaces.gif/bg"></p><p>è‡ªOracle 10gåï¼ŒOracleæä¾›ä¸¤ç±»è¡¨ç©ºé—´<code>BigFile Tablespaceï¼ŒBFT</code>å’Œ<code>SmallFile Tablespaceï¼ŒSFT</code>ï¼Œåˆ†åˆ«æ”¯æŒä¸åŒç±»å‹çš„<strong>datafiles</strong>ï¼Œå…³äºè¿™ä¸¤ç±»è¡¨ç©ºé—´è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥å‚è€ƒæ­¤æ–‡<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="BigFileå’ŒSmallFileè¡¨ç©ºé—´æŠ€æœ¯">[2]</span></a></sup>ã€‚æœ¬æ–‡ä¸»è¦ä»¥<code>SmallFile Tablespace</code>ç±»å‹è¡¨ç©ºé—´å®ç°ä¸ºä¸»ï¼Œè¿™ä¹Ÿç›®å‰Oracleé»˜è®¤çš„è¡¨ç©ºé—´è®¾ç½®ã€‚</p><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/sql/Enlarging%20a%20Database%20by%20Adding%20a%20New%20Tablespace.gif"><br>ä»¥è¡¨ç©ºé—´æ‰€å±ç”¨æˆ·èº«ä»½ç™»å½•</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- è¡¨ç©ºé—´å tb_name</span><span class="token keyword">create</span> <span class="token keyword">tablespace</span> tb_name  <span class="token comment">-- å¼€å¯log</span>logging  <span class="token comment">-- æŒ‡å®šæ•°æ®æ–‡ä»¶å­˜æ”¾è·¯å¾„åŠæ–‡ä»¶å</span>datafile <span class="token string">'D:/app/Administrator/oradata/user_data.dbf'</span><span class="token comment">-- åˆå§‹å¤§å°</span>size <span class="token number">50</span>m  <span class="token comment">-- è‡ªåŠ¨æ‹“å±• å¼€</span>autoextend <span class="token keyword">on</span>  <span class="token comment">-- æ¯æ¬¡è‡ªåŠ¨æ‹“å±•å¤§å°</span><span class="token keyword">next</span> <span class="token number">50</span>m maxsize unlimitedextent management <span class="token keyword">local</span><span class="token punctuation">;</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><p>æŸ¥è¯¢å·²æœ‰è¡¨ç©ºé—´</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> a<span class="token punctuation">.</span>tablespace_name                        <span class="token string">"è¡¨ç©ºé—´å"</span><span class="token punctuation">,</span>       total                                    <span class="token string">"è¡¨ç©ºé—´å¤§å°"</span><span class="token punctuation">,</span>       free                                     <span class="token string">"è¡¨ç©ºé—´å‰©ä½™å¤§å°"</span><span class="token punctuation">,</span>       <span class="token punctuation">(</span> total <span class="token operator">-</span> free <span class="token punctuation">)</span>                         <span class="token string">"è¡¨ç©ºé—´ä½¿ç”¨å¤§å°"</span><span class="token punctuation">,</span>       <span class="token function">Round</span><span class="token punctuation">(</span><span class="token punctuation">(</span> total <span class="token operator">-</span> free <span class="token punctuation">)</span> <span class="token operator">/</span> total<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token string">"ä½¿ç”¨ç‡   %"</span><span class="token keyword">FROM</span>   <span class="token punctuation">(</span><span class="token keyword">SELECT</span> tablespace_name<span class="token punctuation">,</span>               <span class="token function">Sum</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> free        <span class="token keyword">FROM</span>   DBA_FREE_SPACE        <span class="token keyword">GROUP</span>  <span class="token keyword">BY</span> tablespace_name<span class="token punctuation">)</span> a<span class="token punctuation">,</span>       <span class="token punctuation">(</span><span class="token keyword">SELECT</span> tablespace_name<span class="token punctuation">,</span>               <span class="token function">Sum</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span> total        <span class="token keyword">FROM</span>   DBA_DATA_FILES        <span class="token keyword">GROUP</span>  <span class="token keyword">BY</span> tablespace_name<span class="token punctuation">)</span> b<span class="token keyword">WHERE</span>  a<span class="token punctuation">.</span>tablespace_name <span class="token operator">=</span> b<span class="token punctuation">.</span>tablespace_name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><p>æ ¹æ®å®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼Œæ‰©å±•è¡¨ç©ºé—´æœ‰ä¸¤ç§æ–¹å¼</p><blockquote><ul><li>Add a datafile to a tablespace</li><li>Increase the size of a datafile</li></ul></blockquote><p>ç¬¬ä¸€ç§ç”¨äºæ‰©å±•ç³»ç»Ÿè¡¨ç©ºé—´æˆ–å…¶ä»–å·²ç»å­˜åœ¨çš„è¡¨ç©ºé—´<br>ç¬¬äºŒç§ç”¨äºç›´æ¥æ‹“å±•<strong>datafile</strong>å¤§å°ï¼Œå¦‚æœåˆ›å»ºæ—¶è®¾ç½®äº†è‡ªåŠ¨æ‹“å±•å°±æ— éœ€è®¾ç½®äº†</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/sql/Enlarging%20a%20Database%20by%20Adding%20a%20Datafile%20to%20a%20Tablespace.gif"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/sql/Enlarging%20a%20Database%20by%20Dynamically%20Sizing%20Datafiles.gif"></div></div></div><p>ç¬¬ä¸€ç§å®ç°å¦‚ä¸‹</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLESPACE</span> tb_name <span class="token comment">-- ä¸è¦è·Ÿå·²æœ‰æ–‡ä»¶å†²çª</span><span class="token keyword">ADD</span> DATAFILE <span class="token string">'D:/app/Administrator/oradata/user_data_1.dbf'</span><span class="token comment">-- åˆå§‹å¤§å°</span>size <span class="token number">50</span>m <span class="token comment">-- è‡ªåŠ¨æ‹“å±• å¼€</span>autoextend <span class="token keyword">on</span> <span class="token comment">-- æ¯æ¬¡è‡ªåŠ¨æ‹“å±•å¤§å° å¯ä»¥è®¾ç½®å¤§ä¸€äº›</span><span class="token keyword">next</span> <span class="token number">1024</span>m maxsize unlimited<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="æ”¶ç¼©"><a href="#æ”¶ç¼©" class="headerlink" title="æ”¶ç¼©"></a>æ”¶ç¼©</h2><p>åˆ é™¤è¡¨æˆ–è€…åˆ é™¤è¾ƒå¤šå†…å®¹åï¼Œ<strong>datafile</strong>æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨ç¼©å‡ï¼Œå¯ä»¥é€šè¿‡<code>resize</code>æ–¹å¼é‡ç½®è¡¨ç©ºé—´å¤§å°ã€‚ç”¨ä¸‹é¢ä»£ç å¯ä»¥ç”Ÿæˆä¸åŒ<strong>datafile</strong>çš„<code>resize</code>æ–¹æ¡ˆï¼Œå†åˆ†åˆ«æ‰§è¡Œã€‚</p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token comment">/*+ ordered use_hash(a,c) */</span>       <span class="token string">'alter database datafile '''</span>    <span class="token operator">||</span> a<span class="token punctuation">.</span>file_name    <span class="token operator">||</span> <span class="token string">''' resize '</span>    <span class="token operator">||</span> <span class="token function">round</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>filesize <span class="token operator">-</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>filesize <span class="token operator">-</span> c<span class="token punctuation">.</span>hwmsize <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.8</span><span class="token punctuation">)</span>    <span class="token operator">||</span> <span class="token string">'M;'</span><span class="token punctuation">,</span>    a<span class="token punctuation">.</span>filesize<span class="token punctuation">,</span>    c<span class="token punctuation">.</span>hwmsize<span class="token keyword">FROM</span>    <span class="token punctuation">(</span>        <span class="token keyword">SELECT</span>            file_id<span class="token punctuation">,</span>            file_name<span class="token punctuation">,</span>            <span class="token function">round</span><span class="token punctuation">(</span>bytes <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> filesize        <span class="token keyword">FROM</span>            dba_data_files    <span class="token punctuation">)</span>  a<span class="token punctuation">,</span>    <span class="token punctuation">(</span>        <span class="token keyword">SELECT</span>            file_id<span class="token punctuation">,</span>            <span class="token function">round</span><span class="token punctuation">(</span><span class="token function">MAX</span><span class="token punctuation">(</span>block_id<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> hwmsize        <span class="token keyword">FROM</span>            dba_extents        <span class="token keyword">GROUP</span> <span class="token keyword">BY</span>            file_id    <span class="token punctuation">)</span>  c<span class="token keyword">WHERE</span>        a<span class="token punctuation">.</span>file_id <span class="token operator">=</span> c<span class="token punctuation">.</span>file_id    <span class="token operator">AND</span> a<span class="token punctuation">.</span>filesize <span class="token operator">-</span> c<span class="token punctuation">.</span>hwmsize <span class="token operator">></span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å¯¹äº<strong>TEMP</strong>è¡¨ç©ºé—´ï¼Œå¯ä»¥é‡‡ç”¨<code>shrink</code>æ–¹å¼<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="ALTER TABLE â€¦ SHRINK SPACE Command : Online Segment Shrink for Tables, LOBs and IOTs">[3]</span></a></sup>ï¼Œä¸ä¹‹ç›¸å…³è¿˜æœ‰<code>move</code>æ“ä½œï¼Œå¯é˜…è¯»ç›¸å…³æ–‡ç« <sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="Oracle moveå’Œshrinké‡Šæ”¾é«˜æ°´ä½ç©ºé—´">[4]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æŸ¥è¯¢tempè¡¨ç©ºé—´æƒ…å†µ</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dba_temp_free_space<span class="token punctuation">;</span><span class="token comment">-- æ”¶ç¼©</span>  <span class="token keyword">alter</span> <span class="token keyword">tablespace</span> <span class="token keyword">temp</span> shrink space<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://docs.oracle.com/cd/B19306_01/server.102/b14220/physical.htm">Tablespaces, Datafiles, and Control Files</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.modb.pro/db/7369">BigFileå’ŒSmallFileè¡¨ç©ºé—´æŠ€æœ¯</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://oracle-base.com/articles/misc/alter-table-shrink-space-online">ALTER TABLE â€¦ SHRINK SPACE Command : Online Segment Shrink for Tables, LOBs and IOTs</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://blog.51cto.com/fengfeng688/1955137">Oracle moveå’Œshrinké‡Šæ”¾é«˜æ°´ä½ç©ºé—´</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Oracle</tag>
      
      <tag>Tablespace</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS è¦ç´ æ˜ å°„å…³ç³»å»ºç«‹</title>
    <link href="/2016/03/03/ArcGIS-%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84/"/>
    <url>/2016/03/03/ArcGIS-%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<p>è¦ç´ æ˜ å°„å…³ç³»æ˜¯å·¥ä½œä¸­å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ªé¢è¦ç´ å›¾å±‚å’Œä¸€ä¸ªç‚¹è¦ç´ å›¾å±‚ï¼Œè¦æƒ³çŸ¥é“æ¯ä¸ªç‚¹æ˜¯è½åœ¨å“ªä¸ªé¢ä¹‹ä¸­ï¼Œå°±éœ€è¦å»ºç«‹ä¸€ä¸ªç‚¹å’Œé¢çš„æ˜ å°„å…³ç³»ã€‚</p><span id="more"></span><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>ç°æœ‰åŒ—äº¬<a href="https://mattzou.com/2016/02/28/ArcGIS-Fishnet/#">ç½‘æ ¼å›¾å±‚</a>ä»¥åŠåŒ—äº¬<strong>ç¯çº¿å›¾å±‚</strong>ï¼Œè¦ç¡®å®šç½‘æ ¼ä¸­æ¯ä¸ªæ ¼ç‚¹å¤„äºå‡ ç¯ã€‚</p><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>é€‰ç”¨<code> Join Data</code>å·¥å…·ï¼Œ** Join data from another layer on spatial location **æ–¹æ³•å°†ä¸¤ä¸ªå›¾å±‚çš„è¦ç´ è¿›è¡Œæ˜ å°„ã€‚ </p><h3 id="å·¥å…·ä½ç½®"><a href="#å·¥å…·ä½ç½®" class="headerlink" title="å·¥å…·ä½ç½®"></a>å·¥å…·ä½ç½®</h3><p>å³é”®å•å‡»å›¾å±‚ï¼Œé€‰æ‹©<code>Join and Relates</code>ï¼Œèœå•ä¸­é€‰<code>Join</code>ã€‚</p><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB.1.jpg/pic" alt="æ˜ å°„å…³ç³» 1"> </p><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><blockquote><p>åœ¨ç›®æ ‡å›¾å±‚ä¹Ÿå°±æ˜¯<strong>ç½‘æ ¼å›¾å±‚</strong>ä¸Šå•å‡»å³é”®ï¼Œæ‰¾åˆ°<code> Join</code>å·¥å…·ï¼›</p></blockquote><ol><li>é€‰æ‹©** Join **ç±»å‹ï¼Œç¬¬ä¸€ç§æ˜¯åªè¿æ¥ä¸¤ä¸ªå›¾å±‚å±æ€§è¡¨ï¼Œç¬¬äºŒç§æ˜¯æ ¹æ®ç©ºé—´ä½ç½®å°†å›¾å±‚è¦ç´ è¿›è¡Œè¿æ¥ï¼ŒåŒæ—¶è¿æ¥å±æ€§è¡¨ï¼›</li><li>é€‰æ‹©è¿æ¥å¯¹è±¡ï¼Œè¿™é‡Œé€‰æ‹©ç¯çº¿å›¾å±‚ï¼›</li><li>é€‰æ‹©è¿æ¥<code> Options</code>ï¼Œç¬¬äºŒç§æ–¹å¼å¯ä»¥å®ç°æˆ‘ä»¬æ‰€éœ€è¦çš„æ˜ å°„å…³ç³»ï¼Œå³è½å…¥ç›¸åº”ç¯çº¿è¦ç´ çš„ç½‘æ ¼éƒ½å°†è¢«èµ‹äºˆ<strong>ç¯çº¿å›¾å±‚</strong>çš„å±æ€§ï¼Œå¦‚æœç»™<strong>ç¯çº¿å›¾å±‚</strong>çš„æ¯ä¸ªè¦ç´ éƒ½è¿›è¡Œæ ‡è®°ï¼Œæ¯”å¦‚ä¸€ç¯ä¸º<code> ID</code>å­—æ®µä¸º* 1 <em>ï¼Œé‚£ä¹ˆåœ¨è¿æ¥åï¼Œè½åœ¨ä¸€ç¯å†…çš„ç½‘æ ¼å°†ä¼šå¢åŠ ä¸€ä¸ªå­—æ®µ<code> ID</code> ï¼Œå€¼ä¸º</em> 1 *ï¼›</li><li>å¯¼å‡ºæ–‡ä»¶ã€‚</li></ol><blockquote><p>å‚æ•°é€‰æ‹©å¦‚ä¸‹ï¼š</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB.2.jpg/pic" alt="æ˜ å°„å…³ç³» 2"></p><h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><blockquote><p>ç”Ÿæˆçš„æ–°å›¾å±‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/%E6%98%A0%E5%B0%84%E5%85%B3%E7%B3%BB.3.JPG/pic" alt="æ˜ å°„å…³ç³» 3"></p><p>æ‰“å¼€å›¾å±‚å±æ€§è¡¨ï¼Œå¯ä»¥çœ‹åˆ°æ–°å¢çš„å­—æ®µï¼Œæ ‡è¯†ç½‘æ ¼æ‰€å¤„çš„ç¯çº¿ï¼Œé€šè¿‡<code>selec by attributes</code>é«˜äº®æ‰€æœ‰æœ‰æ˜ å°„å…³ç³»çš„ç½‘æ ¼ï¼Œå’Œç¯çº¿å›¾å±‚åŒ¹é…æ­£ç¡®ï¼Œç›®çš„è¾¾åˆ°ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS</tag>
      
      <tag>æ˜ å°„å…³ç³»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS åˆ›å»ºç½‘æ ¼</title>
    <link href="/2016/02/28/ArcGIS-Fishnet/"/>
    <url>/2016/02/28/ArcGIS-Fishnet/</url>
    
    <content type="html"><![CDATA[<p>åœ¨æ’æ”¾å±•ç¤ºå’Œç»Ÿè®¡è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æŒ‰ç…§ç½‘æ ¼çš„æ–¹å¼è¿›è¡Œåˆ’åˆ†ï¼Œéœ€è¦å»ºç«‹ç½‘æ ¼ã€‚</p><span id="more"></span><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul><li> åˆ›å»ºç½‘æ ¼ï¼Œè¦†ç›–ç°æœ‰å›¾å±‚è¦ç´ </li><li> å¯è°ƒæ•´ç½‘æ ¼å¤§å°</li><li> è·å–ç½‘æ ¼ä¸­å¿ƒåæ ‡</li></ul><h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>åœ¨ArcGISä¸­ï¼Œåº”ç”¨<strong>ç³»ç»Ÿå·¥å…·ç®±</strong>ä¸­çš„<code>Create Fishnet</code>å·¥å…·æ¥åˆ›å»ºç½‘æ ¼ã€‚</p><h3 id="å·¥å…·ä½ç½®"><a href="#å·¥å…·ä½ç½®" class="headerlink" title="å·¥å…·ä½ç½®"></a>å·¥å…·ä½ç½®</h3><p>åœ¨<strong>Catalog</strong>ä¸­é€‰æ‹©<code>Toolboxes</code>ï¼Œæ‰¾åˆ°<code>System Toolboxes</code>ï¼Œå…¶ä¸­<code>Data Management Tools</code>å·¥å…·ç®±ä¸­ç‚¹å¼€<code>Feature Class</code>ä¸€é¡¹å°±å¯ä»¥çœ‹è§<code>Create Fishnet</code>å·¥å…·ã€‚</p><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/create%20fishnet.1.jpg/pic" alt="create fishnet 1"></p><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><ol><li>é€‰æ‹©å¯¼å‡ºæ–‡ä»¶ä½ç½®ï¼›</li><li><strong>å¯é€‰é¡¹</strong>é€‰æ‹©ç°æœ‰å›¾å±‚ä¸ºæ¨¡æ¿ï¼Œè‡ªåŠ¨ç”Ÿæˆç½‘æ ¼è¾¹ç•ŒèŒƒå›´</li><li>ä¿®æ”¹è‡ªåŠ¨ç”ŸæˆèŒƒå›´æ•°å€¼ï¼›</li><li>æ‰‹åŠ¨è¾“å…¥ç½‘æ ¼è¾¹ç•ŒèŒƒå›´ï¼Œå¦‚æœ<em>2</em>æ­¥éª¤é€‰æ‹©äº†æ¨¡æ¿å›¾å±‚ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆè¾¹ç•Œæ•°å€¼ï¼›</li><li>è®¾ç½®ç½‘æ ¼å®½åº¦åŠé«˜åº¦<strong>æ•°å€¼å•ä½ä¸å›¾å±‚åæ ‡ç³»ç»ŸåŒ¹é…</strong>ï¼›</li><li>è®¾ç½®ç½‘æ ¼è¡Œæ•°å’Œåˆ—æ•°<strong>å¦‚æœé€‰æ‹©äº†æ¨¡æ¿å›¾å±‚ï¼Œæœ€å¥½éƒ½è®¾ç½®ä¸º0ï¼Œä¼šè‡ªåŠ¨æ ¹æ®ä»¥ä¸Šè¾“å…¥çš„ç½‘æ ¼å°ºå¯¸åŠå›¾å±‚èŒƒå›´è®¡ç®—è¡Œåˆ—æ•°ï¼Œä¸ç”¨è‡ªå·±è®¡ç®—</strong>ï¼›</li><li><strong>å¯é€‰é¡¹</strong>ç”Ÿæˆæ¯ä¸ªç½‘æ ¼ä¸­å¿ƒç‚¹å›¾å±‚ï¼Œè¿™ä¸ªé€‰é¡¹åœ¨ä¹‹åå®šä½ç½‘æ ¼ä½ç½®æ—¶æœ‰ç”¨å¤„ï¼›</li><li>é€‰æ‹©ç½‘æ ¼ç±»å‹ï¼Œ<code>POLYLINE</code>åŠ<code>POLYGON</code>åˆ†åˆ«æ˜¯ç”Ÿæˆçº¿è¦ç´ ç½‘æ ¼æˆ–ç”Ÿæˆé¢è¦ç´ ç½‘æ ¼ï¼›</li></ol><blockquote><p>ä»¥å¤©æ´¥å¸‚ä¸ºæ¨¡æ¿å›¾å±‚ï¼Œç”Ÿæˆä¸€ä¸ªè¦†ç›–å¤©æ´¥å¸‚çš„1Km*1Kmçš„ç½‘æ ¼ï¼Œå‚æ•°é€‰æ‹©å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/create%20fishnet.2.jpg/pic" alt="create fishnet 2"></p><h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><blockquote><p>è®¾ç½®å¥½å‚æ•°åç”Ÿæˆçš„ç½‘æ ¼å›¾å±‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><p><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ArcGIS/create%20fishnet.3.JPG/pic" alt="create fishnet 3"></p><p>ä»¥ä¸Šå°±å®Œæˆäº†ç½‘æ ¼å›¾å±‚çš„ç”Ÿæˆï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç”¨ç”Ÿæˆçš„ç½‘æ ¼å¯¹å…¶ä»–å›¾å±‚è¿›è¡Œåˆ‡åˆ†ç­‰æ“ä½œäº†ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>è½¯ä»¶ä½¿ç”¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS</tag>
      
      <tag>Fishnet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS å¸¸ç”¨åŠŸèƒ½åº”ç”¨æ±‡æ€»</title>
    <link href="/2016/02/27/ArcGIS%E5%AF%BC%E8%88%AA/"/>
    <url>/2016/02/27/ArcGIS%E5%AF%BC%E8%88%AA/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç¯‡ç”¨ä»¥è®°å½•å¹³æ—¶ä½¿ç”¨ArcGISæ—¶æŒæ¡çš„æ–¹æ³•ï¼Œè¿™é‡Œæ±‡æ€»è®°å½•ã€‚</p><blockquote><p>å½“ä½ ç¬¬ä¸€æ¬¡èƒŒèµ·èƒŒåŒ…è¸ä¸Šè¿œæ–¹çš„è·¯,å°±æ°¸è¿œéƒ½ä¸ä¼šåœä¸‹æ¥!</p></blockquote><span id="more"></span><hr><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><blockquote><ol><li> <a href="http://mattzou.com/2016/02/28/ArcGIS-Fishnet/#">[åˆ›å»ºç½‘æ ¼]</a> <strong>ArcGIS</strong> <code>Create Fishnet</code> åº”ç”¨</li><li> <a href="http://mattzou.com/2016/03/03/ArcGIS-%E8%A6%81%E7%B4%A0%E6%98%A0%E5%B0%84/#">[è¦ç´ æ˜ å°„]</a> <strong>ArcGIS</strong> <code>Join</code> åº”ç”¨</li><li> <a href="http://mattzou.com/2016/10/17/ArcGIS-%E8%B7%AF%E7%BD%91%E5%88%87%E5%88%86/#">[è·¯ç½‘åˆ‡åˆ†]</a> <strong>ArcGIS</strong> <code>Planarize Lines</code> åº”ç”¨</li><li> <a href="https://mattzou.com/2019/07/07/ArcGIS-%E4%B8%8A%E4%B8%8B%E8%A7%92%E6%A0%87/#">[è§’æ ‡]</a> <strong>ArcGIS</strong> ä¸“é¢˜å›¾<code>Legend</code>è®¾ç½®</li></ol></blockquote>]]></content>
    
    
    <categories>
      
      <category>ç›®å½•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cat</title>
    <link href="/1970/01/01/My-cat/"/>
    <url>/1970/01/01/My-cat/</url>
    
    <content type="html"><![CDATA[<p>äººç”Ÿä¸­çš„ä¸‰åªçŒ«ï¼ˆæˆªè‡³2021ï¼‰</p><h2 id="ç¬‘ç¬‘"><a href="#ç¬‘ç¬‘" class="headerlink" title="ç¬‘ç¬‘"></a>ç¬‘ç¬‘</h2><p>å–µæ˜ŸğŸŒ</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xx1.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xx4.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xx2.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xx5.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xx3.jpg"></div></div></div><h2 id="å°é»‘"><a href="#å°é»‘" class="headerlink" title="å°é»‘"></a>å°é»‘</h2><p>é«˜å†·è‚¥å®…</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xh1.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xh4.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xh2.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/xh3.jpg"></div></div></div><h2 id="ç¦å®‰"><a href="#ç¦å®‰" class="headerlink" title="ç¦å®‰"></a>ç¦å®‰</h2><p>æ€ä¹ˆè¯´å‘¢ğŸ±â€ğŸ</p><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/fa4.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/fa2.jpg"></div><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/fa5.jpg"></div></div><div class="group-image-row"><div class="group-image-wrap"><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/cat/fa3.jpg"></div></div></div>]]></content>
    
    
    
    <tags>
      
      <tag>çŒ«</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
