<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ico/favicon.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="description" content="è™šæ‹ŸåŒ–å°æ¢ç´¢"><meta name="author" content="MattZou"><meta name="keywords" content=""><title>å®¶ç”¨å¹³å°ä¸»æœºæ­å»ºè™šæ‹ŸåŒ–é›†ç¾¤ - Matt</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/themes/prism-okaidia.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.22.0/plugins/line-numbers/prism-line-numbers.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"mattzou.com",root:"/",version:"1.8.9a",typing:{enable:!0,typeSpeed:50,cursorChar:"|",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:2},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}}}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong><img style="margin-top:-.2em;width:15%" src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ico/favicon.jpg" srcset="/img/loading.gif" lazyload> MattZou</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> æ ‡ç­¾</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> å…³äº</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> å‹é“¾</a></li><li class="nav-item"><a class="nav-link" href="/bb/"><i class="iconfont icon-speakernotes"></i> æƒ³æ³•</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" href="javascript:">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://mattblog.oss-cn-beijing.aliyuncs.com/img/index_img/kvm-01.png/bg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="å®¶ç”¨å¹³å°ä¸»æœºæ­å»ºè™šæ‹ŸåŒ–é›†ç¾¤"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-08-27 00:00" pubdate>2021å¹´8æœˆ27æ—¥ å‡Œæ™¨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 4.3k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 113 åˆ†é’Ÿ </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> æ¬¡</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">å®¶ç”¨å¹³å°ä¸»æœºæ­å»ºè™šæ‹ŸåŒ–é›†ç¾¤</h1><div class="markdown-body"><h1 id="æ¢å‘"><a href="#æ¢å‘" class="headerlink" title="æ¢å‘"></a>æ¢å‘</h1><p>æœ€è¿‘è´­ç½®äº†ä¸‰å°åŠå…¬ç”¨ä¸»æœºï¼Œæ—¢è¦å…¼é¡¾<code>Windows</code>å¹³å°ä¸‹åŠå…¬éœ€æ±‚ï¼Œåˆè¦è€ƒè™‘å¼€å‘<code>Linux</code>é›†ç¾¤éƒ¨ç½²ï¼Œç‰©ç†æœº-&gt;è™šæ‹ŸåŒ–-&gt;å®¹å™¨è¿™æ ·çš„æ¶æ„ä»ç»´æŠ¤å’Œæ‹“å±•æ€§ä¸Šéƒ½æ˜¯æœ€ä½³çš„é€‰æ‹©ï¼Œè™šæ‹ŸåŒ–æ˜¯ä¸€åˆ‡æœåŠ¡çš„åŸºç¡€ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆã€‚</p><p>æ‰¾äº†ä¸€åœˆï¼Œå¼€æºï¼Œä¸»æµï¼Œæ˜“ä¸Šæ‰‹çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆä¸»è¦æœ‰ä¸¤ç§ï¼šç‰©ç†æœº<code>Win</code>ç¯å¢ƒï¼Œç”¨<code>wsl</code>æˆ–è€…<code>VirtualBox</code>è·‘<code>CentOS</code>ï¼›å¦ä¸€ç§æ˜¯ç‰©ç†æœº<code>CentOS</code>ï¼Œç”¨<code>KVM</code>è™šæ‹Ÿ<code>Win</code>ä»¥åŠ<code>Linux</code>ã€‚å‰ä¸€ç§æ–¹æ¡ˆï¼Œåœ¨å•æœºä¸Šå°è¯•è¿‡ï¼Œ<code>wsl/wsl2</code>å„æœ‰ä¼˜åŠ£ï¼Œä¸€åˆ‡çœ‹å¾®è½¯å¤§çˆ·çœ¼è‰²è¡Œäº‹ï¼Œæ›´åŠ é€‚ç”¨äºä¸ªäººæˆ–å°ç»„ç ”ç©¶ï¼Œæ‰©å±•æ€§ä¸Šä¼°è®¡ä¸€å †å‘ï¼Œæ‰€ä»¥ç»•è¿‡ï¼Œè€ƒè™‘åœ¨<code>Linux</code>ä¸‹ç”¨<code>KVM</code>çš„<a target="_blank" rel="noopener" href="https://www.redhat.com/zh/topics/virtualization/what-is-KVM">è§£å†³æ–¹æ¡ˆ</a>ã€‚</p><p>å•æœºä¸Šæ¶è®¾å¤šä¸ªVMï¼Œä½¿ç”¨<code>virt-manager</code>å¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œç®¡ç†ï¼Œå¯¹äºé›†ç¾¤<code>KVM</code>ç®¡ç†ï¼Œå¸¸ç”¨çš„æ˜¯<code>Proxmox</code>å’Œ<code>WebVirtMgr</code>ï¼Œéƒ½æ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹ã€‚ä½†çœ‹ç€<code>Proxmox</code>å®˜ç½‘æ›´åŠ ç‚«é…·ï¼Œå®‰è£…æ–¹ä¾¿ï¼Œé›†ç¾¤ç»´æŠ¤ã€VMè¿ç§»ç­‰åŠŸèƒ½é½å¤‡ï¼Œè€Œä¸”ç½‘ä¸Šä¿å§†æ•™ç¨‹ä¸€å¤§å †ï¼Œç”¨<code>Ventory</code>è¿˜èƒ½è‡ªåŠ¨éƒ¨ç½²ï¼Œå°±é€‰å®ƒäº†ã€‚</p><hr><blockquote><p>ä»¥ä¸Šéƒ½æ˜¯åŠ¨æ‰‹å‰çš„ç¾å¥½è®¾æƒ³ã€‚</p></blockquote><h1 id="æ‰å‘"><a href="#æ‰å‘" class="headerlink" title="æ‰å‘"></a>æ‰å‘</h1><h2 id="ç¡¬ä»¶é…ç½®"><a href="#ç¡¬ä»¶é…ç½®" class="headerlink" title="ç¡¬ä»¶é…ç½®"></a>ç¡¬ä»¶é…ç½®</h2><p>ä¸‰å°é…ç½®ç›¸åŒï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p><table><thead><tr><th align="center">Part</th><th align="center">Model</th></tr></thead><tbody><tr><td align="center">CPU</td><td align="center">Tiger Lake i7-11700 8c16t 2.5-4.9GHz</td></tr><tr><td align="center">GPU</td><td align="center">IntelÂ® UHD Graphics 750</td></tr><tr><td align="center">Memory</td><td align="center">16*2 3600MHz</td></tr><tr><td align="center">Motherboard</td><td align="center">B560m</td></tr><tr><td align="center">Ethernet</td><td align="center">RTL8125B</td></tr><tr><td align="center">SSD</td><td align="center">M.2 500g</td></tr><tr><td align="center">HDD</td><td align="center">5400RPM 2T</td></tr></tbody></table><p>è£…æœºå°±å¼€å§‹å‘äº†ï¼ŒCPUé£æ‰‡æ–¹å‘è£…åï¼Œæ‹†äº†è£…è£…äº†æ‹†===å¥½æ­¹æ˜¯å¼€æœºäº®ç¯æ²¡é—®é¢˜ã€‚å…ˆè£…äº†ä¸ªWinåšç¨³å®šæ€§æµ‹è¯•ï¼ŒFS140é£å†·å‹ä¸å¸¦kçš„i7è¿˜æ˜¯æ²¡é—®é¢˜ï¼Œä¸è¿‡åå¤æ‹†è£…å¯èƒ½å¯¼è‡´ä¸€ä¸ªç¡…è„‚æ²¡æ¶‚å¥½ï¼Œä¸¤å°åŒçƒ¤å·®äº†5â„ƒï¼Œæˆ‘éƒ½æ€•æ²¡æ’•è†œç›´æ¥æ€¼ä¸Šäº†ã€‚B560ä¸»æ¿æ”¯æŒå†…å­˜è¶…é¢‘ï¼Œé•å…‰C9BJZé¢—ç²’XMPä¸Š3600<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/369653535">è½»æ¾å®¹æ˜“</a>ï¼Œå°±æ˜¯3600å†å¾€ä¸Šï¼Œ<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1AM4y157ut">å†…å­˜åˆ†é¢‘</a>ä»£ä»·å¤ªå¤§ï¼Œå°±ä¸æŠ˜è…¾äº†ã€‚</p><h2 id="Proxmoxå®‰è£…"><a href="#Proxmoxå®‰è£…" class="headerlink" title="Proxmoxå®‰è£…"></a>Proxmoxå®‰è£…</h2><p>Proxmox VEæœ€æ–°7.0ç‰ˆæœ¬æ˜¯åŸºäºDebian 11ï¼Œå®‰è£…æ–¹å¼æä¾›isoç›´è£…ï¼Œæ‰¹é‡éƒ¨ç½²æ¨èä½¿ç”¨Ventoryï¼ˆçœŸæ˜¯è£…æœºç¥å™¨ï¼Œisoä¸€æ”¾ï¼Œè„šæœ¬ä¸€é…ç½®å°±å¯ä»¥å–èŒ¶å»äº†ï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨è¿™ä¸ªå®¶ç”¨æœºå¹³å°ï¼Œå®‰è£…å‡ºé—®é¢˜äº†ğŸ˜­ã€‚</p><p>7.0é•œåƒå¯åŠ¨ï¼Œè¿›å…¥Booté€‰æ‹©ï¼Œè‡ªæ£€è¿‡åï¼Œåœ¨Debianä¸­èµ°åˆ°<br><code>starting a root shell on tty3</code>æ—¶å€™ç›´æ¥å¡ä½ï¼Œä¸¤çœ¼ä¸€æŠ¹é»‘ï¼Œè¿å·¦ä¸Šè§’å¡ä½å…‰æ ‡çš„æœºä¼šéƒ½æ²¡æœ‰===</p><p>æ‰¾å„ç§èµ„æ–™åï¼Œå‘ç°ä¹Ÿæœ‰è¿™ä¸ªæ–°å¹³å°ï¼ˆz590 + 11700ï¼‰å‡º<a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/stuck-on-root-shell-on-tty3.86956/">é—®é¢˜</a>ï¼Œå°è¯•é‡Œé¢çš„è§£å†³æ–¹æ³•</p><h3 id="ä¿®æ”¹xorgé…ç½®"><a href="#ä¿®æ”¹xorgé…ç½®" class="headerlink" title="ä¿®æ”¹xorgé…ç½®"></a>ä¿®æ”¹xorgé…ç½®</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">$ chmod 1777 &#x2F;tmp  
$ apt update
$ apt upgrade
$ Xorg -configure  
$ mv &#x2F;xorg.conf.new &#x2F;etc&#x2F;X11&#x2F;xorg.conf
$ vim &#x2F;etc&#x2F;X11&#x2F;xorg.conf # update Driver &quot;amdgpu&quot;-&gt; &quot;fbdev&quot; &lt;-be sure to get all instances in the case of a multi-head card which tripped me up initially.
$ startx
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>ä¸€ç•ªæŠ˜è…¾åæ€»ç®—çœ‹åˆ°å®‰è£…ç•Œé¢ï¼Œä½†æ˜¯ä¸Šé¢åªæœ‰å‡ ä¸ªå¤§å­—<br><strong><code>No Network Interface Found</code></strong><br>äº‹æƒ…å˜å¾—å¾®å¦™èµ·æ¥ï¼Œæ–°å¹³å°å‡ºé—®é¢˜ï¼Œå¤§æ¦‚ç‡æ˜¯é©±åŠ¨è·Ÿä¸ä¸Šã€‚æ—¢ç„¶æ˜¯ç½‘ç»œé—®é¢˜ï¼Œäºæ˜¯å¸¦ä¸Šç½‘å¡å…³é”®è¯<a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/no-network-interface-found-for-rtl8125b.72378/">No Network Interface Found for RTL8125B</a>ï¼Œæ€è·¯è±ç„¶å¼€æœ—ã€‚<br>å…¶ä¸­æœ‰äººé€šè¿‡ä¸€ä¸ªå¤æ‚çš„ç½‘å¡é©±åŠ¨å®‰è£…è§£å†³äº†ã€‚</p><h3 id="å®‰è£…ç½‘å¡é©±åŠ¨"><a href="#å®‰è£…ç½‘å¡é©±åŠ¨" class="headerlink" title="å®‰è£…ç½‘å¡é©±åŠ¨"></a>å®‰è£…ç½‘å¡é©±åŠ¨</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">1) 1 usb with proxmox, 1 usb with driver package
2) Boot into proxmox installer and Select debug mode installation
3)Press ctrl+d once for it to proceed
4)plug in android phone after enabling usb tether on the phone
5)type in â€˜ ip addr show â€˜ And note down the interface name for the usb tether, mine was enp0s something something
6) type in â€˜ ip link set enp0s upâ€™ #replace enp0s with your own interface name
7) type in dhclient enp0s #replace enp0s with your own interface name
8) test connectivity by using ping, â€˜ping 1.1.1.1â€™
9) &#39;apt update&#39;
10)install pve-header apt install pve-headers-$(uname -r)
11) cd into a directory to make the second usb mount&#x3D; &#39;cd &#x2F;media&#39;
12) â€˜mkdir usbâ€™
13) use blkid to find the correct &#x2F;dev&#x2F;sd** name for your usb, (mine was sda1)
14) â€˜mount &#x2F;dev&#x2F;sda1 &#x2F;media&#x2F;usb&#x2F;â€˜
15) cd &#x2F;media&#x2F;usb
16)â€™lsâ€™ #to find names
17) my tmp folder was restricted and apt couldn&#39;t use it, i had to &#39;chmod 1777 &#x2F;tmp&#39; to make it open again
18) &#39;apt install build-essential&#39;
19) extract r8125-9.003.05.tar if not already done so, &#39;tar -xvf r8125-9.003.05.tar&#39;
20) cd into r8125-9.003.05 folder and execute the script autorun.sh&#x3D; &#39;chmod +x autorun.sh&#39; and &#39;.&#x2F;autorun.sh&#39;
21) now you can unplug the usb tether, repeat steps 5-8 to check if your Ethernet connection works.
22) now you can do what they ask the ctrl+D again(?) to go back into normal mode and it&#39;ll find your network interface and you can proceed normally.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>å…¶å®é©±åŠ¨é—®é¢˜å¤§éƒ¨åˆ†è¿˜æ˜¯kernelé—®é¢˜ï¼ŒæŸ¥é˜…å‘ç°<code>Linux kernel</code>å¯¹<code>RTL8125B</code>ç½‘å¡æ”¯æŒåœ¨<a target="_blank" rel="noopener" href="https://linuxreviews.org/Realtek_RTL_8125">5.9</a>å°±å·²ç»å®ç°äº†å•Šã€‚Debian 11å’‹ä¹Ÿæ˜¯è¿™ä¹‹ä¸Šäº†ï¼Œæ— è§£ã€‚</p><p>å¯èƒ½ç‚¹èƒŒï¼Œä¸Šé¢é‚£ä¸€ä¸²æ­¥éª¤æ‰§è¡Œäº†ï¼Œè¿˜æ˜¯æ²¡ååº”ã€‚ï¼ˆè¿™ä¸ªåé¢å†è¯•è¯•ï¼Œä¼°è®¡æ˜¯é‚£å¤©å¤ªç´¯äº†ğŸ¤£ï¼‰</p><p>ç„¶åå‘ç°ä¸€å †äººç”¨ç€è¿™ä¸ªç½‘å¡ï¼ŒProxmoxè¿˜æ˜¯6.4çš„éƒ½æå®šäº†ï¼Œä»–ä»¬åšçš„å°±æ˜¯å‡çº§å†…æ ¸åˆ°5.11ã€‚<a target="_blank" rel="noopener" href="https://forum.proxmox.com/threads/realtek-rtl-8125b.86747/">[SOLVED] Realtek RTL 8125B</a></p><p>å½“ç„¶ï¼Œç»ˆæå¤§æ€å™¨å°±æ˜¯<a target="_blank" rel="noopener" href="https://pve.proxmox.com/wiki/Install_Proxmox_VE_on_Debian_Buster">Install Proxmox VE on Debian Buster</a></p><h3 id="å…ˆå®‰è£…Debianå†è£…Proxmox"><a href="#å…ˆå®‰è£…Debianå†è£…Proxmox" class="headerlink" title="å…ˆå®‰è£…Debianå†è£…Proxmox"></a>å…ˆå®‰è£…Debianå†è£…Proxmox</h3><p>è¿™ä¸ªåé¢æœ‰ç©ºå†æŠ˜è…¾ï¼Œä¼°è®¡åˆæ˜¯ä¸€å †å†…æ ¸ï¼Œé©±åŠ¨å‡çº§ã€‚<br>å¥½åœ¨GitHubä¸Šæœ‰äººæ”¾å‡ºæ¥äº†åŸºäºDebianå‘è¡Œç‰ˆçš„<a target="_blank" rel="noopener" href="https://github.com/tubaxiaosiji/RTL8125-Driver-for-Proxmox-VE5-6-and-debian">è§£å†³æ–¹æ¡ˆ</a>ï¼Œåé¢æœ‰æœºä¼šæŠ„ä½œä¸šã€‚</p><h1 id="çˆ¬å‘"><a href="#çˆ¬å‘" class="headerlink" title="çˆ¬å‘"></a>çˆ¬å‘</h1><p>æŠ˜è…¾äº†å¥½ä¹…è¿˜æ²¡æˆæ•ˆï¼Œæœ¬ç€é€€ä¸€æ­¥æµ·é˜”å¤©ç©ºğŸŒçš„æƒ³æ³•ï¼Œæš‚æ—¶æ”¾å¼ƒProxmoxğŸ¤·â€â™‚ï¸ï¼Œå°±å…ˆè£…CentOSç”¨ç€ï¼Œåé¢ProxmoxæŠ˜è…¾æ˜ç™½äº†å†åšå•æœºVMå‘é›†ç¾¤è¿ç§»ä¹Ÿè¡Œã€‚</p><p>åœ¨å›¢é˜Ÿå¤§ä½¬çš„ç‚¹é†’ä¸‹ï¼Œé€€åŒ–åˆ°ä¸­çº§ç©æ³•ï¼ˆå®šä¹‰æ¥è‡ª<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/49118355">æ­¤æ–‡</a>ï¼‰è¯•è¯•ğŸ‘¨â€ğŸš€ã€‚</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">é‚£ä¹ˆ KVM + Libvirtd æœ‰å‡ ç§ä¸åŒå±‚æ¬¡çš„ç©æ³•ï¼š

åˆçº§ï¼šåœ¨ &#x2F;etc&#x2F;libvirtd&#x2F;qemu ä¸‹é¢ç”¨ xml æè¿°æ¯ä¸€å°è™šæ‹Ÿæœºçš„é…ç½®ï¼Œ
    ç„¶åç”¨ virsh åœ¨å‘½ä»¤è¡Œç®¡ç†è™šæ‹Ÿæœºï¼Œ
    æœ€åç”¨ VNC&#x2F;SPICE æŒ‰ç…§é…ç½®å¥½çš„ç«¯å£é“¾æ¥è¿‡å»ï¼Œæ¨¡æ‹Ÿç»ˆç«¯æ“ä½œã€‚
ä¸­çº§ï¼šä½¿ç”¨å„ç§ libvirtd çš„å‰ç«¯ï¼Œæ¯”å¦‚åŸºäºæ¡Œé¢ GUI çš„ Virt Manager ç»™ä½ ç•Œé¢ä¸Šç›´æ¥ç¼–è¾‘å’Œç®¡ç†è™šæ‹Ÿæœºï¼Œ
    æ¡Œé¢ç‰ˆæœ¬çš„ VNC&#x2F;SPICE ä¼šè‡ªåŠ¨å¼¹å‡ºæ¥ï¼Œåƒ VmWare ä¸€æ ·æ“ä½œã€‚
é«˜çº§ï¼šä½¿ç”¨åŸºäº Web çš„å„ç§ virt manager è¿›è¡Œé›†ç¾¤ç®¡ç†ï¼Œ
    æ¯”å¦‚è½»é‡çº§çš„ WebVirtMgr &#x2F; Kimchiï¼Œ
    é€‚åˆå°ç™½çš„ Proxmox VEã€‚åŸºæœ¬æ˜¯ç”¨ WebVnc&#x2F;Web
è¶…çº§ï¼šä¸Šé‡é‡çº§çš„ OpenStackï¼Œ
    æ­é…è‡ªå·±åŸºäº libvirt ï¼ˆlibvirtd çš„å®¢æˆ·ç«¯åº“ï¼Œæ¯”å¦‚æœ‰ python-libvirt çš„å°è£…ï¼‰å†™çš„å„ç§è‡ªåŠ¨åŒ–è„šæœ¬ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="CentOS-KVMé…ç½®"><a href="#CentOS-KVMé…ç½®" class="headerlink" title="CentOS KVMé…ç½®"></a>CentOS KVMé…ç½®</h2><p>å®éªŒåœ¨CentOSä¸­é…ç½®ä¸€å°WinServerè™šæ‹Ÿæœºã€‚<br>é¦–å…ˆåœ¨BIOSä¸­æ‰“å¼€è™šæ‹ŸåŒ–ã€‚</p><h3 id="å®‰è£…å¿…è¦åŒ…"><a href="#å®‰è£…å¿…è¦åŒ…" class="headerlink" title="å®‰è£…å¿…è¦åŒ…"></a>å®‰è£…å¿…è¦åŒ…</h3><p>CentOS8ä¸­è‡ªå¸¦äº†QEMU/KVMæ”¯æŒ<br>å‚è€ƒ<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="How to Install KVM on CentOS 8
">[1]</span></a></sup><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="How to Install KVM on CentOS/RHEL 8
">[2]</span></a></sup></p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">yum groupinstall &quot;Virtualization Host&quot;
sudo systemctl enable --now libvirtd
sudo yum -y install virt-top libguestfs-tools<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>å¯ä»¥é€‰æ‹©ä»¥ä¸¤ç§ç›´è§‚çš„å¯è§†åŒ–ç•Œé¢è¿›è¡Œé…ç½®ã€‚</p><p>GUIç®¡ç†å·¥å…·</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo yum -y install virt-manager<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>Cockpit Web Consoleç®¡ç†å·¥å…·</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">dnf install cockpit cockpit-machines
systemctl start cockpit.socket
systemctl enable cockpit.socket
systemctl status cockpit.socket
firewall-cmd --add-service&#x3D;cockpit --permanent
firewall-cmd --reload<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="é…ç½®æ¡¥æ¥ç½‘ç»œ"><a href="#é…ç½®æ¡¥æ¥ç½‘ç»œ" class="headerlink" title="é…ç½®æ¡¥æ¥ç½‘ç»œ"></a>é…ç½®æ¡¥æ¥ç½‘ç»œ</h3><p>ä¸ºäº†æ–¹ä¾¿è™šæ‹Ÿæœºå¤–ç½‘è¿é€šè®¿é—®ï¼Œéœ€è¦æ¶è®¾ç½‘æ¡¥ã€‚æ­¤å¤„éœ€è¦ç‰©ç†ç½‘å£æ”¯æŒï¼ŒWifiç½‘å¡é…ç½®å­˜åœ¨é—®é¢˜ã€‚<br>å…³äºBridgeå’ŒNATæ¨¡å¼åŒºåˆ«ï¼Œå¯å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.virtualbox.org/manual/ch06.html#networkingmodes">Virtual Networking</a>å’Œ<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ed0ce43374e6">ç½‘ç»œé…ç½®Bridgeæ–¹å¼ã€NATæ–¹å¼</a></p><p>CentOS8 ä½¿ç”¨nmcliå‘½ä»¤è¿›è¡Œç½‘ç»œé…ç½®</p><ol><li><p>æŸ¥çœ‹å½“å‰è¿æ¥</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli connection<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>è®°å½•ethernetçš„device æ ‡è¯†</p></li><li><p>æ–°å»ºåä¸ºbr0çš„ç½‘æ¡¥</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli connection add type bridge con-name br0 ifname br0 autoconnect yes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>ç¼–è¾‘ç½‘æ¡¥ï¼Œè®¾ç½®é™æ€IPåŠç½‘å…³</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli conn modify br0 ipv4.addresses &#39;192.168.0.x&#x2F;24&#39;
nmcli conn modify br0 ipv4.gateway &#39;192.168.0.1&#39;
nmcli conn modify br0 ipv4.dns &#39;192.168.0.1&#39;
nmcli conn modify br0 ipv4.method manual<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><p>æˆ–è€…ç¼–è¾‘æ–‡ä»¶</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">vim &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-br0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>ä¿®æ”¹</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">IPADDR&#x3D;192.168.0.x
PREFIX&#x3D;24
GATEWAY&#x3D;192.168.0.1
DNS1&#x3D;192.168.0.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>ç½‘æ¡¥è¿æ¥è‡³ç‰©ç†ç½‘å¡<br>å‡è®¾ç‰©ç†ç½‘å¡ device æ ‡è¯†ä¸º enp3s0</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli connection add type bridge-slave ifname enp3s0 master br0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å¯åŠ¨ç½‘æ¡¥</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli connection up br0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>å…³é—­ç‰©ç†ç½‘å¡</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">nmcli connection down enp3s0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å†æ¬¡æŸ¥çœ‹è¿æ¥çŠ¶æ€ï¼Œæˆ–è€…pingä¸€ä¸‹ç™¾åº¦ğŸ«“ï¼Œç¡®è®¤è”ç½‘æˆåŠŸã€‚</p></li></ol><h3 id="Windowsé•œåƒå®‰è£…"><a href="#Windowsé•œåƒå®‰è£…" class="headerlink" title="Windowsé•œåƒå®‰è£…"></a>Windowsé•œåƒå®‰è£…</h3><p>åˆç†åˆæ³•è·å–ISOæ–‡ä»¶ğŸ‘®ğŸš”ã€‚</p><p>ä½¿ç”¨ä¹‹å‰å®‰è£…çš„<code>virt-manager</code>å·¥å…·<br><img src="https://phoenixnap.com/kb/wp-content/uploads/2021/04/2020-11-03_13-19-09.png" srcset="/img/loading.gif" lazyload><br>æˆ–è€…é€šè¿‡<code>Cockpit</code>å®‰è£…ã€‚<br><img src="https://www.tecmint.com/wp-content/uploads/2020/03/Create-New-Virtual-Machine.png" srcset="/img/loading.gif" lazyload></p><p>è¯¦ç»†é…ç½®å‚è€ƒ<a target="_blank" rel="noopener" href="https://getlabsdone.com/install-windows-server-on-kvm/">10 Easy Steps To Install Windows Server in Linux KVM</a>ï¼Œæ–‡ç« æ­¥éª¤æä¸ºæ¸…æ™°ã€‚è¦æ³¨æ„çš„åœ°æ–¹æœ‰ä¸‰ä¸ªï¼š</p><ol><li><p>CPUè®¾ç½®ï¼Œä¸€å®šè¦æŒ‡å®šæ‹“æ‰‘ç»“æ„ï¼Œè®¾ç½®ä¸å½“ä¼šå½±å“æ€§èƒ½<a target="_blank" rel="noopener" href="https://getlabsdone.com/install-windows-server-on-kvm/#Configure-the-CPU-for-the-KVM-windows-guest">Configure the CPU for the KVM windows guest properly.</a>ã€‚å…³äºè¿™äº›å‚æ•°å¦‚ä½•è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒ<a target="_blank" rel="noopener" href="https://www.cnblogs.com/GyForever1004/p/13600183.html">ã€è¿›ç¨‹è°ƒåº¦ã€‘å…³äºCPUçš„socketsã€diesã€coresã€threadså«ä¹‰ç†è§£</a>ã€‚</p></li><li><p>ç¡¬ç›˜ä¸€å®šé€‰æ‹©VirtIOå½¢å¼ï¼Œæ¯”SATAæ€§èƒ½æ›´å¥½ï¼Œç”šè‡³æ¥è¿‘ç‰©ç†æœºæ°´å¹³<a target="_blank" rel="noopener" href="https://getlabsdone.com/install-windows-server-on-kvm/#No-windows-harddisk-in-kvm">No windows harddisk in KVM ?, fix that now.</a>ï¼›æ­¤å¤„æ³¨æ„çš„åŸå› æ˜¯ï¼Œä¸€æ—¦ç”¨SATAæ¨¡å¼å®‰è£…åï¼Œå†åˆ‡æ¢å›VirtIOæ¨¡å¼ï¼ŒWindowsä¼šæ˜¾ç¤º<code>INACCESSIBLE_BOOT_DEVICE</code>å¹¶BSODï¼Œåç»­åˆ‡æ¢ä¼šå¾ˆè´¹åŠ²ã€‚</p></li><li><p>VirtIOé©±åŠ¨å¾ˆé‡è¦ï¼Œä¸èƒ½é—æ¼ä¸‹è½½ã€‚</p></li></ol><h3 id="ç‰©ç†æœºè¿ç§»åˆ°KVM"><a href="#ç‰©ç†æœºè¿ç§»åˆ°KVM" class="headerlink" title="ç‰©ç†æœºè¿ç§»åˆ°KVM"></a>ç‰©ç†æœºè¿ç§»åˆ°KVM</h3><p>å®‰è£…å¥½è™šæ‹Ÿæœºä¹‹åï¼Œéœ€è¦æŠŠåŸå…ˆç‰©ç†æœºä¸Šçš„ç³»ç»ŸåŸå°æ¬è¿‡æ¥ã€‚æˆ‘ä½¿ç”¨<a target="_blank" rel="noopener" href="https://www.disktool.cn/backup/backup-software.html">å‚²æ¢…è½»æ¾å¤‡ä»½</a>å·¥å…·</p><ol><li>åœ¨åŸæœºå™¨ä¸Šè¿›è¡Œç³»ç»Ÿå¤‡ä»½ï¼Œå°†å¤‡ä»½å¯¼å…¥ç§»åŠ¨ç¡¬ç›˜</li><li>åœ¨å·¥å…·é‡Œåˆ›å»ºPEï¼Œé€‰æ‹©Windowsç‰ˆï¼Œåˆ›å»ºè¿‡ç¨‹è¿™ä¼šæ‰“åŒ…VirtIOé©±åŠ¨ï¼Œç”Ÿæˆçš„ampe.isoé€šè¿‡scpä¼ è¾“åˆ°å®¿ä¸»æœºä¸Š</li><li>å…³é—­è™šæ‹Ÿæœºï¼Œæ·»åŠ ç¡¬ä»¶ï¼ŒæŒ‚è½½å¤‡ä»½ç¡¬ç›˜ï¼Œampe.isoï¼ŒVirtIOé©±åŠ¨isoã€‚è®¾ç½®ampe.isoä¸ºå¯åŠ¨é¡¹</li><li>è¿›å…¥æ¢å¤ç¨‹åºï¼Œé€‰æ‹©å¤‡ä»½ï¼Œè¿›è¡Œå…¨ç›˜æ¢å¤</li><li>é‡å¯è™šæ‹Ÿæœºï¼Œå¸é™¤æŒ‚è½½ï¼Œè®¾ç½®ä¸»ç¡¬ç›˜ä¸ºå¼•å¯¼é¡¹</li><li>è®¾ç½®å®¿ä¸»æœºå¼•å¯¼æ—¶ï¼Œè™šæ‹ŸæœºåŒæ­¥å¯åŠ¨</li></ol><h3 id="KVMè¿ç§»"><a href="#KVMè¿ç§»" class="headerlink" title="KVMè¿ç§»"></a>KVMè¿ç§»</h3><p>å°†ç‰©ç†æœºè¿ç§»åˆ°KVMä¸Šä¹‹åï¼ŒKVMä¹Ÿæä¾›ä¸åŒç‰©ç†æœºä¹‹é—´çš„VMè¿ç§»ï¼Œç›¸å½“äºé›†ç¾¤é—´è™šæ‹Ÿæœºç§»åŠ¨ï¼ŒKVMè¿ç§»æœ‰å†·çƒ­ä¸¤ç§ã€‚ç”±äºçƒ­è¿ç§»éœ€è¦è®¾ç½®NFSå…±äº«ç›˜ï¼Œè¿˜æ²¡åšæµ‹è¯•ï¼Œç›®å‰é€šè¿‡å†·è¿ç§»å®Œæˆäº†ä¸€ä¸ªè™šæ‹Ÿæœºçš„ç§»åŠ¨ã€‚<br>é¦–å…ˆç¡®ä¿ç›®æ ‡å®¿ä¸»æœºé…ç½®å¥½äº†KVMç¯å¢ƒå’Œç½‘ç»œã€‚</p><h4 id="å†·è¿ç§»"><a href="#å†·è¿ç§»" class="headerlink" title="å†·è¿ç§»"></a>å†·è¿ç§»</h4><p>å…³æœº</p><ol><li>é€šè¿‡scpæŠŠè™šæ‹Ÿæœºæ‰€æœ‰qcow2é•œåƒæ–‡ä»¶ä¼ è¾“åˆ°ç›®æ ‡å®¿ä¸»æœº</li><li>æŠŠæ­¤æœºå™¨é…ç½®xmlæ–‡ä»¶ä¼ è¾“åˆ°ç›®æ ‡ï¼Œæ–‡ä»¶ä½ç½®åœ¨<code>/etc/libvirt/qemu/</code><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">scp -rp &#x2F;data&#x2F;win01.qcow2 root@172.168.0.x:&#x2F;data
scp -rp &#x2F;etc&#x2F;libvirt&#x2F;qemu&#x2F;cwin01.xml root@172.168.0.x:&#x2F;etc&#x2F;libvirt&#x2F;qemu&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li><li>ç›®æ ‡å®¿ä¸»æœºåˆ‡æ¢åˆ°xmlé…ç½®ç›®å½•<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">virsh define win01.xml 
virsh list --all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div>å¯ä»¥çœ‹åˆ°è™šæ‹Ÿæœºå·²ç»æ³¨å†Œ<br>æ­¤æ—¶å¯åŠ¨è™šæ‹Ÿæœºï¼Œå¯èƒ½ä¼šé‡åˆ°<a target="_blank" rel="noopener" href="https://www.pianshen.com/article/65991564217/">KVMä¸Šåˆ›å»ºè™šæ‹Ÿæœºå’Œæƒé™æœ‰å…³çš„æ•…éšœ</a>ã€‚<br>å»ºè®®åœ¨å¯åŠ¨å‰ï¼Œé…ç½®qcow2å­˜æ”¾ç›®å½•æƒé™<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">chown qemu:qemu &#x2F;data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><h4 id="çƒ­è¿ç§»"><a href="#çƒ­è¿ç§»" class="headerlink" title="çƒ­è¿ç§»"></a>çƒ­è¿ç§»</h4>æš‚æœªåšæµ‹è¯•ï¼Œç•™å‘ã€‚å‚è€ƒ<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="KVMè™šæ‹Ÿæœºè¿ç§»ï¼ˆå†·è¿ç§»ã€çƒ­è¿ç§»ï¼‰
">[3]</span></a></sup></li></ol><h3 id="KVMæ€§èƒ½ä¼˜åŒ–"><a href="#KVMæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="KVMæ€§èƒ½ä¼˜åŒ–"></a>KVMæ€§èƒ½ä¼˜åŒ–</h3><ol><li>å­˜å‚¨ä¸»è¦æ˜¯ç£ç›˜æ¨¡å¼ï¼ˆVirtIOï¼‰</li><li>CPUï¼šCPUè¾ƒæ–°çš„å‹å·KVMé‡Œæ²¡æœ‰æä¾›å¯¹åº”æ¨¡æ¿ï¼Œå› æ­¤åœ¨cpuå‹å·è®¾ç½®ä¸­æ‰‹åŠ¨è¾“å…¥<code>host-passthrough</code>å¯ä»¥å‘VMå…¬å¼€ä¸»æœºCPUçš„å…¨éƒ¨åŠŸèƒ½ï¼Œé»˜è®¤è®¾ç½®ä¸‹11700å¤„ç†åœ¨è™šæ‹Ÿæœºä¸­<code>cpuz</code>è‡ªåŠ¨è¯†åˆ«ä¸º10ä»£æœåŠ¡å™¨å¤„ç†å™¨ï¼Œä¸”é”å®šé¢‘ç‡ä¸ºåŸºé¢‘ã€‚è®¾ç½®ç›´é€šåï¼Œå¯ä»¥è¯†åˆ«ä¸ºæ­£ç¡®å‹å·ï¼Œä¸”ç¿é¢‘ç”Ÿæ•ˆ<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="åœ¨virt-managerä¸­ä½¿ç”¨CPUå‹å·ä¸»æœºç›´é€š
">[4]</span></a></sup>ã€‚</li><li>æ˜¾ç¤ºæ€§èƒ½ï¼Œç”±äº11ä»£å¤„ç†å™¨é›†æˆæ˜¾å¡æœ‰è¾ƒå¤§å‡çº§ï¼ŒåæœŸå‡†å¤‡ç ”ç©¶ä¸€ä¸‹<code>Intel GVT-g</code>æ˜¾å¡ç›´é€šæŠ€æœ¯ï¼Œæå‡è™šæ‹Ÿæœºæ˜¾ç¤ºæ€§èƒ½ï¼Œè§†é¢‘å¯ä»¥çœ‹èµ·æ¥äº†ğŸ“º</li><li>æ˜¾ç¤ºæ¨¡å¼ï¼šç›®å‰é‡‡ç”¨QXLæ¨¡å¼ï¼Œé»˜è®¤16Mæ˜¾å­˜ï¼Œåœ¨é…ç½®xmlä¸­æ”¹é€ ä¸º128Mï¼Œé‡è½½é…ç½®ç”Ÿæ•ˆï¼Œç”±äºæ‰‹å¤´éƒ½æ˜¯1080pæ˜¾ç¤ºå™¨ï¼Œä¸çŸ¥é“æ˜¯å¦çœŸèƒ½æ”¯æŒ4K<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="qemu+spiceçš„QXLé…ç½®
">[5]</span></a></sup>ã€‚</li></ol><h2 id="WebVirtCloudç®¡ç†KVM"><a href="#WebVirtCloudç®¡ç†KVM" class="headerlink" title="WebVirtCloudç®¡ç†KVM"></a>WebVirtCloudç®¡ç†KVM</h2><p><a target="_blank" rel="noopener" href="http://retspen.github.io/">WebVirtMgr</a>æ˜¯ä¹‹å‰å¾ˆå¾ˆç«çš„çš„KVMè™šæ‹ŸåŒ–Webç®¡ç†å·¥å…·ï¼Œä½†GitHubä¸Šå¹´ä¹…å¤±ä¿®ï¼Œå¹¶ä¸”é€æ¸è¿ç§»åˆ°WebVirtCloudï¼Œå› æ­¤è€ƒè™‘éƒ¨ç½²WebVirtCloudç®¡ç†æœåŠ¡å™¨ç”¨æ¥å¯¹é›†ç¾¤è™šæ‹Ÿæœºè¿›è¡Œé›†ä¸­ç®¡ç†ã€‚</p><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><a target="_blank" rel="noopener" href="https://github.com/retspen/webvirtcloud">WebVirtCloud</a>åŸºäºPython 3.x &amp; Django 3.2 LTSæ„å»ºã€‚</p><p>ç‰¹æ€§åŒ…æ‹¬ï¼š</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">QEMU&#x2F;KVM Hypervisor Management
QEMU&#x2F;KVM Instance Management - Create, Delete, Update
Hypervisor &amp; Instance web based stats
Manage Multiple QEMU&#x2F;KVM Hypervisor
Manage Hypervisor Datastore pools
Manage Hypervisor Networks
Instance Console Access with Browsers
Libvirt API based web management UI
User Based Authorization and Authentication
User can add SSH public key to root in Instance (Tested only Ubuntu)
User can change root password in Instance (Tested only Ubuntu)
Supports cloud-init datasource interface<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><h4 id="åˆ›å»ºWebVirtCloudæœåŠ¡å™¨"><a href="#åˆ›å»ºWebVirtCloudæœåŠ¡å™¨" class="headerlink" title="åˆ›å»ºWebVirtCloudæœåŠ¡å™¨"></a>åˆ›å»ºWebVirtCloudæœåŠ¡å™¨</h4><p>ç”±äºWebVirtCloudéœ€è¦é…ç½®é»˜è®¤Nginxé…ç½®ï¼Œä¸”æ²¡æœ‰æä¾›Dockeréƒ¨ç½²æ–¹å¼ï¼Œå› æ­¤è€ƒè™‘å•å¼€ä¸€å°è™šæ‹Ÿæœºä½œä¸ºç®¡ç†æœåŠ¡å™¨ã€‚åˆ›å»ºCentOS8-GUIè™šæ‹Ÿæœºä¸€å°ã€‚é€‰æ‹©GUIç‰ˆï¼Œå¹¶é™„åŠ å®‰è£…è™šæ‹Ÿæœºç»„ä»¶ï¼Œä¸€äº›WebVirtCloudçš„ä¾èµ–åŒ…é™„å¸¦å®‰è£…äº†ï¼Œé…ç½®çš„æ—¶å€™æ¯”è¾ƒçœäº‹ã€‚</p><h4 id="WebVirtCloudå¿«é€Ÿå®‰è£…æ¨¡å¼"><a href="#WebVirtCloudå¿«é€Ÿå®‰è£…æ¨¡å¼" class="headerlink" title="WebVirtCloudå¿«é€Ÿå®‰è£…æ¨¡å¼"></a>WebVirtCloudå¿«é€Ÿå®‰è£…æ¨¡å¼</h4><ol><li>è¿›å…¥å¿«é€Ÿå®‰è£…<br>ç½‘å¥½<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;retspen&#x2F;webvirtcloud&#x2F;master&#x2F;install.sh
chmod 744 install.sh
# run with sudo or root user
.&#x2F;install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>ç½‘ä¸å¥½ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/retspen/webvirtcloud/archive/refs/heads/master.zip">ä¸‹è½½</a>åŒ…ï¼Œè§£å‹ï¼Œç„¶å<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">chmod 744 install.sh
# run with sudo or root user
.&#x2F;install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div></li><li>å¿«é€Ÿå®‰è£…æ¨¡å¼é‡Œé…ç½®ç«¯å£ï¼Œå»ºè®®é»˜è®¤ï¼ŒåæœŸå¯ä»¥é…ç½®ç«¯å£è½¬å‘<sup id="fnref:6" class="footnote-ref"><a href="#fn:6" rel="footnote"><span class="hint--top hint--rounded" aria-label="Install WebVirtCloud KVM Management on CentOS 8 / Stream 8
">[6]</span></a></sup>ã€‚<br>ä»¥ä¸‹æ˜¯é»˜è®¤é…ç½®å’Œéœ€è¦ç¡®è®¤çš„éƒ¨åˆ†<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">WEBVIRTCLOUD

  Welcome to Webvirtcloud Installer for CentOS, Fedora, Debian and Ubuntu!

  The installer has detected centos version 8.
  Q. Do you want to configure fqdn for Nginx? (y&#x2F;n) y

  Q. What is the FQDN of your server? (&#123;serverip_or_hostname&#125;):
     Setting to &#123;serverip_or_hostname&#125;

  Q. Do you want to change NOVNC service port number?(Default: 6080)
     Setting novnc service port 6080

  Q. Do you want to change NOVNC public port number for reverse proxy(e.g: 80 or 443)?(Default: 6080)
      Setting novnc public port 6080

  Q. Do you want to change NOVNC host listen ip?(Default: 0.0.0.0)
      Setting novnc host ip 0.0.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>ç¡®è®¤åä¼šè‡ªåŠ¨æ‰§è¡Œå®‰è£…ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œä¼šå‡ºç°<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">***Open http:&#x2F;&#x2F;&#123;hostname&#125; to login to webvirtcloud.***

* Cleaning up...
* Finished!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="æ·»åŠ WebvirtcloudæœåŠ¡å™¨å¯¹KVMå®¿ä¸»æœºçš„sshè®¿é—®"><a href="#æ·»åŠ WebvirtcloudæœåŠ¡å™¨å¯¹KVMå®¿ä¸»æœºçš„sshè®¿é—®" class="headerlink" title="æ·»åŠ WebvirtcloudæœåŠ¡å™¨å¯¹KVMå®¿ä¸»æœºçš„sshè®¿é—®"></a>æ·»åŠ WebvirtcloudæœåŠ¡å™¨å¯¹KVMå®¿ä¸»æœºçš„sshè®¿é—®</h4><ol><li>åœ¨WebvirtcloudæœåŠ¡å™¨ç«¯ï¼Œç”Ÿæˆssh key<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo -u nginx ssh-keygen
ls -lh &#x2F;var&#x2F;lib&#x2F;nginx&#x2F;.ssh&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li><li>ä¼ è¾“åˆ°KVMå®¿ä¸»æœº<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">sudo -u nginx ssh-copy-id root@compute1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li>æµ‹è¯•nginxç”¨æˆ·å¯¹KVMå®¿ä¸»æœºçš„è®¿é—®è¿æ¥<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">virsh --connect qemu+ssh:&#x2F;&#x2F;root@compute1&#x2F;system list --all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>å¦‚æœå¯ä»¥çœ‹åˆ°è™šæ‹Ÿæœºåˆ—è¡¨ï¼Œåˆ™è¡¨æ˜é…ç½®æˆåŠŸã€‚<br>æ¯æ¬¡æ–°å¢KVMå®¿ä¸»æœºèŠ‚ç‚¹ï¼ŒæŒ‰ä»¥ä¸Šæ­¥éª¤å®ç°ä¸€éå³å¯ã€‚</li></ol><h4 id="è®¿é—®Web-Dashboard"><a href="#è®¿é—®Web-Dashboard" class="headerlink" title="è®¿é—®Web Dashboard"></a>è®¿é—®Web Dashboard</h4><p>åœ¨http://{serverip_or_hostname}å¯è¿›å…¥ç®¡ç†ç™»å½•é¡µé¢ï¼Œé»˜è®¤admin/adminã€‚è¿›å…¥åå¯ä»¥ä¿®æ”¹å¯†ç ç­‰é…ç½®ã€‚</p><p>åœ¨è®¡ç®—èŠ‚ç‚¹ï¼ˆComputerï¼‰é¢æ¿ï¼Œæ·»åŠ sshè¿æ¥åˆ°å®¿ä¸»æœºã€‚FQDN/IP,Loginç­‰é¡¹ç›®æŒ‰ç…§åˆšæ‰é…ç½®çš„sshè®¿é—®é¡¹ç›®å¡«å†™å³å¯ã€‚<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/IT/KVM/hosts.png" srcset="/img/loading.gif" lazyload><br>æ·»åŠ åçŠ¶æ€æ˜¾ç¤ºæˆåŠŸå³å¯ï¼Œè¿”å›å®ä¾‹ï¼ˆInstanceï¼‰é¢æ¿å¯¹å®¿ä¸»æœºä¸‹æŒ‚è™šæ‹Ÿæœºè¿›è¡Œç®¡ç†ã€‚<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/IT/KVM/grouped.png" srcset="/img/loading.gif" lazyload><br>å®ä¾‹è¯¦æƒ…<br><img src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/IT/KVM/instance.png" srcset="/img/loading.gif" lazyload></p><h2 id="å†…ç½‘ç©¿é€Frp"><a href="#å†…ç½‘ç©¿é€Frp" class="headerlink" title="å†…ç½‘ç©¿é€Frp"></a>å†…ç½‘ç©¿é€Frp</h2><p>æœåŠ¡å™¨é…ç½®å¥½ï¼Œå¤–ç½‘å¦‚æœè¦è®¿é—®ï¼Œä¸”æ²¡æœ‰å›ºå®šIPï¼ˆå…¶å®æ˜¯ğŸ’´ä¸å¤Ÿï¼‰ï¼Œéœ€è¦å†…ç½‘ç©¿é€æ–¹æ¡ˆã€‚åº”æ€¥å¯ä»¥ä½¿ç”¨èŠ±ç”Ÿå£³çš„å…è´¹ç‰ˆï¼Œä½†æµé‡é€Ÿåº¦æœ‰é™ã€‚åˆšå¥½æœ‰å°é˜¿é‡Œäº‘ECSï¼Œå¯ä»¥ä½œä¸ºè·³æ¿ï¼Œè¿›è¡Œå†…ç½‘ç©¿é€ã€‚<br>é€‰ç”¨Frpæ–¹æ¡ˆè¿›è¡Œé…ç½®ã€‚</p><h3 id="Serverç«¯"><a href="#Serverç«¯" class="headerlink" title="Serverç«¯"></a>Serverç«¯</h3><p>é˜¿é‡Œäº‘æœåŠ¡å™¨ä½œä¸ºServer</p><ol><li><p>è·å–Frp</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">wget https:&#x2F;&#x2F;github.com&#x2F;fatedier&#x2F;frp&#x2F;releases&#x2F;download&#x2F;v0.32.1&#x2F;frp_0.32.1_linux_amd64.tar.gz
tar -zxvf  frp_0.32.1_linux_amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div></li><li><p>ç¼–è¾‘<code>frps.ini</code>æ–‡ä»¶<br>é…ç½®serverå’Œclienté€šè®¯ç«¯å£ï¼Œè¿™é‡Œè®¾ç½®ä¸º7000<br>é…ç½®frpæ§åˆ¶é¢æ¿ï¼Œå¯ä»¥ç›‘æ§ç«¯å£çŠ¶æ€</p><div class="code-wrapper"><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[common]</span>
<span class="token constant">bind_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7000</span>

<span class="token comment">#frp æ§åˆ¶é¢æ¿</span>
<span class="token constant">dashboard_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7500</span>

<span class="token comment"># dashboard ç”¨æˆ·åå¯†ç å¯é€‰ï¼Œé»˜è®¤éƒ½ä¸º admin</span>
<span class="token constant">dashboard_user</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span>
<span class="token constant">dashboard_pwd</span> <span class="token attr-value"><span class="token punctuation">=</span> admin</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>é…ç½®æœåŠ¡è‡ªå¯åŠ¨</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">vi &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;frps.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>å†…å®¹ä¸º</p><div class="code-wrapper"><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[Unit]</span>
<span class="token constant">Description</span><span class="token attr-value"><span class="token punctuation">=</span>frps</span>
<span class="token constant">After</span><span class="token attr-value"><span class="token punctuation">=</span>network.target</span>

<span class="token selector">[Service]</span>
<span class="token constant">ExecStart</span><span class="token attr-value"><span class="token punctuation">=</span>/root/frp_0.32.1_linux_amd64/frps -c /root/frp_0.32.1_linux_amd64/frps.ini </span>

<span class="token selector">[Install]</span>
<span class="token constant">WantedBy</span><span class="token attr-value"><span class="token punctuation">=</span>multi-user.target</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none"># å¯åŠ¨æµ‹è¯•
systemctl start frps.service
# æŸ¥çœ‹å¯åŠ¨çŠ¶æ€
systemctl status frps.service
# å¼€æœºè‡ªå¯
systemctl enable frps.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>é…ç½®ä¹‹åï¼Œéœ€è¦åœ¨ECSæ§åˆ¶å°è§„åˆ™é‡Œæ”¾è¡Œé€šè®¯ç«¯å£ä»¥åŠéœ€è¦æ˜ å°„å‡ºå»çš„ç«¯å£ã€‚</p></li></ol><h3 id="Clientç«¯"><a href="#Clientç«¯" class="headerlink" title="Clientç«¯"></a>Clientç«¯</h3><p>åœ¨éœ€è¦ä½¿ç”¨Frpçš„æœºå™¨ä¸Šè¿›è¡Œé…ç½®</p><ol><li>ä¸‹è½½Frp</li><li>ç¼–è¾‘<code>frpc.ini</code><div class="code-wrapper"><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[common]</span>
<span class="token constant">server_addr</span> <span class="token attr-value"><span class="token punctuation">=</span> X.X.X.X # å¡«è‡ªå·±æœåŠ¡å™¨ç«¯çš„IPåœ°å€æˆ–è€…åŸŸå</span>
<span class="token constant">server_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 7000 # æœåŠ¡å™¨ç«¯å£ï¼Œè·Ÿserverç«¯å¯¹åº”</span>

<span class="token selector">[ssh]</span>  #åœ¨ä¸€ä¸ªserverä½“ç³»ä¸‹ï¼Œæ­¤å¤„åç§°ä¸èƒ½å†²çª
<span class="token constant">type</span> <span class="token attr-value"><span class="token punctuation">=</span> tcp</span>
<span class="token constant">local_ip</span> <span class="token attr-value"><span class="token punctuation">=</span> 127.0.0.1 </span>
<span class="token constant">local_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 22</span>
<span class="token constant">remote_port</span> <span class="token attr-value"><span class="token punctuation">=</span> 6000 </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li>windowsä¸‹è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡ï¼Œä¿è¯è‡ªå¯åŠ¨<br>ç”¨winswå°†frpæ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡<br>ä¸‹è½½ï¼š<a target="_blank" rel="noopener" href="https://github.com/kohsuke/winsw/releases">https://github.com/kohsuke/winsw/releases</a><br>æ”¹åä¸ºwinsw.exeï¼Œæ”¾å…¥frpç›®å½•<br>åœ¨æ­¤ç›®å½•ä¸‹ï¼Œæ–°å»º<code>utf8</code>ç¼–ç çš„xmlï¼Œå‘½å<code>winsw.xml</code>,å†…å®¹ä¸º<div class="code-wrapper"><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>service</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>frp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>frpè¿™é‡Œæ˜¯æœåŠ¡çš„åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">></span></span>è¿™é‡Œæ˜¯æœåŠ¡çš„ä»‹ç»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executable</span><span class="token punctuation">></span></span>frpc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executable</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arguments</span><span class="token punctuation">></span></span>-c frpc.ini<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>arguments</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>restart<span class="token punctuation">"</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>60 sec<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>onfailure</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>restart<span class="token punctuation">"</span></span> <span class="token attr-name">delay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>120 sec<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logmode</span><span class="token punctuation">></span></span>reset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logmode</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>service</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>åœ¨ç›®å½•é‡Œcmdè¿è¡Œ<div class="code-wrapper"><pre class="line-numbers language-cmd" data-language="cmd"><code class="language-cmd">winsw install
winsw start

# winsw stop
# winsw uninstall<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>åœ¨ç³»ç»ŸæœåŠ¡ä¸­å°±å¯ä»¥çœ‹åˆ°frpæœåŠ¡äº†</li></ol><h3 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h3><p>æ›´å¤šé«˜çº§è®¾ç½®å¯å‚è€ƒ<a target="_blank" rel="noopener" href="https://gofrp.org/docs/">æ–‡æ¡£</a>ã€‚å…¶å®ä¸»è¦å°±æ˜¯åœ¨ä¸¤ç«¯é…ç½®frpså’Œfrpcé…ç½®æ–‡ä»¶ã€‚</p><h1 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h1><p>æŠ˜è…¾ä¸€è·¯ä¸‹æ¥ï¼Œæœ€æ·±åˆ»çš„æ„Ÿå—å°±æ˜¯ï¼šé‡äº‹ä¸å†³å°±é‡å¯ã€‚<br>kill-&gt;restart-&gt;reboot-&gt;ğŸ¤¡</p><p>å®¶ç”¨å¹³å°æŠ˜è…¾äº†ä¸€åœˆï¼Œå‘ç°è™šæ‹ŸåŒ–æœ€å¥½çš„è§£å†³æ–¹æ¡ˆï¼šèŠ±é’±è®©ä¸“ä¸šçš„äººä¹°ä¸“ä¸šçš„æœåŠ¡å™¨ç»™ä½ å¼„ğŸ’´ğŸ’´ğŸ’´</p><p>å½“ç„¶ï¼Œè‡ªå·±æŠ˜è…¾ä¹å‘µä¹å‘µå°±è¡Œï¼Œè¦ä¸å®¹æ˜“ä¸Šå¤´ğŸ‘¨â€ğŸ¦²</p><h2 id="Acknowledgements"><a href="#Acknowledgements" class="headerlink" title="Acknowledgements"></a>Acknowledgements</h2><a href="https://gitee.com/hejiang" class="card-body hover-with-bg" target="_blank" rel="noopener"><div class="card-content"><div class="link-avatar my-auto"><img src="https://portrait.gitee.com/uploads/avatars/user/180/541417_hejiang_1579424599.png!avatar200" srcset="/img/loading.gif" lazyload alt="" onerror='this.onerror=null,this.srcset=null,this.src=""'></div><div class="link-text"><div class="link-title">hejiang</div><div class="link-intro"></div></div></div></a><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://phoenixnap.com/kb/install-kvm-centos">How to Install KVM on CentOS 8</a> <a href="#fnref:1" rev="footnote" class="footnote-backref">â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://www.tecmint.com/install-kvm-in-centos-8/">How to Install KVM on CentOS/RHEL 8</a> <a href="#fnref:2" rev="footnote" class="footnote-backref">â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://www.wanhebin.com/devops/kvm/893.html">KVMè™šæ‹Ÿæœºè¿ç§»ï¼ˆå†·è¿ç§»ã€çƒ­è¿ç§»ï¼‰</a> <a href="#fnref:3" rev="footnote" class="footnote-backref">â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://blog.csdn.net/allway2/article/details/102940533">åœ¨virt-managerä¸­ä½¿ç”¨CPUå‹å·ä¸»æœºç›´é€š</a> <a href="#fnref:4" rev="footnote" class="footnote-backref">â†©</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://www.icode9.com/content-4-960089.html">qemu+spiceçš„QXLé…ç½®</a> <a href="#fnref:5" rev="footnote" class="footnote-backref">â†©</a></span></span></li><li><span id="fn:6" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://computingforgeeks.com/install-webvirtcloud-kvm-management-on-centos/">Install WebVirtCloud KVM Management on CentOS 8 / Stream 8</a> <a href="#fnref:6" rev="footnote" class="footnote-backref">â†©</a></span></span></li></ol></div></section></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E8%99%9A%E6%8B%9F%E5%8C%96/">è™šæ‹ŸåŒ–</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/KVM/">KVM</a></div></div><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2021å¹´8æœˆ29æ—¥ å‡Œæ™¨</p><p class="note note-warning"><a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="https://mattblog.oss-cn-beijing.aliyuncs.com/img/ico/cc.png" srcset="/img/loading.gif" lazyload></a>æœ¬ä½œå“é‡‡ç”¨<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p><div class="post-prevnext"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/2021/07/23/%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90-%E5%9B%BD%E7%95%8C%E7%9C%81%E7%95%8C%E8%8E%B7%E5%8F%96/"><span class="hidden-mobile">ç©ºé—´åˆ†æ-å›½ç•Œçœç•Œè·å–</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><script>Fluid.utils.lazyComments("comments",function(){var t="github-light",e="github-dark",i="dark"===(i=document.documentElement.getAttribute("data-user-color-scheme"))?e:t;window.UtterancesThemeLight=t,window.UtterancesThemeDark=e;e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","MattZou/mattzou.github.io"),e.setAttribute("issue-term","title"),e.setAttribute("label","utterances"),e.setAttribute("theme",i),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="footer-content"><div><span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now=new Date;function createtime(){var n=new Date("02/26/2016 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="ğŸš€ &nbsp"+dnum+"&nbspå¤©",document.getElementById("times").innerHTML=hnum+"&nbspå°æ—¶&nbsp"+mnum+"&nbspåˆ†&nbsp"+snum+"&nbspç§’"}setInterval("createtime()",250)</script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡ </span><span id="busuanzi_container_site_uv" style="display:none">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script defer src="https://mattblog.oss-cn-beijing.aliyuncs.com/js/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t){(0,Fluid.plugins.typing)(t.getElementById("subtitle").title)}((window,document))</script><script src="/js/local-search.js"></script><script>$("#local-search-input").on("click",function(){searchFunc("/local-search.xml","local-search-input","local-search-result")}),$("#modalSearch").on("shown.bs.modal",function(){$("#local-search-input").focus()})</script><script src="/js/boot.js"></script></body></html>